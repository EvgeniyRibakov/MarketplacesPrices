# Конфигурация для парсера цен Wildberries и Ozon

# ============================================
# WILDBERRIES
# ============================================
# API ключи для 6 кабинетов WB
# Формат: WB_API_KEY_{CABINET_NAME}={api_key}

WB_API_KEY_MAU=your_api_key_here
WB_API_KEY_MAB=your_api_key_here
WB_API_KEY_MMA=your_api_key_here
WB_API_KEY_COSMO=your_api_key_here
WB_API_KEY_DREAMLAB=your_api_key_here
WB_API_KEY_BEAUTYLAB=your_api_key_here

# ID кабинетов WB
WB_CABINET_MAU_ID=53607
WB_CABINET_MAB_ID=121614
WB_CABINET_MMA_ID=174711
WB_CABINET_COSMO_ID=224650
WB_CABINET_DREAMLAB_ID=1140223
WB_CABINET_BEAUTYLAB_ID=4428365

# Cookies для обхода антибота WB (получаются автоматически из Chrome)
# Если автоматическое получение не работает, укажите вручную:
# WB_COOKIE_WBX_VALIDATION_KEY=your_value_here
# WB_COOKIE__CP=your_value_here
# WB_COOKIE_ROUTEB=your_value_here
# WB_COOKIE_X_WBAAS_TOKEN=your_value_here
# WB_COOKIE__WBAUID=your_value_here

# Параметры региона для WB
# ПВЗ (пункт выдачи заказов) - используется для определения цен и наличия товаров
# По умолчанию: ПВЗ на Никольской (г Москва, ул Никольская д. 7-9, стр. 4)
# dest=-1257786 соответствует этому ПВЗ
# Для изменения ПВЗ получите актуальные данные через:
# https://www.wildberries.ru/__internal/user-geo-data/get-geo-info?currency=RUB&latitude=55.756244&longitude=37.620805&locale=ru&address=...&dt=...&currentLocale=ru&b2bMode=false&addressId=50009552&addressType=self
WB_DEST=-1257786
WB_SPP=30

# ============================================
# OZON
# ============================================
# Ozon Seller API credentials
# Получить можно в личном кабинете продавца Ozon:
# Настройки → Seller API → Создать токен

# Client ID и API ключ для текущего парсера (обязательно)
OZON_CLIENT_ID=176640
OZON_API_KEY=your_ozon_api_key_here

# Продавец для парсинга
OZON_SELLER_ID_COSMO=176640
OZON_SELLER_NAME_COSMO=cosmo-beauty

# Прокси для обхода блокировок Ozon (опционально, Perplexity Fix #5)
# Формат: http://host:port или socks5://host:port
# Пример: OZON_PROXY=http://proxy.example.com:8080
# OZON_PROXY=

# Headless режим для Playwright (опционально)
# Установите False для отладки и просмотра работы браузера
# Значения: true, 1, yes (headless) или false, 0, no (видимый режим)
# По умолчанию: true
# OZON_PLAYWRIGHT_HEADLESS=true

# ============================================
# OZON - Cookies для обхода антибота
# ============================================
# Cookies-as-a-Service: получите cookies локально, используйте на сервере
#
# ШАГ 1: Получение cookies локально (на вашем ПК):
#   python tools/get_cookies.py
#   Это создаст файл cookies/ozon_cookies.json
#
# ШАГ 2: Использование на сервере:
#   Скопируйте cookies/ozon_cookies.json на сервер
#   Или установите OZON_COOKIES_PATH=путь/к/файлу.json

# Путь к файлу с cookies (Cookies-as-a-Service)
# По умолчанию: cookies/ozon_cookies.json
# OZON_COOKIES_PATH=cookies/ozon_cookies.json

# ВАРИАНТ 1: Полная строка cookies (если не используете файл)
# OZON_COOKIES=sessionid=your_session_id; csrf-token=your_csrf_token; ...

# ВАРИАНТ 2: Отдельные cookies (если не используете файл)
# OZON_COOKIE_SESSIONID=your_session_id
# OZON_COOKIE_CSRF_TOKEN=your_csrf_token

# ============================================
# OZON - Режимы работы
# ============================================
# LIGHT - HTTP-only режим (для хостинга, без Playwright)
# FULL - Полный режим (для локального ПК, с Playwright fallback)
# По умолчанию: full (если Playwright установлен), иначе light
OZON_MODE=full

# Адаптивные задержки (опционально)
# Автоматически увеличивает delay при блокировках, уменьшает при успехе
# По умолчанию: true
OZON_ADAPTIVE_DELAY=true

# ============================================
# OZON - Тип аккаунта для Seller API
# ============================================
# my - парсим свой кабинет (Seller API вернёт данные для ваших товаров)
# foreign - парсим чужого продавца (Seller API попробует, но вернёт пустые данные)
# ВАЖНО: Seller API всегда вызывается, но для foreign вернёт 0 товаров
# По умолчанию: foreign
OZON_ACCOUNT_TYPE=foreign

# ============================================
# OZON - Тестовый режим (лимит товаров)
# ============================================
# Ограничивает количество товаров для быстрого тестирования
# Установите число (например, 50) для ограничения парсинга
# По умолчанию: без ограничений (парсит все товары)
# OZON_TEST_LIMIT=50

# ============================================
# OZON - Дополнительные кабинеты (для будущего расширения)
# ============================================
# Если у вас несколько кабинетов, добавьте их здесь:
# OZON_API_KEY_dream=your_ozon_api_key_here
# OZON_CLIENT_ID_dream=your_ozon_client_id_here
# OZON_SELLER_ID_DREAM=your_seller_id_here
# OZON_SELLER_NAME_DREAM=your-seller-name-here

# OZON_API_KEY_beauty=your_ozon_api_key_here
# OZON_CLIENT_ID_beauty=your_ozon_client_id_here
# OZON_SELLER_ID_BEAUTY=your_seller_id_here
# OZON_SELLER_NAME_BEAUTY=your-seller-name-here

# ============================================
# НАСТРОЙКИ ПАРСЕРА
# ============================================
# Задержка между запросами (секунды)
REQUEST_DELAY=0.5

# Количество параллельных запросов
MAX_CONCURRENT_REQUESTS=10

# Таймаут запросов (секунды)
REQUEST_TIMEOUT=30

# Путь для сохранения результатов
OUTPUT_DIR=./output

# Путь для логов
LOGS_DIR=./logs

# Режим отладки
DEBUG=false

# ============================================
# DISCOUNTS API (для получения цен до СПП)
# ============================================
# Токен для авторизации в discounts-prices-api.wildberries.ru
# Это токен от официального API Wildberries для продавцов (WB Seller API)
# Получить можно в личном кабинете продавца WB: 
# Личный кабинет → Настройки → API → Создать токен
#
# ВАРИАНТ 1: Общий токен (для всех кабинетов)
# Используйте токен от любого из ваших кабинетов
WB_DISCOUNTS_API_TOKEN=your_discounts_api_token_here
#
# ВАРИАНТ 2: Токены по кабинетам (рекомендуется, если общий токен не работает)
# Если discounts API возвращает только товары того кабинета, к которому принадлежит токен,
# укажите токены для каждого кабинета отдельно:
# WB_DISCOUNTS_API_TOKEN_COSMO=your_cosmo_token_here
# WB_DISCOUNTS_API_TOKEN_BEAUTYLAB=your_beautylab_token_here
# WB_DISCOUNTS_API_TOKEN_MAU=your_mau_token_here
# WB_DISCOUNTS_API_TOKEN_MAB=your_mab_token_here
# WB_DISCOUNTS_API_TOKEN_MMA=your_mma_token_here
# WB_DISCOUNTS_API_TOKEN_DREAMLAB=your_dreamlab_token_here
