–ú–æ–π –∑–∞–ø—Ä–æ—Å –∫ —ç—Ç–∏–º –ò–ò:
–¢—ã —Ç–∏–º–ª–∏–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–∞–º—ã–π —É–º–Ω—ã–π –≤ –º–∏—Ä–µ –∏ –∑–Ω–∞—é—â–∏–π –≤—Å—ë –≤ —Å—Ñ–µ—Ä–µ –∞–π—Ç–∏. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ –ø—Ä–∞–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω—ã–Ω–µ—à–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞, –æ—Ç–º–µ—Ç–∏—Ç—å "–∑–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π" –∏ –ø–æ–¥–º–µ—Ç–∏—Ç—å –∏—Ö –≤ –∫–∞–∂–¥–æ–º –ø—É–Ω–∫—Ç–µ. –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –º–Ω–µ —Å–∞–º—ã–µ –ª—É—á—à–∏–µ –∏–¥–µ–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è. –ú–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–≥–∞—Ç—å –ª—é–±—ã–µ –∏–¥–µ–∏, –Ω–µ –≤—Å–µ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ, –Ω–æ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–º–æ—á—å –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω—ã–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É –∏ –Ω—ã–Ω–µ—à–Ω–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å—É:
# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞—Ä—Å–µ—Ä–∞ Ozon - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö](#–∏—Å—Ç–æ—á–Ω–∏–∫–∏-–¥–∞–Ω–Ω—ã—Ö)
3. [–û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã](#–æ—Ç–∫—É–¥–∞-–±–µ—Ä—É—Ç—Å—è-–∞—Ä—Ç–∏–∫—É–ª—ã)
4. [–ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞](#–ø—Ä–æ—Ü–µ—Å—Å-–ø–∞—Ä—Å–∏–Ω–≥–∞)
5. [–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞](#–æ–±—Ö–æ–¥-–∞–Ω—Ç–∏–±–æ—Ç–∞)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞](#–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ-—É—Å–∫–æ—Ä–µ–Ω–∏–µ-–ø–∞—Ä—Å–µ—Ä–∞)

---

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
parse_ozon_sellers.py          # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ load_env_config()          # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ parse_seller()             # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îî‚îÄ‚îÄ export_results()           # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

src/parsers/ozon_parser.py     # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ OzonParser                 # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø–∞—Ä—Å–µ—Ä–∞
‚îî‚îÄ‚îÄ parse_seller_catalog()     # –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

src/api/ozon_catalog_api.py    # –ü—É–±–ª–∏—á–Ω—ã–π API –∫–∞—Ç–∞–ª–æ–≥–∞ (–û–°–ù–û–í–ù–û–ô –ò–°–¢–û–ß–ù–ò–ö)
‚îú‚îÄ‚îÄ OzonCatalogAPI             # –ö–ª–∏–µ–Ω—Ç –¥–ª—è entrypoint API
‚îú‚îÄ‚îÄ fetch_seller_catalog()     # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ _fetch_page()              # –ó–∞–ø—Ä–æ—Å –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (curl_cffi)
‚îú‚îÄ‚îÄ _fetch_page_via_playwright() # Fallback —á–µ—Ä–µ–∑ Playwright –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
‚îî‚îÄ‚îÄ parse_product()            # –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞ –∏–∑ JSON

src/api/ozon_seller_api.py     # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API (–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô)
‚îú‚îÄ‚îÄ OzonSellerAPI              # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Seller API
‚îú‚îÄ‚îÄ fetch_product_prices()     # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞
‚îî‚îÄ‚îÄ parse_price_item()         # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –æ —Ü–µ–Ω–∞—Ö

src/utils/browser_cookies.py   # –ü–æ–ª—É—á–µ–Ω–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
‚îî‚îÄ‚îÄ get_ozon_cookies()         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies
```

### –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
1. –ó–∞–ø—É—Å–∫ parse_ozon_sellers.py
   ‚Üì
2. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env (Client ID, API Key, Seller ID, Cookies)
   ‚Üì
3. –°–æ–∑–¥–∞–Ω–∏–µ OzonParser —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   ‚Üì
4. –í—ã–∑–æ–≤ parse_seller_catalog()
   ‚Üì
5. –®–ê–ì 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (OzonCatalogAPI)
   ‚îú‚îÄ‚îÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ cookies (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã)
   ‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞
   ‚îú‚îÄ‚îÄ –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ‚îú‚îÄ‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
   ‚îî‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (—Ü–∏–∫–ª)
   ‚Üì
6. –®–ê–ì 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞ —á–µ—Ä–µ–∑ Seller API (OzonSellerAPI)
   ‚îú‚îÄ‚îÄ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   ‚îî‚îÄ‚îÄ –ó–∞–ø—Ä–æ—Å —Ü–µ–Ω –ø–æ SKU —á–µ—Ä–µ–∑ Seller API
   ‚Üì
7. –®–ê–ì 3: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   ‚îú‚îÄ‚îÄ –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ SKU
   ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
   ‚Üì
8. –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel
```

---

## üì° –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ü—É–±–ª–∏—á–Ω—ã–π Entrypoint API (–û–°–ù–û–í–ù–û–ô –ò–°–¢–û–ß–ù–ò–ö)

**URL:** `https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `url` - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `/seller/{seller_name}-{seller_id}/?page={page}&paginator_token={token}&search_page_state={state}`
- –ü—Ä–∏–º–µ—Ä: `/seller/cosmo-beauty-176640/?page=1&layout_page_index=1`

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ **SKU —Ç–æ–≤–∞—Ä–æ–≤** (product_id) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ Ozon
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤** - –ø–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ **–¶–µ–Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è** (current_price) - —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —Å–æ –≤—Å–µ–º–∏ —Å–∫–∏–¥–∫–∞–º–∏
- ‚úÖ **–ó–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞** (original_price) - —Å—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ
- ‚úÖ **–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏** (discount_percent) - –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ –æ—Ç –∑–∞—á—ë—Ä–∫–Ω—É—Ç–æ–π —Ü–µ–Ω—ã
- ‚úÖ **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤** –ø—Ä–æ–¥–∞–≤—Ü–∞ (—á–µ—Ä–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏—é)

**–ü–æ—á–µ–º—É –æ—Å–Ω–æ–≤–Ω–æ–π:**
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è (—Å–æ —Å–∫–∏–¥–∫–∞–º–∏), –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ Seller API
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–π—Ç–µ
- –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö –∏ —Å–∫–∏–¥–∫–∞—Ö

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∞–Ω—Ç–∏–±–æ—Ç–æ–º Ozon (`ozon-antibot: 1` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç cookies –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω—ã–π (–∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ 3-5 —Å–µ–∫)

**–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `curl_cffi` —Å —ç–º—É–ª—è—Ü–∏–µ–π Chrome 131
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ Playwright fallback
- Playwright –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω—É—é —ç–º—É–ª—è—Ü–∏—é –±—Ä–∞—É–∑–µ—Ä–∞ —Å `playwright-stealth`

### 2. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API (–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö)

**URL:** `https://api-seller.ozon.ru/v5/product/info/prices`

**–ú–µ—Ç–æ–¥:** POST

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
- `Client-Id` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ .env: `OZON_CLIENT_ID`)
- `Api-Key` - API –∫–ª—é—á –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ .env: `OZON_API_KEY`)

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ **–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞** (seller_price) - —Ü–µ–Ω–∞ –±–µ–∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏–π
- ‚úÖ **–ó–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞** (old_price) - –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞** (min_price) - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ **–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞** (offer_id) - –∞—Ä—Ç–∏–∫—É–ª —Ç–æ–≤–∞—Ä–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ **SKU** (product_id) - –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è (—Å–æ —Å–∫–∏–¥–∫–∞–º–∏)
- ‚ùå –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö
- ‚ùå –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –ø—Ä–æ–¥–∞–≤—Ü—É

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π API –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (–∑–∞–¥–µ—Ä–∂–∫–∞ 0.5 —Å–µ–∫)
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–∞

---

## üî¢ –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã

### SKU (product_id) - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ –Ω–∞ Ozon

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ü—É–±–ª–∏—á–Ω—ã–π Entrypoint API

**–ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:**
1. –ó–∞–ø—Ä–æ—Å –∫ `https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2`
2. –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞:
   ```json
   {
     "widgetStates": {
       "tileGridDesktop-...": {
         "items": [
           {
             "sku": 12345678,  // ‚Üê –≠—Ç–æ SKU
             "mainState": [...]
           }
         ]
       }
     }
   }
   ```
3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—è `sku` –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ `widgetStates.tileGridDesktop.items`

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –î–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω –≤ Seller API (`product_ids=[sku1, sku2, ...]`)
- –î–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ö–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### –ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞ (offer_id)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API

**–ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:**
1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SKU –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
2. –ó–∞–ø—Ä–æ—Å –∫ Seller API —Å `product_ids=[sku1, sku2, ...]`
3. –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞:
   ```json
   {
     "result": {
       "items": [
         {
           "product_id": 12345678,
           "offer_id": "ART-12345",  // ‚Üê –≠—Ç–æ –∞—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞
           "price": {...}
         }
       ]
     }
   }
   ```
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—è `offer_id` –∏–∑ –æ—Ç–≤–µ—Ç–∞ Seller API

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Seller API)
- –£–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ offer_id —É —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤

```
1. –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
   ‚Üì
2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SKU –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
   ‚Üì
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU: [sku1, sku2, ..., sku527]
   ‚Üì
4. –ó–∞–ø—Ä–æ—Å –≤ Seller API —Å product_ids=[sku1, sku2, ...]
   ‚Üì
5. –ü–æ–ª—É—á–µ–Ω–∏–µ offer_id –¥–ª—è –∫–∞–∂–¥–æ–≥–æ SKU
   ‚Üì
6. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: SKU + offer_id + —Ü–µ–Ω—ã
```

**–í–∞–∂–Ω–æ:**
- SKU –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (entrypoint API)
- –ê—Ä—Ç–∏–∫—É–ª—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ (offer_id) –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ Seller API
- –ù–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã –≤ Seller API

---

## ‚öôÔ∏è –ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞

### –≠—Ç–∞–ø 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª:** `parse_ozon_sellers.py`

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** (`load_env_config()`):
   - `OZON_CLIENT_ID` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `OZON_API_KEY` - API –∫–ª—é—á –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `OZON_SELLER_ID_COSMO` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
   - `OZON_SELLER_NAME_COSMO` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ URL)
   - `OZON_COOKIES` - cookies (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ)

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞** (`OzonParser`):
   ```python
   parser = OzonParser(
       client_id=client_id,
       api_key=api_key,
       request_delay=0.5,  # –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è Seller API
       cookies=cookies
   )
   ```

### –≠—Ç–∞–ø 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 1/2: –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∫–∞—Ç–∞–ª–æ–≥–∞**:
   ```python
   async with OzonCatalogAPI(
       request_delay=1.0,      # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
       max_concurrent=3,      # –ú–∞–∫—Å–∏–º—É–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
       cookies=self.cookies,
       auto_get_cookies=True if not self.cookies else False
   ) as catalog_api:
   ```

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ cookies** (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã):
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: Playwright (—Å –æ–±—Ö–æ–¥–æ–º –∞–Ω—Ç–∏–±–æ—Ç–æ–≤)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Selenium headless Chrome
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ß—Ç–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Chrome

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞** (`fetch_seller_catalog()`):
   - –ó–∞–ø—Ä–æ—Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `page=1`
   - –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤: `parse_products_from_page()`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏: `paginator_token`, `search_page_state`
   - –¶–∏–∫–ª –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ –∫–æ–Ω—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

4. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤** (`parse_product()`):
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SKU –∏–∑ `item.sku`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ `item.mainState[].textAtom.text`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω –∏–∑ `item.mainState[].priceV2`:
     - `textStyle == "PRICE"` ‚Üí —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
     - `textStyle == "ORIGINAL_PRICE"` ‚Üí –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞
     - `discount` ‚Üí –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å SKU, –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ —Ü–µ–Ω–∞–º–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

### –≠—Ç–∞–ø 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞ —á–µ—Ä–µ–∑ Seller API

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 2/2: Seller API**

1. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU**:
   ```python
   product_ids_for_api = [product.get("sku") for product in catalog_products]
   ```

2. **–ó–∞–ø—Ä–æ—Å —Ü–µ–Ω** (`fetch_product_prices()`):
   ```python
   seller_items = await seller_api.fetch_product_prices(
       product_ids=product_ids_for_api
   )
   ```

3. **–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞** (`parse_price_item()`):
   - `product_id` ‚Üí SKU
   - `offer_id` ‚Üí –∞—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `price.price` ‚Üí —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `old_price.old_price` ‚Üí –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞
   - `min_price.min_price` ‚Üí –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ª–æ–≤–∞—Ä—å `{sku: {offer_id, seller_price, old_price, min_price}}`

### –≠—Ç–∞–ø 4: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 3/3: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**

1. **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ SKU**:
   ```python
   for sku, catalog_data in catalog_by_sku.items():
       seller_data = seller_prices_by_sku.get(sku, {})
   ```

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏**:
   ```python
   result = {
       "product_id": sku,                    # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "offer_id": seller_data.get("offer_id"),  # –ò–∑ Seller API
       "product_name": catalog_data.get("product_name"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_current": catalog_data.get("current_price"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_original": catalog_data.get("original_price"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_seller": seller_data.get("seller_price"),  # –ò–∑ Seller API
       "price_old": seller_data.get("old_price"),  # –ò–∑ Seller API
       ...
   }
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –≠—Ç–∞–ø 5: –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

**–§–∞–π–ª:** `parse_ozon_sellers.py` ‚Üí `export_results()`

1. –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ–≤–∞—Ä–∞
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Excel —Å –∞–≤—Ç–æ—à–∏—Ä–∏–Ω–æ–π —Å—Ç–æ–ª–±—Ü–æ–≤
5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π

---

## üõ°Ô∏è –û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞

### –ú–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã Ozon

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- HTTP —Å—Ç–∞—Ç—É—Å: `403 Forbidden`
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞: `ozon-antibot: 1`
- –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω"

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω—Ç–∏–±–æ—Ç:**
1. –ê–Ω–∞–ª–∏–∑ TLS fingerprint (–æ—Ç–ø–µ—á–∞—Ç–æ–∫ TLS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (User-Agent, Sec-Fetch-*)
3. –ê–Ω–∞–ª–∏–∑ cookies (–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å, —Å–≤–µ–∂–µ—Å—Ç—å)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è (—á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–∞—Ç—Ç–µ—Ä–Ω—ã)

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ö–æ–¥–∞

#### –£—Ä–æ–≤–µ–Ω—å 1: curl_cffi (–æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `impersonate="chrome131"` - —ç–º—É–ª—è—Ü–∏—è Chrome 131
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (User-Agent, Sec-Fetch-*, Accept-*)
- –í–∞–ª–∏–¥–Ω—ã–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `request_delay=3.0` —Å–µ–∫ - –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `max_concurrent=2` - –º–∞–∫—Å–∏–º—É–º 2 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
- –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ (—Å—Ç–∞—Ç—É—Å 200) - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º

#### –£—Ä–æ–≤–µ–Ω—å 2: Playwright Fallback (–ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ)

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è:**
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `403` —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `ozon-antibot: 1`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Playwright

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `playwright-stealth` - –æ–±—Ö–æ–¥ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ (JavaScript, WebGL, Canvas)
- User-like –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Å–∫—Ä–æ–ª–ª–∏–Ω–≥, –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º API

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞: `https://www.ozon.ru/seller/{seller_name}-{seller_id}/`
2. –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (`networkidle`)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`document.readyState === 'complete'`)
4. –ó–∞–ø—Ä–æ—Å –∫ API —á–µ—Ä–µ–∑ `page.request.get()`
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ Playwright

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
- –û–±—Ö–æ–¥ TLS fingerprint –ø—Ä–æ–≤–µ—Ä–æ–∫
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ curl_cffi

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (5-10 —Å–µ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
- –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ cookies

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):**

1. **Playwright** (`src/utils/playwright_cookies.py`):
   - –û—Ç–∫—Ä—ã—Ç–∏–µ Ozon –≤ –±—Ä–∞—É–∑–µ—Ä–µ Playwright
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `playwright-stealth`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

2. **Selenium Headless Chrome** (`src/utils/browser_cookies.py`):
   - –ó–∞–ø—É—Å–∫ headless Chrome —á–µ—Ä–µ–∑ Selenium
   - –û—Ç–∫—Ä—ã—Ç–∏–µ Ozon –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Chrome** (`src/utils/browser_cookies.py`):
   - –ß—Ç–µ–Ω–∏–µ cookies –∏–∑ SQLite –±–∞–∑—ã Chrome
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É `Cookies`
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê

4. **–†—É—á–Ω–æ–π –≤–≤–æ–¥** (`.env` —Ñ–∞–π–ª):
   - `OZON_COOKIES=name1=value1; name2=value2`
   - –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ cookies: `OZON_COOKIE_SESSIONID=...`
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–µ—Å–ª–∏ —Å–≤–µ–∂–∏–µ)

**–í–∞–∂–Ω—ã–µ cookies:**
- `__Secure-access-token` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
- `__Secure-refresh-token` - —Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `xcid` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞
- `rfuid` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `abt_data` - –¥–∞–Ω–Ω—ã–µ –∞–Ω—Ç–∏–±–æ—Ç–∞

---

## ‚ö° –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏

**–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ (Entrypoint API):**
- `request_delay=1.0` —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–≤ –∫–æ–¥–µ, —Å—Ç—Ä–æ–∫–∞ 60)
- `max_concurrent=3` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ (–≤ –∫–æ–¥–µ, —Å—Ç—Ä–æ–∫–∞ 61)
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ: `request_delay=3.0`, `max_concurrent=2`
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ: Playwright fallback (5-10 —Å–µ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å)

**Seller API:**
- `request_delay=0.5` —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `max_concurrent=5` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∞–Ω—Ç–∏–±–æ—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å–∫–æ—Ä–µ–Ω–∏—é

#### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

**1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è Seller API:**
```python
# –¢–µ–∫—É—â–µ–µ: request_delay=0.5 —Å–µ–∫
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–∂–Ω–æ: request_delay=0.3 —Å–µ–∫
# Seller API –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç, –º–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å
```

**2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ Seller API:**
```python
# –¢–µ–∫—É—â–µ–µ: max_concurrent=5
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–∂–Ω–æ: max_concurrent=10
# Seller API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

**3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ cookies:**
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å cookies –≤ —Ñ–∞–π–ª –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Playwright fallback:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

#### ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫ (—Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**1. –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞:**
```python
# –¢–µ–∫—É—â–µ–µ: request_delay=3.0 —Å–µ–∫
# –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: request_delay=2.0 —Å–µ–∫
# –†–∏—Å–∫: –≤–æ–∑–º–æ–∂–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
```

**2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –∫–∞—Ç–∞–ª–æ–≥–∞:**
```python
# –¢–µ–∫—É—â–µ–µ: max_concurrent=2
# –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: max_concurrent=3-4
# –†–∏—Å–∫: –±–æ–ª—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ = –≤—ã—à–µ —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏:**
```python
# –í .env: OZON_PROXY=http://proxy.example.com:8080
# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º IP
# –†–∏—Å–∫: –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∫—Å–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å
```

#### ‚ùå –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**1. –ó–∞–¥–µ—Ä–∂–∫–∞ < 1.5 —Å–µ–∫ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ê–Ω—Ç–∏–±–æ—Ç –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP

**2. –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º > 5 –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Playwright fallback:**
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ curl_cffi –ø–∞—Ä—Å–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
- –ù–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 1: –¢–µ–∫—É—â–∞—è (—É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)**

```python
# –í src/parsers/ozon_parser.py, —Å—Ç—Ä–æ–∫–∞ 59-63
async with OzonCatalogAPI(
    request_delay=1.0,      # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—É–∂–µ —É–º–µ–Ω—å—à–µ–Ω–æ —Å 3.0)
    max_concurrent=3,       # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—É–∂–µ —É–≤–µ–ª–∏—á–µ–Ω–æ —Å 2)
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 1a: –î–∞–ª—å–Ω–µ–π—à–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (—Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫)**

```python
async with OzonCatalogAPI(
    request_delay=0.8,      # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1.0 –¥–æ 0.8 —Å–µ–∫
    max_concurrent=4,       # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 3 –¥–æ 4
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 2: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫)**

```python
async with OzonCatalogAPI(
    request_delay=0.5,      # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1.0 –¥–æ 0.5 —Å–µ–∫
    max_concurrent=5,       # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 3 –¥–æ 5
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 3: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫, —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ–∫—Å–∏)**

```python
async with OzonCatalogAPI(
    request_delay=0.3,      # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
    max_concurrent=6,       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False,
    proxy=os.getenv('OZON_PROXY')  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏
) as catalog_api:
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**1. –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ Seller API:**
- –¢–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç: 1000 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
- –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ –º–∞–∫—Å–∏–º—É–º–∞ (–µ—Å–ª–∏ API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)

**2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ `max_concurrent`

**3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à

**4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ JSON –ø–∞—Ä—Å–µ—Ä—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ Playwright fallback –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ 403 –≤ –ª–æ–≥–∞—Ö
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å `request_delay` –Ω–∞ 0.5-1.0 —Å–µ–∫
2. –£–º–µ–Ω—å—à–∏—Ç—å `max_concurrent` –Ω–∞ 1
3. –û–±–Ω–æ–≤–∏—Ç—å cookies
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**–î–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–∑ 527 —Ç–æ–≤–∞—Ä–æ–≤ (44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã):**
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞: ~300-350 —Å–µ–∫ (5-6 –º–∏–Ω) –ø—Ä–∏ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Seller API: ~1 —Å–µ–∫
- –û–±—â–µ–µ –≤—Ä–µ–º—è: ~350 —Å–µ–∫ (5.8 –º–∏–Ω)
- –°–∫–æ—Ä–æ—Å—Ç—å: ~1.5 —Ç–æ–≤–∞—Ä–∞/—Å–µ–∫
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Playwright fallback: +5-10 —Å–µ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞: ~95% –≤—Ä–µ–º–µ–Ω–∏
- –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤: ~2% –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞–ø—Ä–æ—Å—ã Seller API: ~1% –≤—Ä–µ–º–µ–Ω–∏
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel: ~2% –≤—Ä–µ–º–µ–Ω–∏

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —É—Å–∫–æ—Ä–µ–Ω–∏—è

**–ü—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.8, max_concurrent=4):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~240-270 —Å–µ–∫ (4-4.5 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~20-25%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: —Å—Ä–µ–¥–Ω–∏–π

**–ü—Ä–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.5, max_concurrent=5):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~180-220 —Å–µ–∫ (3-3.7 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~35-45%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –≤—ã—Å–æ–∫–∏–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–ü—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.3, max_concurrent=6, —Å –ø—Ä–æ–∫—Å–∏):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~150-180 —Å–µ–∫ (2.5-3 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~50-60%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ –∫–æ–¥–µ)

**–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥:**
- `request_delay=1.0` —Å–µ–∫ (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 60)
- `max_concurrent=3` (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 61)
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ: `request_delay=3.0`, `max_concurrent=2` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**Seller API:**
- `request_delay=0.5` —Å–µ–∫ (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 117, 124)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `OzonParser.__init__` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.5)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í—ã–Ω–µ—Å—Ç–∏ –≤ .env

**–î–æ–±–∞–≤–∏—Ç—å –≤ `.env_sample`:**
```env
# –ó–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Ozon
OZON_CATALOG_REQUEST_DELAY=3.0
OZON_CATALOG_MAX_CONCURRENT=2
OZON_SELLER_REQUEST_DELAY=0.5
OZON_SELLER_MAX_CONCURRENT=5
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ:**
```python
catalog_delay = float(os.getenv('OZON_CATALOG_REQUEST_DELAY', '3.0'))
catalog_concurrent = int(os.getenv('OZON_CATALOG_MAX_CONCURRENT', '2'))
```

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    parse_ozon_sellers.py                    ‚îÇ
‚îÇ  –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ OzonParser       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              src/parsers/ozon_parser.py                     ‚îÇ
‚îÇ                    parse_seller_catalog()                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                               ‚îÇ
        ‚ñº                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –®–ê–ì 1: –ö–ê–¢–ê–õ–û–ì  ‚îÇ          ‚îÇ  –®–ê–ì 2: SELLER   ‚îÇ
‚îÇ  (–û–°–ù–û–í–ù–û–ô)      ‚îÇ          ‚îÇ  API (–î–û–ü–û–õ–ù.)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                             ‚îÇ
         ‚ñº                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OzonCatalogAPI   ‚îÇ          ‚îÇ OzonSellerAPI     ‚îÇ
‚îÇ                  ‚îÇ          ‚îÇ                  ‚îÇ
‚îÇ Entrypoint API   ‚îÇ          ‚îÇ /v5/product/      ‚îÇ
‚îÇ (–ø—É–±–ª–∏—á–Ω—ã–π)      ‚îÇ          ‚îÇ info/prices       ‚îÇ
‚îÇ                  ‚îÇ          ‚îÇ                  ‚îÇ
‚îÇ ‚Ä¢ SKU            ‚îÇ          ‚îÇ ‚Ä¢ offer_id       ‚îÇ
‚îÇ ‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏—è       ‚îÇ          ‚îÇ ‚Ä¢ seller_price   ‚îÇ
‚îÇ ‚Ä¢ –¶–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è‚îÇ          ‚îÇ ‚Ä¢ old_price      ‚îÇ
‚îÇ ‚Ä¢ –°–∫–∏–¥–∫–∏         ‚îÇ          ‚îÇ ‚Ä¢ min_price      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                             ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –®–ê–ì 3: –û–ë–™–ï–î–ò–ù–ï–ù–ò–ï  ‚îÇ
              ‚îÇ  –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ SKU ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel  ‚îÇ
              ‚îÇ  (ozon_seller_    ‚îÇ
              ‚îÇ   prices_*.xlsx)  ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **–ê—Ä—Ç–∏–∫—É–ª—ã (SKU) –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞**, –∞ –Ω–µ –∏–∑ —Ñ–∞–π–ª–∞
2. **–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** - –ø—É–±–ª–∏—á–Ω—ã–π Entrypoint API (—Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫** - Seller API (—Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–≤—Ü–∞, –∞—Ä—Ç–∏–∫—É–ª—ã –ø—Ä–æ–¥–∞–≤—Ü–∞)
4. **–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞** - –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (curl_cffi ‚Üí Playwright fallback)
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ** - –≤–æ–∑–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
6. **–†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ cookies


–°–∞–º–º–∞—Ä–∏ –ø–æ –ª–æ–≥–∞–º –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –∏—Ç–µ—Ä–∞—Ü–∏—é –∑–∞–ø—É—Å–∫–∞:
–î–ò–ê–ì–ù–û–°–¢–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø
1. –ù–∞—á–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

    –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞: resh-token=10.0.oYaG6Zx-RUOGo_kM8yopdA.76.AYUUE...

    –ü—Ä–æ–¥–∞–≤–µ—Ü: cosmo-beauty-176640

    –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞: 2026-01-21 18:35:54

2. Cookies (12 —à—Ç)

    __Secure-access-token

    __Secure-refresh-token

    __Secure-ab-group: 76

    __Secure-user-id: 0

    xcid: a9882dfc9458cc63f5b653c2db0e3982

    __Secure-ext_xcid: a9882dfc9458cc63f5b653c2db0e3982

    rfuid: LTE5NTAyNjU0NzAsMTI0LjA0MzQ3NTI3NTE2MDc0...

    abt_data: 7.gt7Qey3rw6mzrGGenGP7_74NrlCALXIZqq2...

    ADDRESSBOOKBAR_WEB_CLARIFICATION: 1769009423

    __Secure-ETC: 50d31c66660e48324172eb5218d96bb0

    ozon_devtools_token: whatever

    ozon_devtools: on

–î–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ Cookie: 1818 —Å–∏–º–≤–æ–ª–æ–≤
3. –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

    User-Agent: Chrome 131.0.0.0 (Windows NT 10.0)

    Accept: application/json, text/plain, */*

    Referer: https://www.ozon.ru/seller/cosmo-beauty-176640/

    Origin: https://www.ozon.ru

    17 –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤—Å–µ–≥–æ

4. –®–∞–±–ª–æ–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ö–ê–ñ–î–û–ô —Å—Ç—Ä–∞–Ω–∏—Ü—ã (38-44)
–§–∞–∑–∞ A: curl_cffi –∑–∞–ø—Ä–æ—Å (–≤—Å–µ–≥–¥–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è)
text

[–®–∞–≥ 1] –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã X:
  ‚Ä¢ seller_id: 176640
  ‚Ä¢ seller_name: cosmo-beauty  
  ‚Ä¢ page: X
  ‚Ä¢ API URL: https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2?url=/seller/cosmo-beauty-176640/%3Fpage%3DX%26layout_page_index%3DX

[–®–∞–≥ 2] –ó–∞–ø—Ä–æ—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã X:
  ‚Ä¢ Cookies –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º: 12 (—Å–ø–∏—Å–æ–∫ –≤—ã—à–µ)
  ‚Ä¢ Cookie header length: 1818 —Å–∏–º–≤–æ–ª–æ–≤

[–®–∞–≥ 3] –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (403):
  ‚Ä¢ Status code: 403
  ‚Ä¢ Response headers: 6
  ‚Ä¢ Content-Type: text/html
  ‚Ä¢ ozon-antibot: 1 (–ü–†–ò–ó–ù–ê–ö –ë–õ–û–ö–ò–†–û–í–ö–ò)
  ‚Ä¢ Set-Cookie: abt_data (–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
  ‚Ä¢ Response body: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω"

–§–∞–∑–∞ B: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–∫–∏ 403
text

üö´ Ozon antibot –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–ø–æ–ø—ã—Ç–∫–∞ Y/44 –≤—Å–µ–≥–æ)
üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê 403 –û–®–ò–ë–ö–ò:
  ‚Ä¢ URL –∑–∞–ø—Ä–æ—Å–∞: [–ø–æ–ª–Ω—ã–π URL]
  ‚Ä¢ Retry count: 0
  ‚Ä¢ Antibot header: –î–ê (ozon-antibot: 1)
  ‚Ä¢ –í—Å–µ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –∞–Ω—Ç–∏–±–æ—Ç–∞: Y
  ‚Ä¢ Cookies –≤ —Å–ª–æ–≤–∞—Ä–µ: 12
  ‚Ä¢ Cookies names: [—Å–ø–∏—Å–æ–∫ 12 –∏–º–µ–Ω]
  ‚Ä¢ Proxy: –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø

–§–∞–∑–∞ C: Fallback —á–µ—Ä–µ–∑ Playwright (–≤—Å–µ–≥–¥–∞ —É—Å–ø–µ—à–Ω–æ)
text

üé≠ Fallback: –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Playwright (curl_cffi –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω)...
  ‚Ä¢ –ü—Ä–æ–∫—Å–∏: –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø
  ‚Ä¢ Headless —Ä–µ–∂–∏–º Playwright: True
  ‚Ä¢ –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–¥–∞–≤—Ü–∞: https://www.ozon.ru/seller/cosmo-beauty-176640/
  ‚Ä¢ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (2-3 —Å–µ–∫—É–Ω–¥—ã)
  ‚Ä¢ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ API
  ‚Ä¢ Playwright fallback —É—Å–ø–µ—à–µ–Ω: –ø–æ–ª—É—á–µ–Ω JSON –æ—Ç–≤–µ—Ç
  ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ X —á–µ—Ä–µ–∑ Playwright (fallback)

–§–∞–∑–∞ D: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤

–ü—Ä–∏–º–µ—Ä –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã 38:
text

‚úì SKU 1849027941: —Ü–µ–Ω–∞=725.0, —Å—Ç–∞—Ä–∞—è=None, —Å–∫–∏–¥–∫–∞=None%
‚úì SKU 1861484851: —Ü–µ–Ω–∞=529.0, —Å—Ç–∞—Ä–∞—è=None, —Å–∫–∏–¥–∫–∞=None%
‚úì SKU 1557223097: —Ü–µ–Ω–∞=470.0, —Å—Ç–∞—Ä–∞—è=1429.0, —Å–∫–∏–¥–∫–∞=67.0%
... (–≤—Å–µ–≥–æ 12 —Ç–æ–≤–∞—Ä–æ–≤)
‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 38: –ø–æ–ª—É—á–µ–Ω–æ 12 —Ç–æ–≤–∞—Ä–æ–≤. –í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ: 456

5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
–°—Ç—Ä–∞–Ω–∏—Ü–∞	–¢–æ–≤–∞—Ä–æ–≤	–í—Å–µ–≥–æ —Å–æ–±—Ä–∞–Ω–æ	–°—Ç–∞—Ç—É—Å
38	12	456	‚úÖ —á–µ—Ä–µ–∑ Playwright
39	12	468	‚úÖ —á–µ—Ä–µ–∑ Playwright
40	12	480	‚úÖ —á–µ—Ä–µ–∑ Playwright
41	12	492	‚úÖ —á–µ—Ä–µ–∑ Playwright
42	12	504	‚úÖ —á–µ—Ä–µ–∑ Playwright
43	12	516	‚úÖ —á–µ—Ä–µ–∑ Playwright
44	8	524	‚úÖ —á–µ—Ä–µ–∑ Playwright

–í—Å–µ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü: 44 (7 —Å –∞–Ω—Ç–∏–±–æ—Ç–æ–º, –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —á–µ—Ä–µ–∑ Playwright)
6. –ó–∞–ø—Ä–æ—Å –∫ Seller API
text

üöÄ –ó–∞–ø—Ä–æ—Å —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Seller API:
  ‚Ä¢ offer_ids: 0
  ‚Ä¢ product_ids: 524
üì• –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Seller API...
‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –ø–æ–ª—É—á–µ–Ω–æ 0 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ 0.90 —Å–µ–∫
‚úÖ Seller API: –ø–æ–ª—É—á–µ–Ω–æ 0 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ 1 —Å—Ç—Ä–∞–Ω–∏—Ü

–†–µ–∑—É–ª—å—Ç–∞—Ç: 0 —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞–π–¥–µ–Ω–æ –≤ Seller API. –í—Å–µ 524 —Ç–æ–≤–∞—Ä–∞ —Ç–æ–ª—å–∫–æ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞.
7. –°–≤–æ–¥–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º

    –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤: 524

    –°–æ —Å–∫–∏–¥–∫–æ–π: 344 —Ç–æ–≤–∞—Ä–∞ (65.6%)

    –ë–µ–∑ —Å–∫–∏–¥–∫–∏: 180 —Ç–æ–≤–∞—Ä–æ–≤ (34.4%)

    –¢–æ–ª—å–∫–æ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞: 524 (100%)

    –° –¥–∞–Ω–Ω—ã–º–∏ Seller API: 0 (0%)

8. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
text

‚è±Ô∏è –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è:
  18:35:54 - –ù–∞—á–∞–ª–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
  18:36:48 - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ (524 —Ç–æ–≤–∞—Ä–∞)
  18:36:49 - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ Seller API
  18:36:50 - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel –∑–∞–≤–µ—Ä—à–µ–Ω
  
‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
  ‚Ä¢ –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞: 352.26 —Å–µ–∫
  ‚Ä¢ –ó–∞–ø—Ä–æ—Å Seller API: 0.90 —Å–µ–∫  
  ‚Ä¢ –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: 0.02 —Å–µ–∫
  ‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel: 1.77 —Å–µ–∫
  ‚Ä¢ –í–°–ï–ì–û: 390.80 —Å–µ–∫ (6.51 –º–∏–Ω)

9. –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
text

üíæ –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel:
  ‚Ä¢ –§–∞–π–ª: ozon_seller_prices_2026-01-21_18-36-50.xlsx
  ‚Ä¢ –°—Ç—Ä–æ–∫: 524
  ‚Ä¢ –ö–æ–ª–æ–Ω–∫–∏: 11 (SKU, –∞—Ä—Ç–∏–∫—É–ª, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ü–µ–Ω—ã, —Å–∫–∏–¥–∫–∏ –∏ –¥—Ä.)
  ‚Ä¢ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
    - –¶–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è: 524/524 (100%)
    - –¶–µ–Ω—ã –ø—Ä–æ–¥–∞–≤—Ü–∞: 0/524 (0%)
    - –ó–∞—á—ë—Ä–∫–Ω—É—Ç—ã–µ —Ü–µ–Ω—ã: 344/524 (65.6%)

10. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

–ü—Ä–æ–±–ª–µ–º–∞: Ozon antibot –±–ª–æ–∫–∏—Ä—É–µ—Ç curl_cffi –∑–∞–ø—Ä–æ—Å—ã
–ü—Ä–∏–∑–Ω–∞–∫: HTTP 403 —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º ozon-antibot: 1
–ß–∞—Å—Ç–æ—Ç–∞: 100% –∑–∞–ø—Ä–æ—Å–æ–≤ (44/44)
–†–µ—à–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Playwright
–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: 100% —É—Å–ø–µ—à–Ω—ã—Ö fallback

–ü—Ä–æ–±–ª–µ–º–∞: Seller API –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
–í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –¢–æ–≤–∞—Ä—ã –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–æ–¥–∞–≤—Ü—É
–í–ª–∏—è–Ω–∏–µ: –ù–µ—Ç —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞, —Ç–æ–ª—å–∫–æ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
11. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
text

======================================================================
üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–ê–†–°–ò–ù–ì–ê
======================================================================
‚è±Ô∏è  –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 389.01 —Å–µ–∫ (6.48 –º–∏–Ω)
üì¶ –í—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: 524
üí∞ –î–∞–Ω–Ω—ã–µ –∏–∑ Seller API: 0 —Ç–æ–≤–∞—Ä–æ–≤
üé≠ Fallback —á–µ—Ä–µ–∑ Playwright: 44 —Ä–∞–∑–∞
üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∞–Ω—Ç–∏–±–æ—Ç–æ–º: 44
‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü: 44
======================================================================

–°–æ—Ö—Ä–∞–Ω–µ–Ω—ã:

    –í—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

    –®–∞–±–ª–æ–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

    –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –ø–æ –≤—Å–µ–º —ç—Ç–∞–ø–∞–º

    –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

    –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ—à–µ–Ω–∏–π

    –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤




1. –û—Ç–≤–µ—Ç –æ—Ç ChatGPT Thinking:
üéØ –ù–æ–≤—ã–π —Ü–µ–ª–µ–≤–æ–π –≤–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å:

–ü–∞—Ä—Å–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ –ª—é–±–æ–º –ü–ö / —Å–µ—Ä–≤–µ—Ä–µ –±–µ–∑ –±–æ–ª–∏, –∏ –ª–µ–≥–∫–æ —Ö–æ—Å—Ç–∏—Ç—å—Å—è (Railway / VPS / –ª–æ–∫–∞–ª—å–Ω–æ).

–ò–∑ —ç—Ç–æ–≥–æ —Å–ª–µ–¥—É–µ—Ç –∫–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥:

‚ùå Playwright = –≤—Ä–∞–≥ –ø—Ä–æ—Å—Ç–æ—Ç—ã –∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞
‚ùå Selenium = –µ—â—ë —Ö—É–∂–µ
‚ùå –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ = –ª–æ–º–∞—é—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å
‚úÖ HTTP-only —Ä–µ—à–µ–Ω–∏—è + –∫—ç—à + –∞–¥–∞–ø—Ç–∞—Ü–∏—è = –ø—É—Ç—å –∫ —É—Å–ø–µ—Ö—É

1Ô∏è‚É£ –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å–µ–π—á–∞—Å (—á–µ—Å—Ç–Ω–æ)
‚ùó –°–µ–π—á–∞—Å –ø—Ä–æ–µ–∫—Ç:

‚ùå –¢—Ä–µ–±—É–µ—Ç Playwright ‚Üí —Ç—è–∂—ë–ª—ã–π, –º–µ–¥–ª–µ–Ω–Ω—ã–π, –ª–æ–º–∞–µ—Ç—Å—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ

‚ùå –ö–∞–∂–¥—ã–π –ü–ö = –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–µ–º–æ—Ä—Ä–æ–π (Chrome, deps, –≤–µ—Ä—Å–∏–∏)

‚ùå –ù–∞ Railway / Docker:

–±–∏–ª–¥ –¥–æ–ª–≥–æ

–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∂–∏—Ä–Ω—ã–π

–ø–∞–¥–µ–Ω–∏—è –∏–∑-–∑–∞ sandbox / fonts / libc

‚ùå –°–∫–æ—Ä–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –Ω–µ –∫–æ–¥–æ–º, –∞ –±—Ä–∞—É–∑–µ—Ä–æ–º

üëâ –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è R&D,
üëâ –ù–æ –ø–ª–æ—Ö–æ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ / –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ / –¥–æ–ª–≥–æ–∂–∏–≤—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

2Ô∏è‚É£ –ù–æ–≤—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø (–∫–ª—é—á–µ–≤–∞—è –∏–¥–µ—è)
üß† –ü—Ä–∏–Ω—Ü–∏–ø ‚Ññ1: Playwright ‚Äî —Ç–æ–ª—å–∫–æ –∫–∞–∫ –∞–≤–∞—Ä–∏–π–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π

–°–µ–π—á–∞—Å —É —Ç–µ–±—è:

curl_cffi ‚ùå 100% –±–ª–æ–∫
‚Üì
Playwright ‚úÖ 100%


–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫:

curl_cffi (80‚Äì95% –∑–∞–ø—Ä–æ—Å–æ–≤)
‚Üì (—Ä–µ–¥–∫–æ)
Playwright (5‚Äì20% –∑–∞–ø—Ä–æ—Å–æ–≤, –ª–æ–∫–∞–ª—å–Ω–æ)


–ê –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ:

curl_cffi ONLY

3Ô∏è‚É£ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∏–¥–µ–∏ –ø–æ–¥ —Å–∫–æ—Ä–æ—Å—Ç—å + –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å
üî• –ò–¥–µ—è ‚Ññ1 (–¢–û–ü-1): –†–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ 2 —Ä–µ–∂–∏–º–∞
üé≠ –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã
MODE=local      ‚Üí –º–æ–∂–Ω–æ Playwright
MODE=server     ‚Üí –¢–û–õ–¨–ö–û HTTP
MODE=fast       ‚Üí –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏
MODE=safe       ‚Üí –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ

–ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç

‚úÖ –û–¥–∏–Ω –∫–æ–¥ ‚Äî —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

‚úÖ –ù–∞ –ü–ö –º–æ–∂–Ω–æ ¬´–¥–æ–±—ã—Ç—å¬ª cookies

‚úÖ –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –≤–æ–æ–±—â–µ

‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env

OZON_MODE=server
OZON_ALLOW_BROWSER=false

üî• –ò–¥–µ—è ‚Ññ2: Cookies-as-a-Service (–æ—á–µ–Ω—å —Å–∏–ª—å–Ω–∞—è)
–°—É—Ç—å

üëâ –ü–æ–ª—É—á–∞–µ—à—å cookies 1 —Ä–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
üëâ –°–æ—Ö—Ä–∞–Ω—è–µ—à—å –∏—Ö –≤ —Ñ–∞–π–ª / S3 / GitHub Secrets
üëâ –ò—Å–ø–æ–ª—å–∑—É–µ—à—å –≤–µ–∑–¥–µ

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è
tools/
 ‚îî‚îÄ‚îÄ get_cookies.py   ‚Üê Playwright (–ª–æ–∫–∞–ª—å–Ω–æ)
cookies/
 ‚îî‚îÄ‚îÄ ozon.json        ‚Üê —Ä–µ–∑—É–ª—å—Ç–∞—Ç


–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

cookies = load_cookies("ozon.json")

–ü–æ—á–µ–º—É —ç—Ç–æ —Ç–æ–ø

üöÄ Playwright –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

üöÄ –ó–∞–ø—É—Å–∫ –Ω–∞ –ª—é–±–æ–º –ü–ö = python main.py

üöÄ Docker –æ–±—Ä–∞–∑ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤ 3‚Äì5 —Ä–∞–∑ –º–µ–Ω—å—à–µ

üöÄ –°–∫–æ—Ä–æ—Å—Ç—å ‚Üë (–Ω–µ—Ç browser startup)

üî• –ò–¥–µ—è ‚Ññ3: –£–±—Ä–∞—Ç—å Playwright –∏–∑ runtime –ø–æ–ª–Ω–æ—Å—Ç—å—é
–°–µ–π—á–∞—Å

Playwright = runtime dependency ‚ùå

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

Playwright = dev-tool, –∞ –Ω–µ dependency

requirements.txt
‚îú‚îÄ‚îÄ curl_cffi
‚îú‚îÄ‚îÄ httpx
‚îî‚îÄ‚îÄ pandas

requirements-dev.txt
‚îú‚îÄ‚îÄ playwright
‚îú‚îÄ‚îÄ stealth


–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:

pip install -r requirements.txt


üí° –≠—Ç–æ —Å—Ä–∞–∑—É –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç —Ö–æ—Å—Ç–∏–Ω–≥-–¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º

4Ô∏è‚É£ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–æ–≤ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)
‚ö° –ò–¥–µ—è ‚Ññ4: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è + adaptive delay
–°–µ–π—á–∞—Å

—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–¥—É—Ç –ø–æ—á—Ç–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

fallback = –±–ª–æ–∫–∏—Ä—É—é—â–∏–π

–£–ª—É—á—à–µ–Ω–∏–µ

–ó–∞–≥—Ä—É–∂–∞—Ç—å 3‚Äì5 —Å—Ç—Ä–∞–Ω–∏—Ü –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

–ù–æ —Å:

jitter (—Ä–∞–Ω–¥–æ–º ¬±0.2 —Å–µ–∫)

global rate limit

delay = base_delay + random.uniform(-0.2, 0.2)


üí° –≠—Ç–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–µ–µ —á–µ–ª–æ–≤–µ–∫–∞, —á–µ–º —Ä–æ–≤–Ω—ã–µ 1.0 —Å–µ–∫

‚ö° –ò–¥–µ—è ‚Ññ5: –ö—ç—à —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞ (–æ—á–µ–Ω—å –ø—Ä–∞–∫—Ç–∏—á–Ω–æ)
–†–µ–∞–ª—å–Ω–æ—Å—Ç—å

–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞:

–º–µ–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ

—Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã

–î–µ–ª–∞–π —Ç–∞–∫:
.cache/
 ‚îú‚îÄ‚îÄ seller_176640_page_1.json
 ‚îú‚îÄ‚îÄ seller_176640_page_2.json


–õ–æ–≥–∏–∫–∞:

–µ—Å–ª–∏ cache < 24—á ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

–µ—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Üí fallback –Ω–∞ cache

–í—ã–≥–æ–¥–∞

‚ö° –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ = —Å–µ–∫—É–Ω–¥—ã

‚ö° –±–µ–∑–æ–ø–∞—Å–Ω–æ

‚ö° —É–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

5Ô∏è‚É£ –•–æ—Å—Ç–∏–Ω–≥: —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –±–æ–ª–∏
üèÜ –õ—É—á—à–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥ —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç
ü•á Railway

–ü–æ—á–µ–º—É:

GitHub ‚Üí deploy

Secrets ‚Üí cookies

Python —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

–ë–µ–∑ VPN

üëâ –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ: ‚ùå Playwright –≤ runtime

ü•à VPS (Hetzner / Timeweb)

–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å

–ú–æ–∂–Ω–æ cron

–ú–æ–∂–Ω–æ proxy

üëâ –ù–æ –¥–æ—Ä–æ–∂–µ –∏ —Å–ª–æ–∂–Ω–µ–µ

‚ùå –ì–¥–µ –ù–ï —Å—Ç–æ–∏—Ç

Heroku ‚Üí –ø—Ä–æ–±–ª–µ–º—ã —Å headless

Serverless (Lambda) ‚Üí Playwright = –±–æ–ª—å

6Ô∏è‚É£ Docker: –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω–æ
üéØ –¶–µ–ª—å

Docker image ‚â§ 300 MB, –±–∏–ª–¥ < 1 –º–∏–Ω

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π Dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .
CMD ["python", "parse_ozon_sellers.py"]


‚ùå –ë–µ–∑ Chromium
‚ùå –ë–µ–∑ Playwright
‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ

7Ô∏è‚É£ UX –ø—Ä–æ–µ–∫—Ç–∞ (—á—Ç–æ–±—ã –ª—é–±–æ–π –ü–ö)
üß© –ò–¥–µ—è ‚Ññ6: CLI + presets
python run.py fast
python run.py safe
python run.py server


–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:

PRESETS = {
  "fast":  {delay: 0.5, concurrent: 4},
  "safe":  {delay: 1.2, concurrent: 2},
}


üëâ –ü—Ä–æ–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è ¬´—É—Ç–∏–ª–∏—Ç–æ–π¬ª, –∞ –Ω–µ –∫–æ–¥–æ–º

8Ô∏è‚É£ –ß–µ—Å—Ç–Ω—ã–π trade-off (–≤–∞–∂–Ω–æ)
–†–µ—à–µ–Ω–∏–µ	–°–∫–æ—Ä–æ—Å—Ç—å	–ü—Ä–æ—Å—Ç–æ—Ç–∞	–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
Playwright –≤–µ–∑–¥–µ	‚ùå	‚ùå	‚úÖ
HTTP + cookies	‚úÖ	‚úÖ	‚ö†Ô∏è
HTTP + proxy	‚úÖ	‚ö†Ô∏è	‚úÖ
Hybrid	üî•	‚ö†Ô∏è	üî•

üëâ –î–ª—è —Ç–µ–±—è –ª—É—á—à–µ Hybrid, –Ω–æ —Å —É–∫–ª–æ–Ω–æ–º –≤ HTTP

9Ô∏è‚É£ –ò—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (–∫–∞–∫ —Ç–∏–º–ª–∏–¥)
–Ø –±—ã —Å–¥–µ–ª–∞–ª —Ç–∞–∫:

‚ùå –£–±—Ä–∞–ª Playwright –∏–∑ runtime

‚úÖ –û—Å—Ç–∞–≤–∏–ª Playwright –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–π cookie-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

‚úÖ –°–¥–µ–ª–∞–ª —Ä–µ–∂–∏–º—ã (server / local)

‚úÖ –î–æ–±–∞–≤–∏–ª cache —Å—Ç—Ä–∞–Ω–∏—Ü

‚úÖ –ó–∞—Ç–æ—á–∏–ª –ø—Ä–æ–µ–∫—Ç –ø–æ–¥ Railway

‚ùå –ù–µ –≥–Ω–∞–ª—Å—è –∑–∞ 0.3 —Å–µ–∫ delay –ª—é–±–æ–π —Ü–µ–Ω–æ–π

üß† –ö–ª—é—á–µ–≤–∞—è –º—ã—Å–ª—å

–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º—ã–π –ø–∞—Ä—Å–µ—Ä ‚Äî —ç—Ç–æ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥–∞–ª—å—à–µ:

–Ø –º–æ–≥—É:

üîß –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

üß© –Ω–∞–ø–∏—Å–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π get_cookies.py

üê≥ —Å–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π Docker + Railway config

‚ö° –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ–¥ HTTP-only —Ä–µ–∂–∏–º

–°–∫–∞–∂–∏, —á—Ç–æ –¥–ª—è —Ç–µ–±—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1 —Å–µ–π—á–∞—Å:
—Å–∫–æ—Ä–æ—Å—Ç—å / –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å / —Ö–æ—Å—Ç–∏–Ω–≥ / —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Äî –∏ —è –ø–æ–π–¥—É –≤–≥–ª—É–±—å.

—Å—É—Ö–æ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–∞–º–º–∞—Ä–∏:

Playwright —Å–∏–ª—å–Ω–æ –º–µ—à–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Ö–æ—Å—Ç–∏–Ω–≥—É

–õ—É—á—à–∏–π –ø—É—Ç—å: HTTP-only –ø–∞—Ä—Å–µ—Ä + cookies, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ

–†–∞–∑–¥–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Ä–µ–∂–∏–º—ã (local/server)

–£–±–µ—Ä–∏ –±—Ä–∞—É–∑–µ—Ä—ã –∏–∑ runtime ‚Üí –ø—Ä–æ–µ–∫—Ç —Å—Ç–∞–Ω–µ—Ç –±—ã—Å—Ç—Ä—ã–º, –ª—ë–≥–∫–∏–º –∏ portable



2. –û—Ç–≤–µ—Ç –æ—Ç ChatGPT Research:
–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø–∞—Ä—Å–µ—Ä–∞ Ozon
–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ API

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö API: Ozon —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (Seller API –∏ –¥—Ä—É–≥–∏–º–∏ –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏) –≤–º–µ—Å—Ç–æ –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, —É—Ç–æ—á–Ω–∏—Ç–µ —É Ozon, –µ—Å—Ç—å –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API-–º–µ—Ç–æ–¥—ã (–∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤, –∞–∫—Ü–∏–π –∏ —Ç.–ø.) –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞. –≠—Ç–æ —É—Å—Ç—Ä–∞–Ω–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ –∞–Ω—Ç–∏–±–æ—Ç–∞ –∏ –ø–æ–≤—ã—Å–∏—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

    –†–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –∏ IP: –ü–æ—Å–∫–æ–ª—å–∫—É –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É API –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∞–Ω—Ç–∏–±–æ—Ç–æ–º, —Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ø—Ä–æ–∫—Å–∏. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö) –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º IP –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ —á–∞—Å—Ç–æ–º –ø–∞—Ä—Å–∏–Ω–≥–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –ø–æ –ø—É–ª—É –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≥–µ–æ–≥—Ä–∞—Ñ–∏–µ–π Ozon.

    –†–æ—Ç–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ User-Agent: –ú–µ–Ω—è–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (User-Agent, Referer, Accept –∏ –¥—Ä.) —Å –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–µ–π. –†–æ—Ç–∞—Ü–∏—è User-Agent –¥–µ–ª–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –±–æ–ª–µ–µ ¬´—á–µ–ª–æ–≤–µ—á–Ω—ã–º¬ª –∏ —Å–Ω–∏–∂–∞–µ—Ç —à–∞–Ω—Å –¥–µ—Ç–µ–∫—Ü–∏–∏. –ö –ø—Ä–∏–º–µ—Ä—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É fake_useragent –∏–ª–∏ —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ —Ä–µ–∞–ª—å–Ω—ã—Ö User-Agent –∏–∑ –±—Ä–∞—É–∑–µ—Ä–æ–≤.

    –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤: –ï—Å–ª–∏ —Ü–µ–Ω—ã –∏ —Ç–æ–≤–∞—Ä—ã –º–µ–Ω—è—é—Ç—Å—è –Ω–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –∫—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å JSON –∏–ª–∏ SKU-—Å–ø–∏—Å–æ–∫ –Ω–∞ –¥–∏—Å–∫). –≠—Ç–æ —É–º–µ–Ω—å—à–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

–ü–∞—Ä—Å–∏–Ω–≥ SKU –∏ –∞—Ä—Ç–∏–∫—É–ª–æ–≤

    –í–∞–ª–∏–¥–∞—Ü–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞: –í –ª–æ–≥–µ –≤–∏–¥–Ω–æ, —á—Ç–æ Seller API –Ω–µ –≤–µ—Ä–Ω—É–ª –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å seller_id –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Client ID/API Key) ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–æ–≤–∞—Ä—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —ç—Ç–æ–º—É –ø—Ä–æ–¥–∞–≤—Ü—É –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ API. –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ offer_id –Ω–µ—Ç, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É ¬´–ú–æ–∏ —Ç–æ–≤–∞—Ä—ã¬ª —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Å –ø–æ–º–æ—â—å—é –±—Ä–∞—É–∑–µ—Ä–∞) –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.

    –£–ª—É—á—à–µ–Ω–∏–µ —Å–±–æ—Ä–∞ SKU: –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ SKU –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞—Ä—Å–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –í–°–ï –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–∏–¥–∂–µ—Ç—ã. –ò–Ω–æ–≥–¥–∞ Ozon –æ—Ç–¥–∞—ë—Ç —Ç–æ–≤–∞—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö (—Ä–∞–∑–Ω—ã–µ widgetStates). –†–∞—Å—à–∏—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É JSON, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞

    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º: –í—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (async). –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ –∑–∞–¥–∞—á–∏ (asyncio.create_task) –∏ –∂–¥—ë—Ç–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ asyncio.gather –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü.

    –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π JSON-–ø–∞—Ä—Å–∏–Ω–≥: –î–ª—è —Ä–∞–∑–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ API –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π –ø–∞—Ä—Å–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä orjson. –°–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, orjson.loads() –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–¥–≤–æ–µ –±—ã—Å—Ç—Ä–µ–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ json.loads(), –∞ orjson.dumps() ‚Äì –¥–æ 10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∏ –º–∞—Å—Å–æ–≤–æ–º –ø–∞—Ä—Å–∏–Ω–≥–µ –±–æ–ª—å—à–∏—Ö JSON-–æ—Ç–≤–µ—Ç–æ–≤.

    –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ Seller API: –ï—Å–ª–∏ API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –∑–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —Ü–µ–Ω—ã ¬´–ø–∞—á–∫–∞–º–∏¬ª –¥–æ –º–∞–∫—Å–∏–º—É–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 1000 SKU –∑–∞ –∑–∞–ø—Ä–æ—Å). –≠—Ç–æ —Å–æ–∫—Ä–∞—Ç–∏—Ç —á–∏—Å–ª–æ –æ–±—Ä–∞—â–µ–Ω–∏–π. –ï—Å–ª–∏ fetch_product_prices() –æ–≥—Ä–∞–Ω–∏—á–µ–Ω, —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ —Å–ø–∏—Å–æ–∫ SKU –Ω–∞ –±–æ–ª—å—à–∏–µ –±–ª–æ–∫–∏ –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Å —É—á—ë—Ç–æ–º –ª–∏–º–∏—Ç–∞).

–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞ –∏ —ç–º—É–ª—è—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è

    –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ ¬´—á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ¬ª –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –ê–Ω—Ç–∏–±–æ—Ç Ozon –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä—ã–µ, ¬´–º–∞—à–∏–Ω–Ω—ã–µ¬ª –¥–µ–π—Å—Ç–≤–∏—è. –í–≤–µ–¥–∏—Ç–µ —Ä–∞–Ω–¥–æ–º–Ω—ã–µ –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏, —Å–∏–º—É–ª–∏—Ä—É–π—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à—å—é –∏–ª–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫—É –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —á–µ—Ä–µ–∑ Playwright. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª—è–π—Ç–µ await page.mouse.move(...) –∏ await asyncio.sleep(random.uniform(...)) –º–µ–∂–¥—É –∫–ª–∏–∫–∞–º–∏. –≠—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

    –¢—â–∞—Ç–µ–ª—å–Ω–∞—è TLS-—ç–º—É–ª—è—Ü–∏—è: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl_cffi —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º impersonate='chrome131' (–∫–∞–∫ —Å–µ–π—á–∞—Å) –∏–ª–∏ –±–æ–ª–µ–µ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π. –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π TLS-—Ö–µ–Ω–¥—à–µ–π–∫ –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–æ—á–Ω–æ –∫–∞–∫ —É –±—Ä–∞—É–∑–µ—Ä–∞ Chrome. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É Cloudflare –∏ Ozon –º–µ–Ω—å—à–µ –≤—ã—è–≤–ª—è—é—Ç ¬´–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é¬ª. –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–∫—Å–∏, –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ TLS-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–º (–ø–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äì –ø—Ä–æ JA3/JA4-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–∏–Ω–≥).

    –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ö–æ–¥–∞: –£–∂–µ –ø—Ä–∏–º–µ–Ω—ë–Ω –ø–æ–¥—Ö–æ–¥ ¬´curl_cffi ‚Üí Playwright¬ª. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å –µ–≥–æ: —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ curl_cffi (TLS-–∏–º–∏—Ç–∞—Ü–∏—è). –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç 403 –∏–ª–∏ –æ—á–µ–≤–∏–¥–Ω–∞—è –∫–∞–ø—á–∞ ‚Äì –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –Ω–∞ –±—Ä–∞—É–∑–µ—Ä. –≠—Ç–æ —Å–Ω–∏–∑–∏—Ç —á–∏—Å–ª–æ —Ç—è–∂—ë–ª—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ curl_cffi —Å–ª–µ–¥—É–µ—Ç —Å—Ä–∞–∑—É –ø–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç. –ï—Å–ª–∏ –∂–µ –æ–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Playwright/Stealth-—Ä–µ–∂–∏–º. –¢–∞–∫–∞—è –ø–æ—ç—Ç–∞–ø–Ω–∞—è —Å—Ö–µ–º–∞ –ø–æ–∫–∞–∑–∞–Ω–∞ –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –≤ –æ–±—Ö–æ–¥–µ: –ü—Ä–∏–≤—è–∂–∏—Ç–µ Playwright/Stealth –±—Ä–∞—É–∑–µ—Ä –∫ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–º –ø—Ä–æ–∫—Å–∏ —Ç–æ–≥–æ –∂–µ —Ä–µ–≥–∏–æ–Ω–∞ (–†–æ—Å—Å–∏—è/—Å–æ—Å–µ–¥–∏). –†–æ—Ç–∞—Ü–∏—è —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö IP –æ—Å–æ–±–µ–Ω–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø—Ä–æ—Ç–∏–≤ –∫–∞–ø—á –∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. –£—á—Ç–∏—Ç–µ, —á—Ç–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —Å–ª–æ–∂–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –ø–æ–º–æ–≥—É—Ç –≤–æ–æ–±—â–µ —Ä–µ–∂–µ –∑–∞–ø—É—Å–∫–∞—Ç—å Playwright.

    –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –í–µ–¥–∏—Ç–µ —Å—á—ë—Ç 403 –∏ –ø–æ–ø–∞–¥–∞–Ω–∏–π –Ω–∞ –∫–∞–ø—á—É. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥–æ–π IP –ø—Ä–∏ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–∏ —á–∏—Å–ª–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–æ–¥—Ä—è–¥ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü —Ç—Ä–µ–±—É—é—Ç fallback, –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–¥–ª–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä. –¢–∞–∫–∂–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏ (URL, –≤—Ä–µ–º—è) –∏ –æ–ø–æ–≤–µ—â–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É ‚Äì —ç—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –±—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–æ–≤—ã—Ö –∑–∞—â–∏—Ç.

–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

    –ü–ª–∞–≤–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏: –û–ø—ã—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –º–æ–∂–Ω–æ —Å–Ω–∏–∂–∞—Ç—å request_delay –∏ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å max_concurrent, –Ω–æ –¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ. –ü–µ—Ä–µ–¥ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (2‚Äì3 –Ω–µ–¥–µ–ª–∏) –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ —á–∏—Å–ª–æ 403. –í—Å–µ–≥–¥–∞ —É–º–µ–Ω—å—à–∞–π—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ —Ä–µ–∑–∫–æ–º —Ä–æ—Å—Ç–µ –æ—à–∏–±–æ–∫.

    –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ cookies: –ü–æ—Å–ª–µ –æ–¥–Ω–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –Ω–∞–±–æ—Ä cookies –Ω–∞ –¥–∏—Å–∫ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—É—Å–∫–∞—Ö (—Å–¥–µ–ª–∞–π—Ç–µ fall-back –∫ auto_get_cookies=False, –µ—Å–ª–∏ –∫—É–∫–∏ —É—Å—Ç–∞—Ä–µ–ª–∏). –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ª–∏—à–Ω–∏–π —Ä–∞–∑ –Ω–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –±—Ä–∞—É–∑–µ—Ä—É –∑–∞ –Ω–æ–≤—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏.

    –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤/–ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –Ω–∏–º, –Ω–æ —Å–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏–º–∏—Ç–∏—Ä–æ–≤–∞–ª —Å–≤–æ—é —Å–µ—Å—Å–∏—é (—Å–≤–æ–π –Ω–∞–±–æ—Ä cookies –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤). –≠—Ç–æ –µ—â—ë –±–æ–ª—å—à–µ —Ä–∞–∑–Ω–µ—Å—ë—Ç –∑–∞–ø—Ä–æ—Å—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ IP.

    –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞: –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö –æ–Ω –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –∑–∞–ø–∏—Å—å –≤ CSV/–ë–î. –ü–æ–¥—É–º–∞–π—Ç–µ –æ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ CSV –∏–ª–∏ –≤—Å—Ç–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ä–∞–∑—É –≤ –±–∞–∑—É (PostgreSQL, MongoDB –∏ —Ç.–ø.) ‚Äì —Ç–∞–∫ –ø—Ä–æ—â–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–¥–µ–∏ –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

    –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞: –ù–∞–ø–∏—à–∏—Ç–µ —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–ø–∞—Ä—Å–∏–Ω–≥ JSON, —Å–±–æ—Ä SKU, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö). –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –≤—ã—è–≤–ª—è—Ç—å —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞.

    –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á—ë—Ç—ã (–≥—Ä–∞—Ñ–∏–∫–∏, –¥–∞—à–±–æ—Ä–¥—ã) –∏–∑ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∏—Ç—å –¥–∏–Ω–∞–º–∏–∫—É —Ü–µ–Ω –∏–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–∏–¥–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —á—Ç–æ –ø–æ–≤—ã—Å–∏—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

    –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ: –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —á–∞—Å—Ç—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–∞—Ö, –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä –≤ –æ–±–ª–∞–∫–æ (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä Docker, AWS Lambda/EC2). –¢–∞–∫ –ª–µ–≥—á–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏/—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

    –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥: –ú–æ–∂–Ω–æ –æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—É—Ç–∏: –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Ozon (–∏–Ω–æ–≥–¥–∞ API —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –º–µ–Ω–µ–µ –∑–∞—â–∏—â–µ–Ω—ã). –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OCR/AI –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —ç–∫—Ä–∞–Ω–æ–≤, –µ—Å–ª–∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –¢–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è —Å–º–µ–ª—ã–µ, –Ω–æ –∏–Ω–æ–≥–¥–∞ –¥–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç—Ç–∏–∫–∞

    –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª Ozon: –ü–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ robots.txt Ozon –∏ –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –•–æ—Ç—è —Å–æ–±–∏—Ä–∞–µ—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —É–≤–∞–∂–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∞–π—Ç–∞. –ù–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Å–µ—Ä–≤–µ—Ä —á–∞—Å—Ç—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏, —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞—Ç—å —Ä–∞–±–æ—Ç–µ —Å–∞–π—Ç–∞. –≠—Ç–æ –ø–æ–≤—ã—Å–∏—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.

    –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: –ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫—Ä—ã—Ç—ã–µ —Å–∫–∏–¥–∫–∏), –ø–æ–¥—É–º–∞–π—Ç–µ –æ —Ö—Ä–∞–Ω–µ–Ω–∏–∏ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ OAuth/API –æ—Ç –∏–º–µ–Ω–∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Äì —Ç–æ–≥–¥–∞ –º–Ω–æ–≥–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ª–µ–≥–∞–ª—å–Ω–æ.

–ö–∞–∂–¥–∞—è –∏–∑ —ç—Ç–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∞ –æ–ø—ã—Ç–æ–º –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏ –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–µ–±-–ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω—Ç–∏–±–æ—Ç-–∑–∞—â–∏—Ç. –ò—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª–∏—Ç —É–ª—É—á—à–∏—Ç—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–µ—Ä–∞, –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–Ω–∏–∑–∏—Ç—å —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, —á—Ç–æ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ —É—Å–∫–æ—Ä–∏—Ç —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã.


3.1 –û—Ç–≤–µ—Ç –æ—Ç Grok:
–£—á–µ—Ç –Ω–æ–≤—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π: –°–∫–æ—Ä–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö –∏ —Ö–æ—Å—Ç–∏–Ω–≥
–ö–∞–∫ —Ç–∏–º–ª–∏–¥ —Å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π –≤ IT, —è —É—á–µ–ª –≤–∞—à–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: —Å–∫–æ—Ä–æ—Å—Ç—å (–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤), –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ª–µ–≥–∫–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∑–∞–ø—É—Å–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –û–°/–ü–ö –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π), –∏ —Ö–æ—Å—Ç–∏–Ω–≥ (—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –æ–±–ª–∞–∫–µ –∏–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞). –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (Python-based —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∫–∞–∫ curl_cffi, Playwright, aiohttp) —Ö–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω, –Ω–æ –∏–º–µ–µ—Ç bottlenecks: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ (Playwright/Selenium –¥–ª—è cookies), –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö (e.g., –¥—Ä–∞–π–≤–µ—Ä—ã Chrome), –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±–ª–∞—á–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Ö–æ—Å—Ç–∏–Ω–≥. –í—Ä–µ–º—è ~6.5 –º–∏–Ω –Ω–∞ 524 —Ç–æ–≤–∞—Ä–∞ ‚Äî –ø—Ä–∏–µ–º–ª–µ–º–æ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –Ω—É–∂–Ω–æ <2-3 –º–∏–Ω —Å –∞–≤—Ç–æ-scaling.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

–°–∫–æ—Ä–æ—Å—Ç—å: 95% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ (–∏–∑-–∑–∞ fallback), –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –º–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å via parallelism –∏ proxies.
–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Playwright —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤, .env —Ä—É—á–Ω–æ–π) ‚Äî —Ä–∏—Å–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ Windows/Mac/Linux; –Ω–µ—Ç one-click setup.
–•–æ—Å—Ç–∏–Ω–≥: –ü—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π (—Å–∫—Ä–∏–ø—Ç), –±–µ–∑ API/—Å–µ—Ä–≤–µ—Ä–∞ ‚Äî —Å–ª–æ–∂–Ω–æ deploy, –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏–ª–∏ schedule.

–Ø —Å–æ–±—Ä–∞–ª –∏–¥–µ–∏, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ (e.g., proxies –¥–ª—è –∞–Ω—Ç–∏–±–æ—Ç–∞, asyncio –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è). –ò–¥–µ–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ/–ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã. –ö–∞–∂–¥–∞—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ 2025-2026 –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö DevOps, scraping –∏ cloud).
–ò–¥–µ–∏ –ø–æ –ø–æ–≤—ã—à–µ–Ω–∏—é —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Å —É—á–µ—Ç–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã)

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å Celery/Ray: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ task queue (Celery —Å Redis backend) –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ Seller API. –ù–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ ‚Äî deploy workers –Ω–∞ multiple cores/instances.
–ê—Ä–≥—É–º–µ–Ω—Ç: –£—Å–∫–æ—Ä–∏—Ç —Å 6.5 –º–∏–Ω –¥–æ 1-2 –º–∏–Ω (parallel fetch 10+ —Å—Ç—Ä–∞–Ω–∏—Ü), –ø—Ä–æ—Å—Ç–æ –Ω–∞ –ü–ö (–ª–æ–∫–∞–ª—å–Ω—ã–π Redis), –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ –≤ cloud (e.g., AWS EC2 auto-scaling).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –†–∞–∑–¥–µ–ª–∏—Ç–µ fetch_seller_catalog –Ω–∞ tasks (e.g., celery.task –¥–ª—è _fetch_page), —Å rate limits. –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã ‚Äî one-command start (celery -A app worker).
–ò—Å—Ç–æ—á–Ω–∏–∫: Celery –¥–ª—è async tasks –≤ Python scraping ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è speed-up IO-bound jobs; Ray –¥–ª—è distributed computing –±–µ–∑ boilerplate.

Headless cloud browsers –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ Playwright: –ó–∞–º–µ–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π Playwright –Ω–∞ cloud —Å–µ—Ä–≤–∏—Å—ã –∫–∞–∫ Browserless.io –∏–ª–∏ Puppeteer –≤ AWS Lambda, —Å API calls –¥–ª—è fallback.
–ê—Ä–≥—É–º–µ–Ω—Ç: –£—Å–∫–æ—Ä–∏—Ç fallback (2-3 —Å–µ–∫ vs 5-10), –ø—Ä–æ—Å—Ç–æ (–Ω–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –Ω–∞ –ü–ö), –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ (serverless, no resource overhead).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –í _fetch_page_via_playwright ‚Äî switch to remote browser via websocket; –∫–æ–Ω—Ñ–∏–≥ –≤ .env (BROWSERLESS_TOKEN). –ù–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö ‚Äî zero setup.
–ò—Å—Ç–æ—á–Ω–∏–∫: Cloud browsers –¥–ª—è scraping ‚Äî —Ç—Ä–µ–Ω–¥ 2025 –¥–ª—è bypass anti-bot –±–µ–∑ local deps; Browserless –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å Playwright.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: GPU-accelerated –ø–∞—Ä—Å–∏–Ω–≥ —Å Dask: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dask –¥–ª—è distributed data processing (e.g., –ø–∞—Ä—Å–∏–Ω–≥ JSON –≤ parallel –Ω–∞ GPU), –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤.
–ê—Ä–≥—É–º–µ–Ω—Ç: –£—Å–∫–æ—Ä–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É (x2-5 –¥–ª—è 500+ —Ç–æ–≤–∞—Ä–æ–≤), –ø—Ä–æ—Å—Ç–æ –Ω–∞ –ü–ö —Å CUDA, –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ ‚Äî AWS EC2 —Å GPU (auto-scale).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ó–∞–º–µ–Ω–∏—Ç–µ loops –≤ parse_product –Ω–∞ dask.dataframe; –¥–∞–∂–µ –±–µ–∑ GPU ‚Äî faster than pandas.
–ò—Å—Ç–æ—á–Ω–∏–∫: Dask –¥–ª—è scalable Python –≤ e-commerce data pipelines; GPU accel –¥–ª—è ML-like tasks –≤ scraping.


–ò–¥–µ–∏ –ø–æ –ø—Ä–æ—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö

Dockerization –ø—Ä–æ–µ–∫—Ç–∞: –£–ø–∞–∫—É–π—Ç–µ –≤ Docker container —Å –≤—Å–µ–º–∏ deps (Python, Playwright, Chrome), –≤–∫–ª—é—á–∞—è auto-install –≤ Dockerfile.
–ê—Ä–≥—É–º–µ–Ω—Ç: One-command run (docker run --env-file .env image), —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ any –ü–ö/OS –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏; –ª–µ–≥–∫–æ —Ö–æ—Å—Ç–∏—Ç—å (Docker Hub push).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –í Dockerfile: FROM python:3.12, RUN playwright install; volume –¥–ª—è .env/outputs. –î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Äî multi-stage build.
–ò—Å—Ç–æ—á–Ω–∏–∫: Docker –¥–ª—è Python apps ‚Äî gold standard –¥–ª—è cross-platform simplicity; Playwright docs —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç containerization.

CLI —Å Click –∏–ª–∏ Typer: –î–æ–±–∞–≤—å—Ç–µ command-line interface (e.g., python main.py --seller-id 176640 --output xlsx), —Å defaults –∏–∑ .env.
–ê—Ä–≥—É–º–µ–Ω—Ç: –£–ø—Ä–æ—â–∞–µ—Ç –∑–∞–ø—É—Å–∫ (no code edits), cross-PC (pure Python), –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ö–æ—Å—Ç–∏–Ω–≥–æ–º (–∫–∞–∫ cron job).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Parse args –≤ load_env_config; auto-help. –î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Äî add flags –∫–∞–∫ --fast-mode (reduce delay).
–ò—Å—Ç–æ—á–Ω–∏–∫: Click/Typer –¥–ª—è Python CLI ‚Äî –ø—Ä–æ—Å—Ç–æ—Ç–∞ –¥–ª—è tools; —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å Docker –¥–ª—è zero-config runs.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: No-code GUI —Å Streamlit: Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–≤–æ–¥–∞ seller_id, –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞ –∏ download Excel.
–ê—Ä–≥—É–º–µ–Ω—Ç: Max simplicity (browser-based, no terminal), —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ any –ü–ö; —Ö–æ—Å—Ç–∏–Ω–≥ –Ω–∞ Streamlit Cloud –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: st.form –¥–ª—è config, st.button –¥–ª—è run; async –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –¥–ª—è speed.
–ò—Å—Ç–æ—á–Ω–∏–∫: Streamlit –¥–ª—è data apps ‚Äî –±—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ GUI; –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è scraping tools —Å hosting.


–ò–¥–µ–∏ –ø–æ —Ö–æ—Å—Ç–∏–Ω–≥—É (–∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç—É)

Serverless deploy –Ω–∞ AWS Lambda/Google Cloud Run: –£–ø–∞–∫—É–π—Ç–µ –≤ container (Docker), deploy –∫–∞–∫ function —Å trigger (API –∏–ª–∏ schedule).
–ê—Ä–≥—É–º–µ–Ω—Ç: Auto-scale –¥–ª—è speed (handle big catalogs), –ø—Ä–æ—Å—Ç–æ (no server management), cheap (pay-per-run).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Lambda handler –¥–ª—è parse_ozon_sellers; S3 –¥–ª—è Excel storage. –î–ª—è –ü–ö ‚Äî local run via sam local.
–ò—Å—Ç–æ—á–Ω–∏–∫: Serverless –¥–ª—è Python scripts ‚Äî 2025 best –¥–ª—è intermittent tasks –∫–∞–∫ scraping; –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å proxies.

Kubernetes –¥–ª—è advanced —Ö–æ—Å—Ç–∏–Ω–≥–∞: Deploy –∫–∞–∫ pod –≤ Minikube (local) –∏–ª–∏ GKE (cloud), —Å horizontal scaling.
–ê—Ä–≥—É–º–µ–Ω—Ç: Max speed via pods (parallel workers), –ø—Ä–æ—Å—Ç–æ —Å helm charts; cross-PC testing –≤ Minikube.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: YAML –¥–ª—è deployment; secrets –¥–ª—è .env. –î–ª—è –∞–Ω—Ç–∏–±–æ—Ç–∞ ‚Äî sidecar proxies.
–ò—Å—Ç–æ—á–Ω–∏–∫: K8s –¥–ª—è scalable apps ‚Äî –¥–ª—è production scraping; Minikube –¥–ª—è dev simplicity.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: –•–æ—Å—Ç–∏–Ω–≥ –∫–∞–∫ SaaS —Å Vercel/Heroku: FastAPI wrapper –≤–æ–∫—Ä—É–≥ –ø–∞—Ä—Å–µ—Ä–∞, deploy –Ω–∞ Vercel (free tier).
–ê—Ä–≥—É–º–µ–Ω—Ç: –ü—Ä–æ—Å—Ç–æ—Ç–∞ (API call —Å –ª—é–±–æ–≥–æ –ü–ö), speed via edge functions, —Ö–æ—Å—Ç–∏–Ω–≥ —Å auto-deploys.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Endpoint /parse?seller_id=...; return Excel link. –î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ ‚Äî cache responses.
–ò—Å—Ç–æ—á–Ω–∏–∫: Vercel/Heroku –¥–ª—è Python APIs ‚Äî quick hosting –¥–ª—è tools; FastAPI –¥–ª—è async simplicity.


–≠—Ç–∏ –∏–¥–µ–∏ —Å–¥–µ–ª–∞—é—Ç –ø—Ä–æ–µ–∫—Ç faster (—Ü–µ–ª—å <3 –º–∏–Ω), simpler (docker/CLI/GUI) –∏ hostable (cloud-first). –ù–∞—á–Ω–∏—Ç–µ —Å Docker + CLI –¥–ª—è quick wins, –∑–∞—Ç–µ–º serverless. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–µ—Ç–∞–ª–∏ (e.g., Dockerfile code), –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å!


3.2 –û—Ç–≤–µ—Ç –æ—Ç Grok:
–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ö–∞–∫ —Ç–∏–º–ª–∏–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –≤—Å–µ–æ–±—ä–µ–º–ª—é—â–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –≤ IT, —è –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ –ø–∞—Ä—Å–µ—Ä–∞ Ozon. –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç: –ø—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å–æ—á–µ—Ç–∞–µ—Ç –¥–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞ —Å fallback-–º–µ—Ö–∞–Ω–∏–∑–º–æ–º –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º —Ä–∏—Å–∫–æ–≤. –ü–∞—Ä—Å–µ—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (524 —Ç–æ–≤–∞—Ä–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∑–∞–ø—É—Å–∫–µ), —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ Excel –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ~6.5 –º–∏–Ω –¥–ª—è 44 —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî —ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞, –Ω–æ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
–û–¥–Ω–∞–∫–æ, –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –æ—á–µ–≤–∏–¥–Ω—ã –∏–∑ –ª–æ–≥–æ–≤:

–ü–æ–ª–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Playwright fallback: curl_cffi –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 100% –∑–∞–ø—Ä–æ—Å–æ–≤ (44/44), —á—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è (5-10 —Å–µ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å) –∏ —Ä–µ—Å—É—Ä—Å—ã.
–ù—É–ª–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ Seller API: 0 —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ 524, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (Client ID/API Key –Ω–µ –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞) –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API (—Ç–æ–≤–∞—Ä—ã –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É).
–°–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å: –ó–∞–¥–µ—Ä–∂–∫–∏ –≤ –ø—É–±–ª–∏—á–Ω–æ–º API, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ä–∏—Å–∫–∞–º –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö: –¢–æ–ª—å–∫–æ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è (100%), –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–∞ (0%) —Å–Ω–∏–∂–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å –≤—ã–≤–æ–¥–∞.

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ñ–æ–∫—É—Å–∞ –Ω–∞ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏, —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø–æ–ª–Ω–æ—Ç–µ –¥–∞–Ω–Ω—ã—Ö. –ù–∏–∂–µ —è —Ä–∞–∑–±–µ—Ä—É –ø–æ –ø—É–Ω–∫—Ç–∞–º –æ–ø–∏—Å–∞–Ω–∏—è, –æ—Ç–º–µ—Ç–∏–≤ –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π –≤ –∫–∞–∂–¥–æ–º, –∞ –∑–∞—Ç–µ–º –ø—Ä–µ–¥–ª–æ–∂—É –ª—É—á—à–∏–µ –∏–¥–µ–∏ –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ (–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö web scraping –∏ API-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π 2025-2026 –≥–≥.).
1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ª–æ–≥–∏—á–Ω–∞ (–º–æ–¥—É–ª–∏ –¥–ª—è API, –ø–∞—Ä—Å–µ—Ä–∞, —É—Ç–∏–ª–∏—Ç), –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π, —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é –≤ OzonCatalogAPI (max_concurrent=3). –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –ª–µ–≥–∫–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–Ω–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏: OzonSellerAPI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ (0.5 —Å–µ–∫), –Ω–æ –Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –¥–ª—è –±–∞—Ç—á–∏–Ω–≥–∞ >1000 —Ç–æ–≤–∞—Ä–æ–≤.
–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: –õ–æ–≥–∏ –¥–µ—Ç–∞–ª—å–Ω—ã, –Ω–æ –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—Ç—Ä–∞—è –∏–ª–∏ alerting.
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç .env: –ö–æ–Ω—Ñ–∏–≥ –∂–µ—Å—Ç–∫–æ –∑–∞—à–∏—Ç, –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ fallback –Ω–∞ secrets manager.

2. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –î–≤–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–æ–ø–æ–ª–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π API –¥–∞–µ—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, Seller API ‚Äî —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–≤—Ü–∞. –ù–æ –≤ –ª–æ–≥–∞—Ö Seller API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö: 100% —Ç–æ–≤–∞—Ä–æ–≤ —Ç–æ–ª—å–∫–æ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞, 0% –∏–∑ Seller API ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ scope API (–Ω–µ –¥–ª—è —Ç—Ä–µ—Ç—å–∏—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤?).
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API: –ú–µ–¥–ª–µ–Ω–Ω—ã–π, –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è ‚Äî –Ω—É–∂–Ω–∞ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ endpoints Ozon).
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–≤–µ–∂–µ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∫—Ä–æ—Å—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—é –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.

3. –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: SKU –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API, offer_id –∏–∑ Seller API ‚Äî –ø—Ä–æ—Ü–µ—Å—Å —á–µ—Ç–∫–∏–π, –Ω–æ –∏–∑-–∑–∞ 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ offer_id –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Seller API: –ï—Å–ª–∏ –æ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞—Ä—Ç–∏–∫—É–ª—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ —Ç–µ—Ä—è—é—Ç—Å—è ‚Äî –¥–æ–±–∞–≤–∏—Ç—å fallback (–ø–∞—Ä—Å–∏–Ω–≥ –∏–∑ HTML –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ API).
–ù–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è: –í–æ–∑–º–æ–∂–Ω—ã –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è SKU (524 –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, 0 –≤ API) ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ mismatch.
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏: offer_id —É–Ω–∏–∫–∞–ª–µ–Ω per seller, –Ω–æ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–ª–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

4. –ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –≠—Ç–∞–ø—ã (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∫–∞—Ç–∞–ª–æ–≥, Seller API, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç) —Ä–∞–±–æ—Ç–∞—é—Ç, —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º JSON –∏ DataFrame –≤ Excel. –ê–≤—Ç–æ-–ø–æ–ª—É—á–µ–Ω–∏–µ cookies —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

–ü–æ–ª–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ curl_cffi: 100% fallback –Ω–∞ Playwright ‚Äî —ç—Ç–æ bottleneck (352 —Å–µ–∫ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥).
Seller API –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω: –ó–∞–ø—Ä–æ—Å —Ç—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è (0.9 —Å–µ–∫), –Ω–æ –¥–∞–µ—Ç 0 ‚Äî –¥–æ–±–∞–≤–∏—Ç—å conditional skip –µ—Å–ª–∏ 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
–≠–∫—Å–ø–æ—Ä—Ç: –ê–≤—Ç–æ—à–∏—Ä–∏–Ω–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ —Ö–æ—Ä–æ—à–æ, –Ω–æ –Ω–µ—Ç –æ–ø—Ü–∏–π (CSV, DB) –∏–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (–≥—Ä–∞—Ñ–∏–∫–∏ —Å–∫–∏–¥–æ–∫).

5. –û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π (curl_cffi ‚Üí Playwright —Å stealth), cookies –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç (100% —É—Å–ø–µ—Ö fallback).
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

curl_cffi –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω: –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ ‚Äî —É–ª—É—á—à–∏—Ç—å —ç–º—É–ª—è—Ü–∏—é (TLS fingerprint, headers).
–†–µ—Å—É—Ä—Å–æ–µ–º–∫–æ—Å—Ç—å Playwright: –ú–µ–¥–ª–µ–Ω–Ω—ã–π (5-10 —Å–µ–∫), headless=true ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞.
–ù–µ—Ç —Ä–æ—Ç–∞—Ü–∏–∏: –ë–µ–∑ proxies –∏–ª–∏ user-agents ‚Äî —Ä–∏—Å–∫ –ø–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ IP.

6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ –∑–∞–¥–µ—Ä–∂–∫–∞–º/–ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º—É —Å —Ä–∏—Å–∫–∞–º–∏ ‚Äî —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (delay=1.0, concurrent=3) –¥–∞—é—Ç ~1.5 —Ç–æ–≤–∞—Ä–∞/—Å–µ–∫.
–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–π:

–†–∏—Å–∫–∏ –Ω–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã: –ù–µ—Ç –∞–≤—Ç–æ-–∞–¥–∞–ø—Ç–∞—Ü–∏–∏ (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ delay –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö).
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∞: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ –∑–∞–Ω–æ–≤–æ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: –ù–µ—Ç alerting –Ω–∞ >N fallback –∏–ª–∏ –≤—Ä–µ–º—è >threshold.

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–¥–µ–π –¥–ª—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ª—É—á—à–µ–Ω–∏—è
–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏–¥–µ–∏ –æ—Ç –ø—Ä–∞–∫—Ç–∏—á–Ω—ã—Ö (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º) –¥–æ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö (–¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ —Å—Ç—Ä–æ–≥–æ –ø–æ–¥—Ö–æ–¥—è—Ç, –Ω–æ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å value, –∫–∞–∫ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è). –ö–∞–∂–¥–∞—è —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏. –ò–¥–µ–∏ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–æ–±–ª–µ–º–∞–º.
–ò–¥–µ–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é Seller API (–æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é Seller API: –î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é Client-ID/API-Key –Ω–∞ —Å—Ç–∞—Ä—Ç–µ (–∑–∞–ø—Ä–æ—Å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ endpoint, –∫–∞–∫ /v1/product/info). –ï—Å–ª–∏ 0 ‚Äî fallback –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ offer_id –∏–∑ HTML —Å—Ç—Ä–∞–Ω–∏—Ü —á–µ—Ä–µ–∑ Playwright.
–ê—Ä–≥—É–º–µ–Ω—Ç: –õ–æ–≥–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç "–¢–æ–≤–∞—Ä—ã –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–æ–¥–∞–≤—Ü—É" ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, API –¥–ª—è self-seller, –∞ –Ω–µ third-party. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ–±–µ—Å–ø–µ—á–∏—Ç –ø–æ–ª–Ω–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö (offer_id, min_price).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –í Ozon Seller API endpoint /v5/product/info/prices —Ç—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω–æ–≥–æ match product_ids, –∏ –µ—Å–ª–∏ seller –Ω–µ owner, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç empty. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç: "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –ø—Ä–æ–¥–∞–≤—Ü—É" (–∏–∑ –≤–∞—à–µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è), –Ω–æ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ methods –∫–∞–∫ /v4/product/info –¥–ª—è cross-check.
–ò—Å—Ç–æ—á–Ω–∏–∫: Ozon Seller API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç, —á—Ç–æ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ inventory –ø—Ä–æ–¥–∞–≤—Ü–∞; –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ ‚Äî invalid auth –∏–ª–∏ no match items. Troubleshooting: –ï—Å–ª–∏ empty, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å scope API-key –≤ Ozon cabinet.

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è seller data: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ozon Performance API –∏–ª–∏ scraping –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (e.g., product details) –¥–ª—è offer_id.
–ê—Ä–≥—É–º–µ–Ω—Ç: –£–≤–µ–ª–∏—á–∏—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å (—Å 0% –¥–æ 100% –¥–ª—è seller_price), —Å–¥–µ–ª–∞–≤ –ø–∞—Ä—Å–µ—Ä –ø–æ–ª–Ω—ã–º.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ï—Å–ª–∏ Seller API –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (e.g., –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤), –ø–∞—Ä—Å–∏—Ç–µ –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö product pages ‚Äî –¥–æ–±–∞–≤—å—Ç–µ loop –≤ OzonCatalogAPI –¥–ª—è fetch details per SKU.
–ò—Å—Ç–æ—á–Ω–∏–∫: Ozon docs —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç Performance API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –≤–∫–ª—é—á–∞—è prices; –¥–ª—è troubleshooting empty results ‚Äî check product_ids validity.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: ML –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è seller_price: –ï—Å–ª–∏ API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ML (e.g., regression –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö) –¥–ª—è —ç–º—É–ª—è—Ü–∏–∏ seller_price –Ω–∞ –æ—Å–Ω–æ–≤–µ current_price –∏ discount.
–ê—Ä–≥—É–º–µ–Ω—Ç: –ü–æ–º–æ–∂–µ—Ç –¥–∞–∂–µ –±–µ–∑ API, –¥–æ–±–∞–≤–∏–≤ value (–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è A/B-—Ç–µ—Å—Ç–æ–≤ —Ü–µ–Ω).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ –ø—Ä–æ—à–ª—ã—Ö –∑–∞–ø—É—Å–∫–∞—Ö (pandas + scikit-learn), –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.
–ò—Å—Ç–æ—á–Ω–∏–∫: –í e-commerce scraping, ML –¥–ª—è price prediction ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç (e.g., –¥–ª—è anomaly detection).


–ò–¥–µ–∏ –ø–æ –æ–±—Ö–æ–¥—É –∞–Ω—Ç–∏–±–æ—Ç–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

–í–Ω–µ–¥—Ä–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é proxies –∏ user-agents: –î–æ–±–∞–≤—å—Ç–µ –≤ OzonCatalogAPI –ø–æ–¥–¥–µ—Ä–∂–∫—É rotating proxies (e.g., via aiohttp + proxy pool) –∏ random UA –∏–∑ —Å–ø–∏—Å–∫–∞ Chrome 131+.
–ê—Ä–≥—É–º–µ–Ω—Ç: –°–Ω–∏–∑–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ curl_cffi —Å 100% –¥–æ <10%, —É—Å–∫–æ—Ä–∏–≤ –Ω–∞ 20-30% (–±–µ–∑ fallback).
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ê–Ω—Ç–∏–±–æ—Ç Ozon checks TLS fingerprint –∏ IP ‚Äî —Ä–æ—Ç–∞—Ü–∏—è –º–∞—Å–∫–∏—Ä—É–µ—Ç –±–æ—Ç–∞ –∫–∞–∫ human traffic.
–ò—Å—Ç–æ—á–Ω–∏–∫: Best practices 2025: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ residential proxies –¥–ª—è bypass anti-bot; curl_cffi —Å impersonate=chrome131 ‚Äî –±–∞–∑–æ–≤–æ, –Ω–æ +proxies –ø–æ–≤—ã—à–∞–µ—Ç success.

–£–ª—É—á—à–∏—Ç—å Playwright: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ human-like behavior: –û–¥–∏–Ω browser instance –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, —Å random delays, mouse movements.
–ê—Ä–≥—É–º–µ–Ω—Ç: –°–æ–∫—Ä–∞—Ç–∏—Ç –≤—Ä–µ–º—è fallback —Å 5-10 —Å–µ–∫ –¥–æ 2-3 —Å–µ–∫, —Å–Ω–∏–∑–∏–≤ overhead.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Playwright-stealth —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –¥–æ–±–∞–≤—å—Ç–µ persistent context –¥–ª—è cookies reuse.
–ò—Å—Ç–æ—á–Ω–∏–∫: –î–ª—è Ozon-like sites, mimic human: scrolling, delays; Camoufox –∏–ª–∏ playwright-extra –¥–ª—è advanced stealth.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: AI –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: ML-–º–æ–¥–µ–ª—å (e.g., –Ω–∞ logs) –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, –∞–≤—Ç–æ-—É–≤–µ–ª–∏—á–∏–≤–∞—è delay.
–ê—Ä–≥—É–º–µ–Ω—Ç: –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ –∏–∑–±–µ–≥–∞–µ—Ç fallback, –ø–æ–≤—ã—à–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Torch –¥–ª—è classification –Ω–∞ features (retry count, headers).
–ò—Å—Ç–æ—á–Ω–∏–∫: Anti-bot bypass —Å ML –¥–ª—è anomaly detection ‚Äî —Ç—Ä–µ–Ω–¥ 2025.


–ò–¥–µ–∏ –ø–æ —É—Å–∫–æ—Ä–µ–Ω–∏—é –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ü–æ–ª–Ω–∞—è asyncio –¥–ª—è –≤—Å–µ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞: –†–∞—Å—à–∏—Ä—å—Ç–µ aiohttp –Ω–∞ Seller API –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π fetch —Å—Ç—Ä–∞–Ω–∏—Ü (gather tasks).
–ê—Ä–≥—É–º–µ–Ω—Ç: –£—Å–∫–æ—Ä–∏—Ç —Å 6.5 –º–∏–Ω –¥–æ 3-4 –º–∏–Ω, –æ—Å–æ–±–µ–Ω–Ω–æ —Å concurrent=4-5.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –¢–µ–∫—É—â–∏–π max_concurrent=3 ‚Äî —É–≤–µ–ª–∏—á—å—Ç–µ —Å proxies; –±–∞—Ç—á–∏–Ω–≥ SKU –≤ Seller API.
–ò—Å—Ç–æ—á–Ω–∏–∫: Asyncio + aiohttp –¥–ª—è scraping ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ x10 –¥–ª—è IO-bound tasks.

–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ incremental updates: Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è catalog_products; –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
–ê—Ä–≥—É–º–µ–Ω—Ç: –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö runs ‚Äî –≤—Ä–µ–º—è x0.5; –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –•—Ä–∞–Ω–∏—Ç–µ –ø–æ key (seller_id + timestamp), update if changed.
–ò—Å—Ç–æ—á–Ω–∏–∫: –í e-commerce parsers, caching ‚Äî key –¥–ª—è speed.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: Cloud deployment —Å serverless: –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –Ω–∞ AWS Lambda –∏–ª–∏ Google Cloud Run —Å auto-scaling.
–ê—Ä–≥—É–º–µ–Ω—Ç: –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –¥–ª—è –±–æ–ª—å—à–∏—Ö sellers (—Ç—ã—Å—è—á–∏ —Ç–æ–≤–∞—Ä–æ–≤), —Å proxies –≤ cloud.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Trigger –ø–æ schedule (cron), —Å S3 –¥–ª—è Excel.
–ò—Å—Ç–æ—á–Ω–∏–∫: –î–ª—è parsers, serverless —É—Å–∫–æ—Ä—è–µ—Ç –∏ —Å–Ω–∏–∂–∞–µ—Ç costs.


–ò–¥–µ–∏ –ø–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

–î–æ–±–∞–≤–∏—Ç—å alerting system: Slack/Email alerts –Ω–∞ >50% fallback, 0 Seller results –∏–ª–∏ time >5 –º–∏–Ω.
–ê—Ä–≥—É–º–µ–Ω—Ç: –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã, –ø–æ–≤—ã—à–∞—è reliability.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ —Å logging (e.g., via smtplib –∏–ª–∏ webhook).
–ò—Å—Ç–æ—á–Ω–∏–∫: –í e-commerce monitoring, threshold alerts ‚Äî must-have –¥–ª—è parsers.

–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ dashboard: –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —Ç–æ–ª—å–∫–æ Excel, –Ω–æ –≤ Kibana/Streamlit –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (—Å–∫–∏–¥–∫–∏, trends).
–ê—Ä–≥—É–º–µ–Ω—Ç: –î–æ–±–∞–≤–∏—Ç insights (e.g., % —Å–∫–∏–¥–æ–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º), —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: –ü–æ—Å–ª–µ DataFrame ‚Äî render plots —Å matplotlib, deploy –∫–∞–∫ web-app.
–ò—Å—Ç–æ—á–Ω–∏–∫: E-commerce dashboards –¥–ª—è sales monitoring ‚Äî –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞–µ—Ç parsers.

–ö—Ä–µ–∞—Ç–∏–≤–Ω–∞—è –∏–¥–µ—è: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å competitor analysis: –†–∞—Å—à–∏—Ä—å—Ç–µ –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (multiple sellers), —Å alerts –Ω–∞ price changes.
–ê—Ä–≥—É–º–µ–Ω—Ç: –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä –≤ tool –¥–ª—è pricing strategy, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ —Å—Ç—Ä–æ–≥–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ seller.
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ: Loop –ø–æ seller_ids –∏–∑ .env, compare prices.
–ò—Å—Ç–æ—á–Ω–∏–∫: E-commerce strategies: Real-time alerts –¥–ª—è price monitoring.


–≠—Ç–∏ –∏–¥–µ–∏ –∏—Å–ø—Ä–∞–≤—è—Ç –ø—Ä–æ–±–ª–µ–º—ã (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, empty API) –∏ –¥–æ–±–∞–≤—è—Ç value. –ù–∞—á–Ω–∏—Ç–µ —Å —Ñ–∏–∫—Å–∞ Seller API –∏ proxies ‚Äî —ç—Ç–æ –¥–∞—Å—Ç max ROI. –ï—Å–ª–∏ –Ω—É–∂–Ω—ã code snippets –∏–ª–∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è, —É—Ç–æ—á–Ω–∏—Ç–µ!


3.3 –û—Ç–≤–µ—Ç –æ—Ç Grok:
Prompt for Cursor AI
–í–æ—Ç —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –≤ Cursor (–≤ —á–∞—Ç –∏–ª–∏ –∫–∞–∫ –∑–∞–ø—Ä–æ—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏/—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–¥–∞). –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –ø–∞—Ä—Å–µ—Ä–∞ Ozon (–∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏), –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞, –º–æ–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∏–¥–µ–∏ —É–ª—É—á—à–µ–Ω–∏–π (—Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö –∏ —Ö–æ—Å—Ç–∏–Ω–≥), –∞ —Ç–∞–∫–∂–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–º–ø—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã Cursor –º–æ–≥ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏–ª–∏ —à–∞–≥–∏ –ø–æ —à–∞–≥–∞–º. –Ø —Å–¥–µ–ª–∞–ª –µ–≥–æ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º, —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏.

Project Context:
This is a Python-based Ozon parser project for scraping seller catalogs. The architecture includes:

Main script: parse_ozon_sellers.py (loads .env, parses, exports to Excel).
Modules: src/parsers/ozon_parser.py (OzonParser class), src/api/ozon_catalog_api.py (public API with curl_cffi and Playwright fallback), src/api/ozon_seller_api.py (Seller API), src/utils/browser_cookies.py (cookie extraction).
Data sources: Public Entrypoint API (SKU, names, buyer prices) and Seller API (seller prices, offer_id).
Issues from logs: 100% antibot blocks on curl_cffi (always fallback to Playwright, ~6.5 min for 524 items), 0 results from Seller API, no caching, no proxies.
Current speed: ~350-390 sec for 44 pages.
Goals: Improve speed (<3 min), simplicity (easy setup on any PC/OS, no manual deps), hostability (cloud deploy for automation).

Task for Cursor:
Refactor and improve this project based on the following analysis and ideas. Prioritize:

Fix Seller API (0 results issue).
Bypass antibot better (reduce Playwright fallback).
Accelerate parsing (asyncio, parallelism).
Simplify usage (Docker, CLI).
Enable hosting (serverless or containerized).

Generate code snippets, full modules, or step-by-step plan. Use Python 3.12+, async code where possible. Assume dependencies: aiohttp, curl_cffi, playwright, pandas, openpyxl. Add new ones only if essential (e.g., celery, docker). Output in files like: main.py, dockerfile, etc.
Zones of Growth (from analysis):

Architecture: Add full async, error handling, config validation.
Data Sources: Validate Seller API auth, fallback for offer_id from HTML.
Articuls: Handle mismatches (log, alternative parsing).
Parsing Process: Conditional skip Seller if empty, add CSV/DB export.
Antibot Bypass: Add proxies rotation, UA randomization.
Acceleration: Reduce delays (0.8 sec, concurrent=4), caching with Redis.

Improvement Ideas (implement top 3-5 first):

Seller API Fix: Add validation endpoint check in init. If empty, parse offer_id from product pages via Playwright. Code example: In ozon_parser.py, add async def validate_seller_api(self): ...
Proxies & UA Rotation for Antibot: Integrate aiohttp with proxy pool (env: PROXY_LIST). Random UA from list. Reduce fallback to <10%.
Full Async & Parallelism: Use asyncio.gather for page fetches, Celery for distributed tasks. Target: <2 min parse.
Dockerization: Create Dockerfile for all deps (playwright install --with-deps). Run: docker run -v .:/app -e .env vars.
CLI with Click: python main.py --seller-id 176640 --fast-mode.
Serverless Hosting: Wrap in FastAPI, deploy to AWS Lambda. Endpoint: /parse/{seller_id}.
Caching: Use Redis for catalog data (key: seller_id:timestamp).
Cloud Browsers: Replace local Playwright with Browserless.io API for fallback.
Alerting: Add email/slack on errors (e.g., >50% fallback).
GUI Option: Streamlit app for no-code runs, host on Streamlit Cloud.

Implementation Guidelines:

Keep modular structure.
Add tests (pytest) for key functions.
Env vars for all configs (e.g., OZON_PROXY).
Handle cross-PC: No local browser deps in Docker.
For hosting: Include deployment scripts (e.g., terraform for AWS).
Creative: Add ML for price prediction if Seller fails (scikit-learn).

Generate the updated code starting with ozon_parser.py refactor, then Dockerfile, then FastAPI wrapper.

4.1 –û—Ç–≤–µ—Ç –æ—Ç Deepseek:
üéØ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

    –°–∫–æ—Ä–æ—Å—Ç—å - –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

    –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - –ª–µ–≥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ –ª—é–±–æ–º –ü–ö

    –•–æ—Å—Ç–∏–Ω–≥ - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö/VPS

üöÄ –°–ê–ú–´–ï –ü–†–ê–ö–¢–ò–ß–ù–´–ï –†–ï–®–ï–ù–ò–Ø
1. –†–ê–ó–î–ï–õ–ï–ù–ò–ï –ù–ê –î–í–ê –†–ï–ñ–ò–ú–ê (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ)

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
python

# –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –≤—ã–±–æ—Ä–æ–º —Ä–µ–∂–∏–º–∞
import click

@click.command()
@click.option('--mode', default='fast', help='fast/slow/reliable')
def main(mode):
    if mode == 'fast':
        # –†–µ–∂–∏–º –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
        parser = LocalFastParser()
    elif mode == 'reliable':
        # –†–µ–∂–∏–º –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ - –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
        parser = ServerOptimizedParser()
    else:
        # –†–µ–∂–∏–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ
        parser = SafeDefaultParser()

2. –õ–û–ö–ê–õ–¨–ù–´–ô –†–ï–ñ–ò–ú (Fast) - –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:

    Playwright —Å –ø—É–ª–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

    –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏

python

class LocalFastParser:
    def __init__(self):
        self.browser_pool = BrowserPool(size=5)  # 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
        self.cache = TTLCache(maxsize=1000, ttl=3600)  # –ö—ç—à –Ω–∞ 1 —á–∞—Å
        
    async def parse_catalog(self, seller_id):
        # 1. –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü
        total_pages = await self.detect_total_pages(seller_id)
        
        # 2. –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
        tasks = []
        for page in range(1, total_pages + 1):
            task = asyncio.create_task(
                self.parse_single_page(seller_id, page)
            )
            tasks.append(task)
            
            # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: –Ω–µ –±–æ–ª–µ–µ 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á
            if len(tasks) >= 5:
                await asyncio.gather(*tasks)
                tasks = []
        
        if tasks:
            await asyncio.gather(*tasks)

–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞ ~30-45 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 6.5 –º–∏–Ω—É—Ç (—É—Å–∫–æ—Ä–µ–Ω–∏–µ 8-13x)
3. –†–ï–ñ–ò–ú –î–õ–Ø –•–û–°–¢–ò–ù–ì–ê (Reliable)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏

    –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

    –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª

python

class ServerOptimizedParser:
    def __init__(self):
        self.use_selenium = False  # Selenium –ª–µ–≥—á–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
        self.retry_count = 3
        self.proxy_rotation = True  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
        
    async def parse_with_retry(self, url, max_retries=3):
        for attempt in range(max_retries):
            try:
                return await self.parse_page(url)
            except AntiBotException:
                # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞
                await self.switch_parsing_method()
                continue

4. –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –£–°–¢–ê–ù–û–í–ö–ê (1 –∫–æ–º–∞–Ω–¥–∞)

–†–µ—à–µ–Ω–∏–µ: Docker Compose + Makefile
makefile

# Makefile
install:
    docker-compose build

run-fast:
    docker-compose run --rm ozon-parser python main.py --mode=fast

run-reliable:
    docker-compose run --rm ozon-parser python main.py --mode=reliable

# –ò–ª–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–µ–∑ Docker
install-local:
    pip install -r requirements.txt
    playwright install chromium

Dockerfile:
dockerfile

FROM python:3.11-slim

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑ —Å Playwright
RUN apt-get update && apt-get install -y \
    wget \
    gnupg \
    && wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | apt-key add - \
    && echo "deb http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d.google.list \
    && apt-get update && apt-get install -y google-chrome-stable \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
RUN playwright install chromium

COPY . .

CMD ["python", "main.py"]

5. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ß–ï–†–ï–ó GUI/–§–ê–ô–õ (–¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–æ–Ω—Ñ–∏–≥-—Ñ–∞–π–ª:
json

// config.json
{
  "mode": "fast",
  "seller_id": "176640",
  "output_format": "excel",
  "delay_between_requests": 0.5,
  "max_concurrent": 5,
  "use_proxy": false,
  "proxy_list": []
}

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ–¥–Ω–æ—Ñ–∞–π–ª–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):
python

# web_interface.py (Flask + HTMX)
from flask import Flask, render_template_string

app = Flask(__name__)

@app.route('/')
def index():
    return render_template_string('''
    <html>
    <script src="https://unpkg.com/htmx.org"></script>
    <form hx-post="/parse" hx-target="#result">
        <input name="seller_id" placeholder="ID –ø—Ä–æ–¥–∞–≤—Ü–∞">
        <button>–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥</button>
    </form>
    <div id="result"></div>
    </html>
    ''')

if __name__ == '__main__':
    app.run(port=5000)

‚ö° –¢–û–ü-5 –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–• –£–õ–£–ß–®–ï–ù–ò–ô –î–õ–Ø –°–ö–û–†–û–°–¢–ò
1. –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–ô –ü–ê–†–°–ò–ù–ì –í–°–ï–• –°–¢–†–ê–ù–ò–¶

–ü—Ä–æ–±–ª–µ–º–∞: –°–µ–π—á–∞—Å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä—Å—è—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (44 √ó 3 —Å–µ–∫ = 132 —Å–µ–∫ –º–∏–Ω–∏–º—É–º)

–†–µ—à–µ–Ω–∏–µ:
python

# –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ - –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
async def parse_all_pages_parallel(seller_id, total_pages=44):
    semaphore = asyncio.Semaphore(5)  # –ú–∞–∫—Å 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö
    
    async def parse_page(page_num):
        async with semaphore:
            return await parse_single_page(seller_id, page_num)
    
    tasks = [parse_page(i) for i in range(1, total_pages + 1)]
    results = await asyncio.gather(*tasks, return_exceptions=True)
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    return [r for r in results if not isinstance(r, Exception)]

–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞ ~15-20 —Å–µ–∫—É–Ω–¥
2. SMART-CACHE –î–õ–Ø –ü–û–í–¢–û–†–ù–´–• –ó–ê–ü–£–°–ö–û–í
python

from diskcache import Cache

cache = Cache('ozon_cache')

@cache.memoize(expire=3600)  # –ö—ç—à –Ω–∞ 1 —á–∞—Å
async def get_seller_catalog(seller_id):
    # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –≤ –∫—ç—à–µ
    return await fetch_fresh_catalog(seller_id)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
async def get_updated_catalog(seller_id):
    cached = cache.get(seller_id)
    fresh = await fetch_catalog(seller_id)
    
    # –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞–∑–Ω–∏—Ü—É
    diff = find_difference(cached, fresh)
    return merge_data(cached, diff)

3. HEADLESS CHROMIUM –° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø–ú–ò
python

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
async def create_optimized_browser():
    return await playwright.chromium.launch(
        headless=True,
        args=[
            '--disable-dev-shm-usage',
            '--no-sandbox',
            '--disable-setuid-sandbox',
            '--disable-blink-features=AutomationControlled',
            '--disable-web-security',
            '--disable-features=IsolateOrigins,site-per-process',
            '--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
        ],
        # –£–º–µ–Ω—å—à–∞–µ–º –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
        timeout=15000  # 15 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 30
    )

4. –ü–†–ï–î–í–ê–†–ò–¢–ï–õ–¨–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•
python

# –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ
async def parse_minimal_data(seller_id):
    # –®–∞–≥ 1: –ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤
    total_items = await estimate_total_items(seller_id)
    
    # –®–∞–≥ 2: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö SKU
    all_skus = await fetch_all_skus_parallel(seller_id)
    
    # –®–∞–≥ 3: –ü–∞—á–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Ü–µ–Ω (–µ—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç API)
    if seller_api_available:
        prices = await fetch_prices_batch(all_skus, batch_size=100)
    else:
        # Fallback: –ø–∞—Ä—Å–∏–º —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        prices = await parse_prices_fast(all_skus[:100])  # –ü–µ—Ä–≤—ã–µ 100 —Ç–æ–≤–∞—Ä–æ–≤
    
    return format_results(all_skus, prices)

5. –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ï –ó–ê–î–ï–†–ñ–ö–ò
python

class AdaptiveDelayer:
    def __init__(self):
        self.delays = []
        self.block_count = 0
        
    async def smart_delay(self):
        if self.block_count > 3:
            # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –µ—Å–ª–∏ –±—ã–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
            await asyncio.sleep(2.0)
        elif len(self.delays) < 10:
            # –ù–∞—á–∞–ª—å–Ω–∞—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è —Ñ–∞–∑–∞
            await asyncio.sleep(0.3)
        else:
            # –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
            avg_delay = sum(self.delays[-10:]) / 10
            await asyncio.sleep(avg_delay * 0.8)  # –ù–∞ 20% –º–µ–Ω—å—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ

üì¶ –†–ï–®–ï–ù–ò–Ø –î–õ–Ø –ü–†–û–°–¢–û–¢–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø
1. SINGLE-FILE EXECUTABLE (—Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç–æ–µ)

PyInstaller –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è .exe:
bash

pyinstaller --onefile --add-data "src;src" main.py

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Nuitka –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
bash

nuitka --standalone --onefile main.py

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å—Ç–æ: –°–∫–∞—á–∏–≤–∞–µ—Ç .exe —Ñ–∞–π–ª –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ
2. –°–ö–†–ò–ü–¢ –ê–í–¢–û-–£–°–¢–ê–ù–û–í–ö–ò

install.bat (Windows):
batch

@echo off
echo –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ozon –ø–∞—Ä—Å–µ—Ä–∞...
python -m venv venv
call venv\Scripts\activate.bat
pip install -r requirements.txt
playwright install chromium
echo –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
pause

install.sh (Linux/Mac):
bash

#!/bin/bash
echo "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ozon –ø–∞—Ä—Å–µ—Ä–∞..."
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
playwright install chromium
echo "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"

3. WEB-–ò–ù–¢–ï–†–§–ï–ô–° –ù–ê STREAMLIT (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π UI)
python

# app.py
import streamlit as st
import asyncio

st.title("Ozon –ü–∞—Ä—Å–µ—Ä")

seller_id = st.text_input("ID –ø—Ä–æ–¥–∞–≤—Ü–∞", "176640")
mode = st.selectbox("–†–µ–∂–∏–º", ["–ë—ã—Å—Ç—Ä—ã–π", "–ù–∞–¥–µ–∂–Ω—ã–π", "–ü–æ–ª–Ω—ã–π"])

if st.button("–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥"):
    with st.spinner("–ü–∞—Ä—Å–∏–º..."):
        result = asyncio.run(parse_seller(seller_id, mode))
        st.dataframe(result)
        st.download_button("–°–∫–∞—á–∞—Ç—å Excel", result.to_csv(), "ozon_data.csv")

–ó–∞–ø—É—Å–∫: streamlit run app.py
4. TELEGRAM BOT –ò–ù–¢–ï–†–§–ï–ô–°
python

# telegram_bot.py
from telegram import Update
from telegram.ext import Application, CommandHandler

async def start_parsing(update: Update, context):
    await update.message.reply_text("–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—â–µ–Ω...")
    # –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
    result = await parse_ozon(seller_id)
    await update.message.reply_document(document=result)

app = Application.builder().token("TOKEN").build()
app.add_handler(CommandHandler("parse", start_parsing))
app.run_polling()

üè¢ –†–ï–®–ï–ù–ò–Ø –î–õ–Ø –•–û–°–¢–ò–ù–ì–ê
1. –°–ï–†–í–ï–†–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê
text

–í–∞—à –ü–ö (GUI) ‚Üí REST API (—Å–µ—Ä–≤–µ—Ä) ‚Üí Worker (–ø–∞—Ä—Å–µ—Ä) ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

    –ü–∞—Ä—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ—â–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

    –í–∞—à –ü–ö –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

    –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä—Å–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

2. READY-TO-USE HOSTING SOLUTIONS

A) VPS —Å Docker (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π):
yaml

# docker-compose.yml –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
version: '3'
services:
  ozon-parser:
    build: .
    environment:
      - MODE=reliable
    volumes:
      - ./results:/app/results
    restart: unless-stopped

B) –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:

    PythonAnywhere - –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤

    Railway.app - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π Docker —Ö–æ—Å—Ç–∏–Ω–≥

    Fly.io - –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

C) –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Docker –æ–±—Ä–∞–∑:
dockerfile

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ —Å Chrome
FROM selenium/standalone-chrome:latest

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
RUN sudo apt-get update && sudo apt-get install -y python3 python3-pip
RUN pip3 install playwright requests pandas

WORKDIR /app
COPY . .

CMD ["python3", "main.py"]

3. CLOUD –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ú–ê–°–®–¢–ê–ë–ò–†–û–í–ê–ù–ò–Ø
python

# AWS Lambda / Google Cloud Functions
def lambda_handler(event, context):
    seller_id = event['seller_id']
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º Selenium –≤ Lambda
    from selenium import webdriver
    from selenium.webdriver.chrome.options import Options
    
    chrome_options = Options()
    chrome_options.add_argument('--headless')
    chrome_options.add_argument('--no-sandbox')
    chrome_options.add_argument('--disable-dev-shm-usage')
    
    driver = webdriver.Chrome(options=chrome_options)
    result = parse_with_selenium(driver, seller_id)
    driver.quit()
    
    return {
        'statusCode': 200,
        'body': json.dumps(result)
    }

üéØ –ì–û–¢–û–í–û–ï –†–ï–®–ï–ù–ò–ï –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
–§–ò–ù–ê–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:
text

main.py (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îú‚îÄ‚îÄ fast_mode.py      # –õ–æ–∫–∞–ª—å–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π (Playwright + –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º)
‚îú‚îÄ‚îÄ server_mode.py    # –î–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ (Selenium + –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)
‚îî‚îÄ‚îÄ export_utils.py   # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV

–ö–û–ú–ê–ù–î–´ –ó–ê–ü–£–°–ö–ê:
bash

# –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)
python main.py --seller 176640 --mode fast --output excel

# –î–ª—è —Å–µ—Ä–≤–µ—Ä–∞
python main.py --seller 176640 --mode server --proxy auto

# –ß–µ—Ä–µ–∑ Docker (–∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ)
docker run -v $(pwd)/results:/results ozon-parser --seller 176640

–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –°–¢–ï–ö:

    Playwright –≤–º–µ—Å—Ç–æ Selenium (–ª–µ–≥—á–µ, –±—ã—Å—Ç—Ä–µ–µ, —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ)

    Asyncio –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

    Pandas –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

    Click –¥–ª—è CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

    Docker –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏

üìä –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´:
–†–µ–∂–∏–º	–í—Ä–µ–º—è (524 —Ç–æ–≤–∞—Ä–∞)	–ü—Ä–æ—Å—Ç–æ—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏	–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è
Fast	30-45 —Å–µ–∫—É–Ω–¥	‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ (1 –∫–æ–º–∞–Ω–¥–∞)	–õ–æ–∫–∞–ª—å–Ω—ã–π –ü–ö
Server	60-90 —Å–µ–∫—É–Ω–¥	‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ (Docker)	–•–æ—Å—Ç–∏–Ω–≥/VPS
Cloud	15-30 —Å–µ–∫—É–Ω–¥	‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ (—Å–ª–æ–∂–Ω–æ)	–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
üö® –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø:

    –°–ï–ì–û–î–ù–Ø: –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π Playwright

    –ó–ê–í–¢–†–ê: –°–æ–∑–¥–∞—Ç—å Docker –æ–±—Ä–∞–∑

    –ù–ï–î–ï–õ–Ø: –î–æ–±–∞–≤–∏—Ç—å Streamlit –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É:
python

# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: pip install playwright pandas asyncio
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å: python fast_parser.py --seller 176640
# 3. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ 30 —Å–µ–∫—É–Ω–¥

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç—É –∏ –ø–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–ø–∞–∫–æ–≤–∞–Ω—ã, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ –≥–¥–µ –µ—Å—Ç—å Docker –∏–ª–∏ Python.



4.2 –û—Ç–≤–µ—Ç –æ—Ç Deepseek:
üéØ Cursor AI - –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–∞—Ä—Å–µ—Ä–∞ Ozon
üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

–ü–∞—Ä—Å–µ—Ä Ozon –¥–ª—è —Å–±–æ—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–æ–≤. –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:

    100% –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ curl_cffi –∞–Ω—Ç–∏–±–æ—Ç–æ–º Ozon

    Seller API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0 —Ç–æ–≤–∞—Ä–æ–≤ (–ø—Ä–æ–±–ª–µ–º–∞ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π)

    –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å - 6.5 –º–∏–Ω—É—Ç –Ω–∞ 524 —Ç–æ–≤–∞—Ä–∞

    –°–ª–æ–∂–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö

üéØ –¶–µ–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

    –£–≤–µ–ª–∏—á–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –≤ 10-20 —Ä–∞–∑

    –£–ø—Ä–æ—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –¥–æ 1 –∫–æ–º–∞–Ω–¥—ã

    –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å (Windows/Mac/Linux/—Ö–æ—Å—Ç–∏–Ω–≥)

    –°–¥–µ–ª–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–º –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö

üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. –ê–Ω—Ç–∏–±–æ—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç curl_cffi (100% –∑–∞–ø—Ä–æ—Å–æ–≤)

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ curl_cffi –ø–æ–ª—É—á–∞—é—Ç 403 —Å ozon-antibot: 1
–†–µ—à–µ–Ω–∏–µ: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç—å curl_cffi –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Playwright
2. Seller API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (0 —Ç–æ–≤–∞—Ä–æ–≤)

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç
–†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É API –∏–ª–∏ –ø–∞—Ä—Å–∏—Ç—å —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ UI
3. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (–æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ)

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç: 44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–∞—Ä—Å—è—Ç—Å—è –æ–¥–Ω–∞ –∑–∞ –¥—Ä—É–≥–æ–π –ø–æ 3+ —Å–µ–∫—É–Ω–¥—ã
–†–µ—à–µ–Ω–∏–µ: –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
üèóÔ∏è –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
text

main.py --mode [fast|server|debug]

1. Fast Mode (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü–ö)
python

# –û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 30-45 —Å–µ–∫—É–Ω–¥ –Ω–∞ 500+ —Ç–æ–≤–∞—Ä–æ–≤
class FastParser:
    def __init__(self):
        self.browser_pool = BrowserPool(size=5)  # 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
        self.concurrent_limit = 10  # 10 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á

2. Server Mode (–¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞/VPS)
python

# –û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: 60-90 —Å–µ–∫—É–Ω–¥
class ServerParser:
    def __init__(self):
        self.use_selenium = True  # Selenium —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö
        self.retry_count = 3
        self.proxy_rotation = True

3. Debug Mode (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
python

# –ú–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏

‚ö° –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
1. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
python

async def parse_all_pages_parallel(seller_id, total_pages):
    semaphore = asyncio.Semaphore(5)  # –ú–∞–∫—Å 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö
    
    async def parse_page(page_num):
        async with semaphore:
            return await parse_single_page(seller_id, page_num)
    
    tasks = [parse_page(i) for i in range(1, total_pages + 1)]
    return await asyncio.gather(*tasks, return_exceptions=True)

2. Browser Pool –¥–ª—è Playwright
python

class BrowserPool:
    def __init__(self, size=5):
        self.size = size
        self.browsers = []
        
    async def initialize(self):
        for _ in range(self.size):
            browser = await playwright.chromium.launch(
                headless=True,
                args=['--disable-dev-shm-usage', '--no-sandbox']
            )
            self.browsers.append(browser)

3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ cookies –∏ –¥–∞–Ω–Ω—ã—Ö
python

from diskcache import Cache
cache = Cache('ozon_cache', expire=3600)  # 1 —á–∞—Å

üì¶ –£–ø—Ä–æ—â–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
1. Single-command setup
bash

# –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -v $(pwd)/results:/results ghcr.io/yourname/ozon-parser --seller 176640

# –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ make
make install && make run seller=176640

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ Python
pip install -r requirements.txt && python main.py --seller 176640

2. Docker –æ–±—Ä–∞–∑ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Chrome
dockerfile

FROM selenium/standalone-chrome:latest
RUN sudo apt-get update && sudo apt-get install -y python3 python3-pip
COPY requirements.txt .
RUN pip3 install -r requirements.txt
COPY . .
CMD ["python3", "main.py", "--mode", "server"]

3. Makefile –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
makefile

install:
    pip install -r requirements.txt
    playwright install chromium

install-docker:
    docker build -t ozon-parser .

run-fast:
    python main.py --mode=fast --seller=176640

run-server:
    python main.py --mode=server --seller=176640

docker-run:
    docker run -v $(pwd)/results:/results ozon-parser --seller=176640

üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ Cursor
–®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å curl_cffi –∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ Playwright
bash

# –í requirements.txt –∑–∞–º–µ–Ω–∏—Ç—å:
# curl_cffi -> playwright
# –£–¥–∞–ª–∏—Ç—å curl_cffi, –¥–æ–±–∞–≤–∏—Ç—å playwright

–®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å BrowserPool

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª src/browser_pool.py —Å –∫–ª–∞—Å—Å–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—É–ª–æ–º –±—Ä–∞—É–∑–µ—Ä–æ–≤
–®–∞–≥ 3: –ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å OzonCatalogAPI

–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å src/api/ozon_catalog_api.py –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Playwright –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
–®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

–í main.py –¥–æ–±–∞–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç --mode –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É
–®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–°–æ–∑–¥–∞—Ç—å Dockerfile –∏ docker-compose.yml –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
–®–∞–≥ 6: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Seller API

–î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∏–ª–∏ fallback –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ —Ü–µ–Ω —á–µ—Ä–µ–∑ UI
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
text

ozon-parser/
‚îú‚îÄ‚îÄ main.py                      # –ì–ª–∞–≤–Ω—ã–π CLI —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ Dockerfile                   # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose
‚îú‚îÄ‚îÄ Makefile                    # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ config.json                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ browser_pool.py         # –ü—É–ª –±—Ä–∞—É–∑–µ—Ä–æ–≤ –¥–ª—è Playwright
‚îÇ   ‚îú‚îÄ‚îÄ fast_parser.py          # –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ server_parser.py        # –°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–∂–∏–º (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ozon_catalog.py     # –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞ —á–µ—Ä–µ–∑ Playwright
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ozon_seller.py      # –†–∞–±–æ—Ç–∞ —Å Seller API
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ cache.py            # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ       ‚îî‚îÄ‚îÄ export.py           # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV
‚îî‚îÄ‚îÄ examples/
    ‚îú‚îÄ‚îÄ fast_mode.py           # –ü—Ä–∏–º–µ—Ä –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ–∂–∏–º–∞
    ‚îî‚îÄ‚îÄ docker_run.sh          # –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ –≤ Docker

üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
python

# –í—Ä–µ–º–µ–Ω–Ω–æ: –æ—Ç–∫–ª—é—á–∏—Ç—å curl_cffi –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Playwright
# –ò–∑–º–µ–Ω–∏—Ç—å –≤ ozon_catalog_api.py:
async def fetch_page(self, page_num):
    # –í–º–µ—Å—Ç–æ curl_cffi –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Playwright
    return await self._fetch_via_playwright(page_num)

2. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º:
python

# –í ozon_parser.py:
async def parse_seller_catalog(self):
    # –ü–æ–ª—É—á–∏—Ç—å –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
    total_pages = await self.get_total_pages()
    
    # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
    results = []
    async with asyncio.TaskGroup() as tg:
        for page in range(1, total_pages + 1):
            task = tg.create_task(self.parse_page(page))
            results.append(task)

3. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π CLI:
python

# main.py
import click

@click.command()
@click.option('--seller', required=True, help='ID –ø—Ä–æ–¥–∞–≤—Ü–∞')
@click.option('--mode', default='fast', help='fast/server/debug')
def main(seller, mode):
    if mode == 'fast':
        parser = FastParser()
    elif mode == 'server':
        parser = ServerParser()
    else:
        parser = DebugParser()
    
    results = parser.parse(seller)
    export_to_excel(results)

üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
–ú–µ—Ç—Ä–∏–∫–∞	–ë—ã–ª–æ	–°—Ç–∞–Ω–µ—Ç	–£–ª—É—á—à–µ–Ω–∏–µ
–í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ (500 —Ç–æ–≤–∞—Ä–æ–≤)	6.5 –º–∏–Ω	30-45 —Å–µ–∫	8-13x
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤	0% (curl_cffi)	100% (Playwright)	100%
–£—Å—Ç–∞–Ω–æ–≤–∫–∞	–°–ª–æ–∂–Ω–æ	1 –∫–æ–º–∞–Ω–¥–∞	10x –ø—Ä–æ—â–µ
–•–æ—Å—Ç–∏–Ω–≥	–ü—Ä–æ–±–ª–µ–º—ã	–ì–æ—Ç–æ–≤–æ –¥–ª—è Docker	–ú–æ–∂–Ω–æ —Ö–æ—Å—Ç–∏—Ç—å –≤–µ–∑–¥–µ
üéØ –ü—Ä—è–º—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Cursor

    –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª src/api/ozon_catalog_api.py

    –£–¥–∞–ª–∏ –≤–µ—Å—å –∫–æ–¥ —Å curl_cffi (—Å—Ç—Ä–æ–∫–∏ —Å curl_cffi.AsyncSession)

    –ü–µ—Ä–µ–ø–∏—à–∏ –º–µ—Ç–æ–¥—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ Playwright

    –î–æ–±–∞–≤–∏ –∫–ª–∞—Å—Å BrowserPool –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏

    –ò–∑–º–µ–Ω–∏ parse_seller_catalog –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü

    –°–æ–∑–¥–∞–π Dockerfile —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Chrome

    –î–æ–±–∞–≤–∏ Makefile —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü—Ä—è–º–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã:
bash

# –ü–µ—Ä–≤—ã–π —à–∞–≥ - —É–¥–∞–ª–∏—Ç—å curl_cffi –∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Playwright
sed -i 's/from curl_cffi import AsyncSession//g' src/api/ozon_catalog_api.py
sed -i 's/self.session = AsyncSession(impersonate="chrome131")/# –£–¥–∞–ª–µ–Ω–æ/g' src/api/ozon_catalog_api.py

–ì–æ—Ç–æ–≤–æ! –≠—Ç–æ –∑–∞–¥–∞–Ω–∏–µ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö, —Ä–µ–∞–ª–∏–∑—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏—è—Ö —Å —É—á–µ—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∫–æ—Ä–æ—Å—Ç–∏, –ø—Ä–æ—Å—Ç–æ—Ç–µ –∏ —Ö–æ—Å—Ç–∏–Ω–≥—É.


5.1 –û—Ç–≤–µ—Ç –æ—Ç Perplexity:
–°–µ–π—á–∞—Å —É –ø—Ä–æ–µ–∫—Ç–∞ —É–∂–µ –æ—á–µ–Ω—å –∑—Ä–µ–ª–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–¥–≤—É—Ö–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å –∫–∞—Ç–∞–ª–æ–≥ + Seller API, –∞—Å–∏–Ω—Ö—Ä–æ–Ω—â–∏–Ω–∞, fallback –Ω–∞ Playwright, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏). –ù–æ –ø–æ –ª–æ–≥–∞–º –≤–∏–¥–Ω–æ –¥–≤–µ –∫–ª—é—á–µ–≤—ã–µ –¥—ã—Ä—ã: —Ç–æ—Ç–∞–ª—å–Ω—ã–π –∑–∞–≤–∞–ª curl_cffi (100% 403) –∏ –ø–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Seller API (0/524).

–ù–∏–∂–µ ‚Äî —Ä–∞–∑–±–æ—Ä –ø–æ –±–ª–æ–∫–∞–º —Å ¬´–∑–æ–Ω–∞–º–∏ —Ä–æ—Å—Ç–∞¬ª –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∏–¥–µ—è–º–∏ —É–ª—É—á—à–µ–Ω–∏–π.
–ê–Ω—Ç–∏–±–æ—Ç –∏ —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π

–°–µ–π—á–∞—Å:

    –í—Å–µ 44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ –æ—Ç–ª–µ—Ç–∞—é—Ç –Ω–∞ 403 ozon-antibot: 1, –ø–æ—Å–ª–µ —á–µ–≥–æ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —É—Ö–æ–¥–∏—Ç –≤ Playwright-fallback.

    –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: ~6.5 –º–∏–Ω—É—Ç –Ω–∞ 524 —Ç–æ–≤–∞—Ä–∞, –ø—Ä–∏ —ç—Ç–æ–º –ª—å–≤–∏–Ω–∞—è –¥–æ–ª—è ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ Playwright.‚Äã

–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:

    curl_cffi –≤–æ–æ–±—â–µ –Ω–µ –¥–∞—ë—Ç value: —Ç—ã –ø–ª–∞—Ç–∏—à—å –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É impersonation, –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ cookies, –Ω–æ Ozon –≤—Å—ë —Ä–∞–≤–Ω–æ –¥–∞–≤–∏—Ç TLS/–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –æ—Ç–ø–µ—á–∞—Ç–æ–∫.‚Äã

    –ù–µ—Ç IP‚Äë—ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏: –≤ –ª–æ–≥–∞—Ö —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–æ Proxy: –ù–ï –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø, –∑–Ω–∞—á–∏—Ç –≤—Å—ë –∏–¥—ë—Ç —Å –æ–¥–Ω–æ–≥–æ IP, –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –ø–æ–ø–∞–ª –ø–æ–¥ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å.

    –§allback = –≤—Å–µ–≥–¥–∞ Playwright: –ø–æ —Å—É—Ç–∏ Playwright —Å—Ç–∞–ª –æ—Å–Ω–æ–≤–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º, –∞ curl_cffi ‚Äî –¥–æ—Ä–æ–≥–æ–π no-op –ø–µ—Ä–µ–¥ –Ω–∏–º.

–ò–¥–µ–∏ —É–ª—É—á—à–µ–Ω–∏–π:

    –°–¥–µ–ª–∞—Ç—å Playwright –ø–µ—Ä–≤–∏—á–Ω—ã–º –∫–∞–Ω–∞–ª–æ–º –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞, curl_cffi ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –ª—ë–≥–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

        –í—ã–Ω–µ—Å—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –∫–æ–Ω—Ñ–∏–≥: OZON_CATALOG_STRATEGY=playwright_primary|curl_primary.

        –ü—Ä–∏ playwright_primary —Å—Ä–∞–∑—É –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å JSON —á–µ—Ä–µ–∑ page.request.get, –±–µ–∑ –ª–∏—à–Ω–∏—Ö 403.

    –ü–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏-–ø—É–ª:

        –û–±–µ—Ä–Ω—É—Ç—å Playwright‚Äë–±—Ä–∞—É–∑–µ—Ä –≤ —Å–ø–∏—Å–æ–∫ —Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã—Ö/–º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ –∏ –∫—Ä—É—Ç–∏—Ç—å IP –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∏–ª–∏ –ø–æ –ø—Ä–æ–¥–∞–≤—Ü–∞–º.‚Äã

        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–µ—Å—Å–∏—é (cookies + localStorage) –Ω–∞ –ø—Ä–æ–∫—Å–∏, —á—Ç–æ–±—ã –Ω–µ –≤—ã–∂–∏–≥–∞—Ç—å fingerprint –∫–∞–∂–¥—ã–π —Ä–∞–∑.

    –í—ã–Ω–µ—Å—Ç–∏ anti‚Äëbot –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ .env –∏ —Å–¥–µ–ª–∞—Ç—å runtime‚Äë—Ç—é–Ω–∏–Ω–≥:

        OZON_ANTIBOT_MAX_RETRY, OZON_USE_PROXY_FOR_PLAYWRIGHT, OZON_USE_CLOUD_BROWSER.

        –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –æ–±–ª–∞—á–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º (Scrapeless, BrightData WebUnlocker, etc.) –∫–∞–∫ backend –¥–ª—è Playwright —á–µ—Ä–µ–∑ CDP.

    –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫—Ä–µ–∞—Ç–∏–≤: —Å–¥–µ–ª–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π throttling:

        –•—Ä–∞–Ω–∏—Ç—å —Å—á—ë—Ç—á–∏–∫ 403/–º–∏–Ω—É—Ç—É; –ø—Ä–∏ —Ä–æ—Å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å request_delay –∏ —Å–Ω–∏–∂–∞—Ç—å max_concurrent.

        –≠—Ç–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ–π PID‚Äë–ø–æ–¥–æ–±–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞–¥ rate‚Äëlimit.‚Äã

Playwright: –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

–°–µ–π—á–∞—Å:

    –ù–∞ –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: –∑–∞–ø—É—Å–∫ headless –±—Ä–∞—É–∑–µ—Ä–∞, –æ—Ç–∫—Ä—ã—Ç–∏–µ seller‚Äë—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π API‚Äë–∑–∞–ø—Ä–æ—Å.‚Äã

    –í—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ curl_cffi: 5‚Äì10 —Å–µ–∫—É–Ω–¥.‚Äã

–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:

    –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å: –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è.‚Äã

    –ù–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ —Å–µ—Å—Å–∏–π: —Ç—ã –Ω–µ –ø–æ–ª—å–∑—É–π—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º –¥–æ–ª–≥–æ–∂–∏–≤—É—â–µ–π —Å–µ—Å—Å–∏–∏ (stable cookies, –∞–Ω—Ç–∏–±–æ—Ç‚Äë–º–µ—Ç—Ä–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–∏).‚Äã

–ò–¥–µ–∏ —É–ª—É—á—à–µ–Ω–∏–π:

    –û–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä ‚Äî –º–Ω–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü:

        –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–∞—Ä—Å–µ—Ä–∞ –ø–æ–¥–Ω–∏–º–∞—Ç—å –æ–¥–∏–Ω Playwright‚Äë–±—Ä–∞—É–∑–µ—Ä, –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∏–ª–∏ N –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–∫—Å–∏), –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å page –∏–ª–∏ –ø—É–ª page –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞.

        –ó–∞–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ü–µ –ø–∞–π–ø–ª–∞–π–Ω–∞.

    Persistent context:

        –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (cookies, storage) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (user_data_dir) –∏ –ø–æ–¥–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è. –≠—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —à–∞–Ω—Å –∞–Ω—Ç–∏–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª.

    –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞ –æ–¥–Ω–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º:

        –ü–æ–¥–Ω—è—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, 3‚Äì4 page –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã 1,2,3,4 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è concurrency.‚Äã

    Cloud Playwright / browserless (–∫—Ä–µ–∞—Ç–∏–≤):

        –í—ã–Ω–µ—Å—Ç–∏ Playwright –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–µ SaaS‚Äë—Ä–µ—à–µ–Ω–∏–µ, –∞ —Ç–≤–æ–π –ø–∞—Ä—Å–µ—Ä –ø—É—Å—Ç—å –æ–±—â–∞–µ—Ç—Å—è —Å –Ω–∏–º –ø–æ HTTP/gRPC. –≠—Ç–æ —Ä–∞–∑–≥—Ä—É–∑–∏—Ç –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –∏ –¥–∞—Å—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ –∑–∞–¥–∞—á–∏ –¥—Ä—É–≥–∏—Ö –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤.

Seller API: 0 —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∏ 524 SKU

–°–µ–π—á–∞—Å:

    –í Seller API –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è product_ids=[524 sku], –Ω–æ –æ—Ç–≤–µ—Ç: items: [], total: 0.

    –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: ¬´–í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: —Ç–æ–≤–∞—Ä—ã –Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–æ–¥–∞–≤—Ü—É¬ª.‚Äã

–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:

    –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–∞–∫—Ç –≤–ª–∞–¥–µ–Ω–∏—è SKU –ø—Ä–æ–¥–∞–≤—Ü–æ–º: –ø–æ –ª–æ–≥–∏–∫–µ —Å–µ–π—á–∞—Å –±–µ—Ä—ë—Ç—Å—è –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞, –Ω–æ Client-Id + Api-Key –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –¥—Ä—É–≥–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É.

    –í—ã–±—Ä–∞–Ω –Ω–µ –ª—É—á—à–∏–π –º–µ—Ç–æ–¥ API: /v5/product/info/prices –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ ¬´—Å–≤–æ–∏¬ª —Ç–æ–≤–∞—Ä—ã, –∞ –ø—É–±–ª–∏—á–Ω—ã–π seller‚Äë–∫–∞—Ç–∞–ª–æ–≥ –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤/–º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å‚Äë—Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–∏–¥–Ω—ã –≤ –∞–∫–∫–∞—É–Ω—Ç–µ.

–ò–¥–µ–∏ —É–ª—É—á—à–µ–Ω–∏–π:

    –ß—ë—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ä–µ–∂–∏–º—ã: "–º–æ–π –∞–∫–∫–∞—É–Ω—Ç" vs "—á—É–∂–æ–π –ø—Ä–æ–¥–∞–≤–µ—Ü":

        –†–µ–∂–∏–º A: MY_ACCOUNT ‚Äî –∫–æ–≥–¥–∞ Seller API —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ–º –∂–µ —Ç–æ–≤–∞—Ä–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã —Å–∞–º –ø—Ä–æ–¥–∞—ë—à—å.

        –†–µ–∂–∏–º B: FOREIGN_SELLER ‚Äî –∫–æ–≥–¥–∞ —Ç—ã —Å–º–æ—Ç—Ä–∏—à—å —á—É–∂–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞, –∏ Seller API –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –Ω–µ –≤–µ—Ä–Ω—ë—Ç —Ü–µ–Ω—ã.

    –î–ª—è FOREIGN_SELLER –≤–æ–æ–±—â–µ –Ω–µ –¥–µ—Ä–≥–∞—Ç—å /v5/product/info/prices:

        –≠–∫–æ–Ω–æ–º–∏—à—å 0.9 —Å–µ–∫ –∏ –ª–∏—à–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã.

        –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –¥–µ–ª–∞—Ç—å enrichment –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å–º. –Ω–∏–∂–µ).‚Äã

    –î–ª—è —Å–≤–æ–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–µ–∂–∏–µ –º–µ—Ç–æ–¥—ã:

        Ozon –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–µ–ø—Ä–∏–∫–µ–π—Ç–∏—Ç —Å—Ç–∞—Ä—ã–µ product/info v2, v3, –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç v5 —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏ —Ç–∏–ø–∞ marketing_price, net_price.

        –õ–æ–≥–∏—á–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤—è–∑–∫—É /v3/product/list + /v3/product/info/list (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ç–≤–æ—ë–º –∞–∫–∫–∞—É–Ω—Ç–µ), —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Ç–æ–≤–∞—Ä—ã.

    –ê–≤—Ç–æ‚Äë–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–≤—è–∑–∫–∏ –∞–∫–∫–∞—É–Ω—Ç ‚Üî –ø—Ä–æ–¥–∞–≤–µ—Ü:

        –ü–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–µ–ª–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å Seller API –ø–æ –æ–¥–Ω–æ–º—É –∑–∞–≤–µ–¥–æ–º–æ —Å–≤–æ–µ–º—É product_id.

        –ï—Å–ª–∏ 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å ¬´Seller API disconnected from this seller_id¬ª –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø–∞–π–ø–ª–∞–π–Ω –≤ CATALOG_ONLY —Ä–µ–∂–∏–º.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–µ–π—á–∞—Å:

    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—å–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è, –Ω–æ —á–∞—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞ –≤ –∫–æ–¥–µ (request_delay, max_concurrent).‚Äã

    –ß–∞—Å—Ç–∏—á–Ω–æ —É–∂–µ –µ—Å—Ç—å –∏–¥–µ—è –≤—ã–Ω–µ—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ .env.‚Äã

–ó–æ–Ω—ã —Ä–æ—Å—Ç–∞:

    –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏: —Ä–∞–∑–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ‚Äë—Å–≤–æ–µ–º—É —á–∏—Ç–∞—é—Ç –∑–∞–¥–µ—Ä–∂–∫–∏, –ø—Ä–æ–∫—Å–∏, —Ä–µ–∂–∏–º—ã.

    –ù–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ "–ø—Ä–æ—Ñ–∏–ª–µ–π –ø–∞—Ä—Å–∏–Ω–≥–∞": DEV (–º–µ–¥–ª–µ–Ω–Ω–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ), PROD (–±—ã—Å—Ç—Ä–µ–µ, —Å –ø—Ä–æ–∫—Å–∏), AGGRESSIVE (–¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤).

–ò–¥–µ–∏ —É–ª—É—á—à–µ–Ω–∏–π:

    –í–≤–µ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

        OZON_PROFILE=dev|prod|aggressive|foreign_seller.

        –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è –∑–∞–¥–∞—Ç—å –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: –∑–∞–¥–µ—Ä–∂–∫–∏, concurrency, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∞–Ω—Ç–∏–±–æ—Ç–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Seller API.

    –°–¥–µ–ª–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥‚Äë—Å–ª–æ–π (Config dataclass):

        –û–¥–∏–Ω –∫–ª–∞—Å—Å OzonConfig, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å—ë –∏–∑ .env, CLI –∏ –¥–µ—Ñ–æ–ª—Ç–æ–≤ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ OzonParser.

        –≠—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç —Ç—é–Ω–∏–Ω–≥, A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã.

    –í—Å—Ç—Ä–æ–∏—Ç—å feature‚Äëflags:

        –ù–∞–ø—Ä–∏–º–µ—Ä, FEATURE_USE_PROXY_ROTATION, FEATURE_CACHE_COOKIES.

        –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Ñ–∏—á–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏–¥–µ–∏ —Ä–∞–∑–≤–∏—Ç–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–ü–æ–º–∏–º–æ —Ñ–∏–∫—Å–∞ —Ç–µ–∫—É—â–∏—Ö –±–æ–ª–µ–π –º–æ–∂–Ω–æ –∑–∞–ª–æ–∂–∏—Ç—å –æ—Å–Ω–æ–≤—É –ø–æ–¥ –±–æ–ª–µ–µ —É–º–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

1. –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –∑–∞–º–µ—Ä—ã —Ü–µ–Ω (time series)

    –°–µ–π—á–∞—Å –ø–∞—Ä—Å–µ—Ä –¥–µ–ª–∞–µ—Ç ¬´—Å–Ω–∏–º–æ–∫¬ª —Ü–µ–Ω. –ú–æ–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å –∏—Å—Ç–æ—Ä–∏–∏: –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –∏ –ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î (SQLite/Postgres), —Ñ–æ—Ä–º–∏—Ä—É—è –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä—è–¥ –ø–æ SKU.

    –ü–æ—Ç–æ–º Excel –±—É–¥–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–∞–±–ª–∏—Ü–µ–π, –∞ —ç–∫—Å–ø–æ—Ä—Ç–æ–º –∞–≥—Ä–µ–≥–∞—Ç–æ–≤: —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞, –º–∏–Ω–∏–º—É–º –∑–∞ –ø–µ—Ä–∏–æ–¥, —á–∏—Å–ª–æ –ø—Ä–æ–º–æ –ø–µ—Ä–∏–æ–¥–æ–≤.‚Äã

2. "Health‚Äë–º–æ–Ω–∏—Ç–æ—Ä" –∞–Ω—Ç–∏–±–æ—Ç–∞

    –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –ø—Ä–æ—Ü–µ–Ω—Ç 403, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á–∏—Å–ª–æ Playwright‚Äëfallback.

    –ù–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è: ¬´—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ 403 ‚Üí —É–≤–µ–ª–∏—á—å –∑–∞–¥–µ—Ä–∂–∫—É/–ø–æ—Å—Ç–∞–≤—å –ø—Ä–æ–∫—Å–∏¬ª.

3. –ú–æ–¥—É–ª—å –¥–ª—è A/B —Ç–µ—Å—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

    –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–π FetchStrategy (curl, playwright, cloud_browser, mixed).

    –ó–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ ¬´—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã¬ª, —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å success_rate, avg_latency –∏ –≤—ã–±–∏—Ä–∞—Ç—å –ª—É—á—à—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—ã

    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ —Ç—ã —É–∂–µ –±–ª–∏–∑–∫–æ –∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–º—É –ø–∞—Ä—Å–µ—Ä—É –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (—Å–º. —Ç–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ Wildberries).‚Äã

    –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏: CatalogSource, SellerSource, ProductModel, ExportPipeline, —á—Ç–æ–±—ã Ozon –∏ WB –±—ã–ª–∏ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏.

5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ML/—ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∞–Ω—Ç–∏–±–æ—Ç–∞ (–æ—á–µ–Ω—å –∫—Ä–µ–∞—Ç–∏–≤)

    –°–æ–±–∏—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (–∑–∞–¥–µ—Ä–∂–∫–∏, concurrency, —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤) –∏ –æ–±—É—á–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é –º–æ–¥–µ–ª—å (–∏–ª–∏ –¥–∞–∂–µ –Ω–∞–±–æ—Ä —ç–≤—Ä–∏—Å—Ç–∏–∫), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 403 –∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–µ–º–ø –∑–∞–ø—Ä–æ—Å–æ–≤.‚Äã

–ò—Ç–æ–≥–æ–≤—ã–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–æ—Ä–∞–±–æ—Ç–∫–∏

    –°–¥–µ–ª–∞—Ç—å Playwright –æ—Å–Ω–æ–≤–Ω—ã–º –∫–∞–Ω–∞–ª–æ–º –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ + –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞/–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ ‚Äî —ç—Ç–æ —Å—Ä–∞–∑—É —É–º–µ–Ω—å—à–∏—Ç –≤—Ä–µ–º—è –∏ —É–±–µ—Ä—ë—Ç –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ 403.

    –í–≤–µ—Å—Ç–∏ –ø—Ä–æ—Ñ–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏/concurrency –≤ .env ‚Äî –ø–æ–∑–≤–æ–ª–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å.‚Äã

    –†–∞–∑—Ä—É–ª–∏—Ç—å –ª–æ–≥–∏–∫—É Seller API: —è–≤–Ω–æ —Ä–∞–∑–ª–∏—á–∏—Ç—å —Å–≤–æ–π –∏ —á—É–∂–æ–π –∞–∫–∫–∞—É–Ω—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã /v3/*, –æ—Ç–∫–ª—é—á–∞—Ç—å Seller API, –µ—Å–ª–∏ –æ–Ω —Å–∏—Å—Ç–µ–º–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.

    –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏‚Äë–ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è Playwright –∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) curl_cffi –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Ä–∏—Å–∫–∞ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö –±–∞–Ω–æ–≤.‚Äã

    –†–∞—Å—à–∏—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ health‚Äëmonitor –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–∂–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º:

    –≤—ã—Ç–∞—â–∏—Ç—å –∫—É—Å–∫–∏ —Ç–≤–æ–µ–≥–æ –∫–æ–¥–∞ OzonCatalogAPI –∏ OzonParser,

    –∏ –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ø–∞—Ç—á–µ–π (diff) –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–≤–æ–¥ –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–∞ ¬´Playwright –∫–∞–∫ primary transport¬ª —Å –æ–¥–Ω–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ –ø—É–ª–æ–º —Å—Ç—Ä–∞–Ω–∏—Ü.



5.2 –û—Ç–≤–µ—Ç –æ—Ç Perplexity:
–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –Ω–∞ –ª—é–±—ã—Ö –ü–ö –∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞—Ö –ª—É—á—à–µ –¥—É–º–∞—Ç—å –æ –ø—Ä–æ–µ–∫—Ç–µ –∫–∞–∫ –æ ¬´CLI‚Äë—É—Ç–∏–ª–∏—Ç–µ + Docker‚Äë–æ–±—Ä–∞–∑ + –ª—ë–≥–∫–∏–π —Ä–µ–∂–∏–º –±–µ–∑ –±—Ä–∞—É–∑–µ—Ä–∞¬ª. –ù–∏–∂–µ –∏–¥–µ–∏, –∑–∞—Ç–æ—á–µ–Ω–Ω—ã–µ –ø–æ–¥ —ç—Ç–æ.
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å: –ø—Ä–æ—Ñ–∏–ª–∏ –∏ —Ä–µ–∂–∏–º—ã

–ß—Ç–æ–±—ã –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ —É–¥–æ–±–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –ª–æ–∫–∞–ª—å–Ω–æ, –∏ –Ω–∞ VPS/—Ö–æ—Å—Ç–∏–Ω–≥–µ:

    –í–≤–µ—Å—Ç–∏ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

        LIGHT ‚Äî –±–µ–∑ Playwright, —Ç–æ–ª—å–∫–æ curl_cffi/HTTPX, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∞–Ω—Ç–∏–±–æ—Ç –Ω–µ –¥—É—à–∏—Ç –∏–ª–∏ –Ω—É–∂–µ–Ω –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç.

        FULL ‚Äî —Å Playwright, –∞–Ω—Ç–∏–±–æ—Ç‚Äë–æ–±—Ö–æ–¥, –ø—Ä–æ–∫—Å–∏ –∏ —Ç.–¥.

        HEADLESS_REMOTE ‚Äî –≤–∞—Ä–∏–∞–Ω—Ç FULL –ø–æ–¥ Docker/—Å–µ—Ä–≤–µ—Ä (—Å–º. –Ω–∏–∂–µ).

    CLI —Å –ø—Ä–æ—Å—Ç—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏:

        --mode light|full|headless-remote

        --seller-id, --seller-name, --out xlsx

        –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —á–µ—Ä–µ–∑ .env —Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏.

    –û–¥–∏–Ω –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, OzonConfig) —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ .env –∏ CLI –∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –Ω–∞ –Ω–æ–≤—ã–π —Ö–æ—Å—Ç.‚Äã

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å

–¶–µ–ª—å: ¬´–∫–ª–æ–Ω ‚Üí pip install -r requirements.txt ‚Üí python parse_ozon_sellers.py¬ª –±–µ–∑ –±–æ–ª–∏, –ø–ª—é—Å –æ–ø—Ü–∏—è ¬´–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —á–µ—Ä–µ–∑ Docker¬ª.

    –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—è–∂—ë–ª—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –±–∞–∑–æ–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ:

        –í requirements —Ä–∞–∑–¥–µ–ª–∏—Ç—å:

            requirements-core.txt (httpx/curl_cffi, openpyxl, pydantic –∏ —Ç.–ø.)

            requirements-playwright.txt (playwright, –±—Ä–∞—É–∑–µ—Ä—ã)

        –í LIGHT‚Äë—Ä–µ–∂–∏–º–µ –Ω–µ —Ç—Ä–µ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Playwright –≤–æ–æ–±—â–µ (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ try/except + —Ñ–ª–∞–≥ —Ä–µ–∂–∏–º–∞).

    –ß—ë—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

        README: –¥–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è ‚Äî ¬´–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑ Playwright¬ª –∏ ¬´–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞ —Å Playwright¬ª.

Docker: –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–µ–∑–¥–µ

–ß—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –ª—é–±–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ, –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å Docker‚Äë–æ–±—ë—Ä—Ç–∫—É.

    –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π playwright‚Äë–æ–±—Ä–∞–∑ –∫–∞–∫ –±–∞–∑–∞:

        –ë—Ä–∞—Ç—å mcr.microsoft.com/playwright/python –∏–ª–∏ –∞–Ω–∞–ª–æ–≥.

        –í–Ω—É—Ç—Ä–∏ –æ–±—Ä–∞–∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–≤–æ–π –ø—Ä–æ–µ–∫—Ç (–∫–æ–ø–∏—è –∫–æ–¥–∞ + pip install -r ...).

    –û–¥–∏–Ω Dockerfile, –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞:

        –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫ FULL‚Äë—Ä–µ–∂–∏–º–∞ (—Å Playwright).

        –ß–µ—Ä–µ–∑ ENV PARSER_MODE=LIGHT –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ª—ë–≥–∫–∏–π —Ä–µ–∂–∏–º –¥–∞–∂–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

    –ü–ª—é—Å—ã –¥–ª—è —Ç–µ–±—è:

        –ù–∞ –ª—é–±–æ–º VPS / —Ö–æ—Å—Ç–∏–Ω–≥–µ —Ç–æ–ª—å–∫–æ Docker –Ω—É–∂–µ–Ω, –Ω–∏–∫–∞–∫–æ–π –≤–æ–∑–Ω–∏ —Å –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

        –õ–æ–∫–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ª–∏–±–æ –∫—Ä—É—Ç–∏—Ç—å Docker, –ª–∏–±–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é python‚Äô–æ–º.

–•–æ—Å—Ç–∏–Ω–≥ –∏ —Ä–µ—Å—É—Ä—Å—ã

–°–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —É–ø–∏—Ä–∞—é—Ç—Å—è –≤ ¬´–∂–µ–ª–µ–∑–æ + —Å–µ—Ç—å + –∏–∑–æ–ª—è—Ü–∏—è¬ª:

    VPS / Docker‚Äë—Ö–æ—Å—Ç–∏–Ω–≥:

        –õ—é–±–æ–π –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π VPS c –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Docker (Kamatera, Hostinger, –∏ —Ç.–ø.) –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Playwright –±–µ–∑ –æ—Å–æ–±—ã—Ö —Ç–∞–Ω—Ü–µ–≤.

        –•–≤–∞—Ç–∞–µ—Ç 1‚Äì2 vCPU –∏ 1‚Äì2 GB RAM, –µ—Å–ª–∏ –Ω–µ –ø–æ–¥–Ω–∏–º–∞—Ç—å –¥–µ—Å—è—Ç–æ–∫ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ.‚Äã

    –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:

        –í Docker –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª–∏–º–∏—Ç—ã CPU/RAM, —á—Ç–æ–±—ã –Ω–∞ —Å–ª–∞–±—ã—Ö –ü–ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –¥—É—à–∏–ª –≤—Å—é —Å–∏—Å—Ç–µ–º—É.

        –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—Ç—å max_concurrent –∏ request_delay –ø–æ–¥ –º–æ—â–Ω–æ—Å—Ç—å —Ö–æ—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, PROFILE=low_power).

    –°–µ—Ç–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

        –ü—Ä–æ–∫—Å–∏‚Äë–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (OZON_PROXY) —Ç–æ–∂–µ —á–µ—Ä–µ–∑ .env, —á—Ç–æ–±—ã –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –ø—Ä–æ–∫—Å–∏, –Ω–µ —Ç—Ä–æ–≥–∞—è –∫–æ–¥.

–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏—è –∑–∞–ø—É—Å–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ß—Ç–æ–±—ã ¬´–ª—é–±–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫¬ª –º–æ–≥ –≤–∑—è—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

    –û–¥–∏–Ω –∫–æ–º–∞–Ω–¥–Ω—ã–π –≤—Ö–æ–¥:

        python parse_ozon_sellers.py --seller-id 176640 --seller-name cosmo-beauty

        –ª–∏–±–æ

        docker run --env-file .env my-ozon-parser

    –ê–≤—Ç–æ‚Äë–≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞:

        –ï—Å–ª–∏ Playwright –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –≤ LIGHT —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.

        –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ–º—Å—è –≤–Ω—É—Ç—Ä–∏ Docker‚Äë–æ–±—Ä–∞–∑–∞ —Å Playwright ‚Üí –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é FULL.

    –ü—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã –¥–ª—è CI/cron:

        –ü—Ä–æ—Å—Ç–µ–π—à–∏–π docker-compose.yml –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (cron –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–ø–∫–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.

–ì–¥–µ –º–æ–∂–Ω–æ —Å–º–µ–ª–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–¥–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏

    –î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ü–ö:

        –î–µ–ª–∞—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —é–∑–∫–µ–π—Å –±–µ–∑ —Ä—É—á–Ω—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å Chrome cookies: –±—Ä–∞—Ç—å cookies –ª–∏–±–æ –∏–∑ Playwright, –ª–∏–±–æ –¥–∞–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç—å –∏—Ö –≤ .env.

        –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º/–ø—Ä–æ—Ñ–∏–ª–µ–º, –≤ FULL‚Äë—Ä–µ–∂–∏–º –∏ –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è—Ç—å —ç—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

    –î–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞:

        –î–µ–ª–∞—Ç—å –∞–∫—Ü–µ–Ω—Ç –Ω–∞ Docker‚Äë—Ä–µ–∂–∏–º–µ: –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤—Å—ë –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ (–≤–µ—Ä—Å–∏—è Python, –≤–µ—Ä—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–æ–≤ Playwright).

        –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –ø–æ–¥–Ω–∏–º–∞—Ç—å –æ–¥–∏–Ω –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π –±—Ä–∞—É–∑–µ—Ä –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü (–∫–∞–∫ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å —Ä–∞–Ω—å—à–µ), –Ω–æ —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä—è—Ç–∞—Ç—å –∑–∞ —Ñ–ª–∞–≥–∞–º–∏ –ø—Ä–æ—Ñ–∏–ª—è, —á—Ç–æ–±—ã –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–∂–Ω–æ —Å–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º –Ω–∞–±—Ä–æ—Å–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Dockerfile, —Å—Ç—Ä—É–∫—Ç—É—Ä—É requirements-*.txt –∏ –ø—Ä–∏–º–µ—Ä CLI‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–¥ —Ç–≤–æ–π —Ç–µ–∫—É—â–∏–π –∫–æ–¥, —á—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç —Å—Ä–∞–∑—É –±—ã–ª ¬´–≤–∑—è–ª ‚Üí –∑–∞–ø—É—Å—Ç–∏–ª¬ª –∏ –ª–æ–∫–∞–ª—å–Ω–æ, –∏ –Ω–∞ VPS.
