Grok:
–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∞ –æ—à–∏–±–∫–∏
–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –ª–æ–≥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞. –°–∫—Ä–∏–ø—Ç parse_ozon_sellers.py –ø—ã—Ç–∞–µ—Ç—Å—è –ø–∞—Ä—Å–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥–∞–≤—Ü–∞ Ozon (ID: 176640, cosmo-beauty), –Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (0 —Ç–æ–≤–∞—Ä–æ–≤). –ü—Ä–æ—Ü–µ—Å—Å –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ cookies, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Å—Å–∏–∏ –∏ –∑–∞–ø—Ä–æ—Å—ã –∫ API Ozon. –û—Å–Ω–æ–≤–Ω—ã–µ —ç—Ç–∞–ø—ã –ª–æ–≥–∞: –ø–æ–ª—É—á–µ–Ω–∏–µ cookies —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã (Playwright, –±—Ä–∞—É–∑–µ—Ä, headless Chrome), –∑–∞–ø—Ä–æ—Å—ã –∫ entrypoint API –∏ Seller API, —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –æ—à–∏–±–∫–∞–º–∏ 403 Forbidden.
–®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã (Root Cause)

–û–±—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ API Ozon –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º–æ–π (header ozon-antibot: 1 –≤ –æ—Ç–≤–µ—Ç–∞—Ö). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ 403 Forbidden –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö (entrypoint-api.bx –∏ Seller API). –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ cookies (—Ç–æ–ª—å–∫–æ abt_data –∏ __Secure-ETC) –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã –¥–ª—è Ozon, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ cookies –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, __Secure-abTest, __Secure-accessToken –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ). Headers –∑–∞–ø—Ä–æ—Å–æ–≤ (User-Agent, Referer –∏ —Ç.–¥.) –∏–º–∏—Ç–∏—Ä—É—é—Ç –±—Ä–∞—É–∑–µ—Ä, –Ω–æ –∞–Ω—Ç–∏–±–æ—Ç –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–µ—Ç–µ–∫—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é.
–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥–ø—Ä–∏—á–∏–Ω—ã:
–ù–∞—á–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ Playwright: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å cookies —á–µ—Ä–µ–∑ Playwright –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ 'module' object is not callable (—Å—Ç—Ä–æ–∫–∞: src.utils.playwright_cookies:get_ozon_cookies_playwright:128). –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É –≤ –∫–æ–¥–µ ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ, –º–æ–¥—É–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, playwright –∏–ª–∏ –ø–ª–∞–≥–∏–Ω –¥–ª—è –æ–±—Ö–æ–¥–∞ –∞–Ω—Ç–∏–±–æ—Ç–æ–≤) –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –º–æ–¥—É–ª—å, –Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤–µ—Ä—Å–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, from playwright.sync_api import sync_playwright –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ).
–ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ñ–∞–π–ª—É Cookies –≤ Chrome: –§–∞–π–ª C:\Users\Acer\AppData\Local\Google\Chrome\User Data\Default\Cookies –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–≤–æ–∑–º–æ–∂–Ω–æ, Chrome –∑–∞–ø—É—â–µ–Ω –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ñ–∞–π–ª). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ fallback –Ω–∞ headless Chrome, –≥–¥–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ cookies.
403 –≤ API-–∑–∞–ø—Ä–æ—Å–∞—Ö: –í _fetch_page (—Å—Ç—Ä–æ–∫–∞: src.api.ozon_catalog_api:_fetch_page:612) –∏ fetch_seller_catalog (—Å—Ç—Ä–æ–∫–∞: src.api.ozon_catalog_api:fetch_seller_catalog:740) –∑–∞–ø—Ä–æ—Å—ã –∫ https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2 –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 403. –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ ‚Äî HTML —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω" (anti-bot —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Ozon). –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤ Seller API (src.api.ozon_seller_api:fetch_product_prices:124) ‚Äî 0 —Ç–æ–≤–∞—Ä–æ–≤, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∏–∑-–∑–∞ —Ç–æ–π –∂–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
–í—Ç–æ—Ä–∏—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ cookies —á–µ—Ä–µ–∑ _initialize_session –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, —Ç–∞–∫ –∫–∞–∫ Ozon –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ abt_data, –Ω–æ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ. –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ —Ä–æ—Ç–∞—Ü–∏–∏ IP, —á—Ç–æ —É—Å–∏–ª–∏–≤–∞–µ—Ç –¥–µ—Ç–µ–∫—Ç.

–ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞, –≤—ã–∑—ã–≤–∞—é—â–∞—è —Å–±–æ–π: –û—Å–Ω–æ–≤–Ω–æ–π —Å–±–æ–π –≤ src.api.ozon_catalog_api:_fetch_page:612 (–≥–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è 403), –Ω–æ —Ü–µ–ø–æ—á–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å src.utils.playwright_cookies:get_ozon_cookies_playwright:128 (–æ—à–∏–±–∫–∞ callable). –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–ø–æ–ª–Ω—ã–º cookies, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç 403 –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

–®–∞–≥ 2: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–¶–µ–ª—å ‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: –Ω–µ –º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É —Å–∫—Ä–∏–ø—Ç–∞ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é, –Ω–æ —É–ª—É—á—à–∏—Ç—å –æ–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞. –ü—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ—ç—Ç–∞–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤ Playwright (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ):
–í —Ñ–∞–π–ª–µ src/utils/playwright_cookies.py, —Å—Ç—Ä–æ–∫–∞ ~128: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–∑–æ–≤ –º–æ–¥—É–ª—è. –ï—Å–ª–∏ —ç—Ç–æ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ playwright() ‚Äî —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è with sync_playwright() as playwright: (–∏–∑ playwright.sync_api). –î–æ–±–∞–≤—å—Ç–µ try-except –¥–ª—è graceful fallback.
–ü—Ä–∏–º–µ—Ä –ø–∞—Ç—á–∞:Pythonfrom playwright.sync_api import sync_playwright  # –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏–º–ø–æ—Ä—Ç–µ

try:
    with sync_playwright() as pw:  # –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ –º–æ–¥—É–ª—è
        browser = pw.chromium.launch(headless=True)
        # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
except TypeError as e:
    logger.error(f"Playwright error: {e}")
    # Fallback –Ω–∞ headless Chrome–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç 'module' object is not callable –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ —á–∞—Å—Ç–∏.

–£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è cookies (–æ—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è 403):
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Ä—É—á–Ω–æ–µ –∏–ª–∏ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ cookies. –î–æ–±–∞–≤—å—Ç–µ –æ–ø—Ü–∏—é –≤ .env –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ cookies (–Ω–∞–ø—Ä–∏–º–µ—Ä, OZON_COOKIES=abt_data=xxx;__Secure-ETC=yyy;...).
–í src.api.ozon_catalog_api:_load_cookies_from_browser:78 –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É, –∑–∞–ø—É—â–µ–Ω –ª–∏ Chrome, –∏ –∑–∞–∫—Ä–æ–π—Ç–µ –µ–≥–æ –ø–µ—Ä–µ–¥ –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ñ–∞–π–ª—É Cookies (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ psutil –¥–ª—è kill –ø—Ä–æ—Ü–µ—Å—Å–∞).
–î–æ–±–∞–≤—å—Ç–µ —Ä–æ—Ç–∞—Ü–∏—é User-Agent –∏ headers –≤ _fetch_page. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É fake-useragent –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö UA.
–ü—Ä–∏–º–µ—Ä –ø–∞—Ç—á–∞ –≤ _fetch_page:Pythonfrom fake_useragent import UserAgent

ua = UserAgent()
headers = {
    'User-Agent': ua.random,
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ headers
}
# –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–∫—Å–∏, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ: proxies={'http': 'http://your-proxy:port'}
response = self.session.get(url, headers=headers, timeout=10, proxies=proxies)–≠—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –¥–µ—Ç–µ–∫—Ç –±–µ–∑ –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞:
–î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (sleep 5-10 —Å–µ–∫) –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ _initialize_session –∏ _fetch_page –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.
–ï—Å–ª–∏ Ozon –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Cloudflare –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–µ, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ undetected-chromedriver –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Selenium –¥–ª—è headless Chrome (–≤ extract_cookies_headless).
–í Seller API (fetch_product_prices) –¥–æ–±–∞–≤—å—Ç–µ offer_id –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã, –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –æ–±—ä–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å –Ω–æ–≤—ã–º–∏ cookies (–ø–æ–ª—É—á–∏—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é: –∑–∞–π–¥–∏—Ç–µ –Ω–∞ ozon.ru –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ cookies —á–µ—Ä–µ–∑ DevTools > Application > Cookies).
–ï—Å–ª–∏ 403 persists, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN/–ø—Ä–æ–∫—Å–∏ –¥–ª—è —Å–º–µ–Ω—ã IP.


–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: –Ω–µ –º–µ–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞, —Ç–æ–ª—å–∫–æ —É–ª—É—á—à–∞–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –º–∞—Å–∫–∏—Ä–æ–≤–∫—É.
–®–∞–≥ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
–î–ª—è —Ç–æ—á–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω—É–∂–Ω—ã –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –æ —Å—Ä–µ–¥–µ, cookies –∏ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞):

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ Chrome (–º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª Cookies):texttasklist | findstr chrome.exe
–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –µ—Å—Ç—å, –∑–∞–∫—Ä–æ–π—Ç–µ Chrome –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç.

–ü–æ–ª—É—á–∏—Ç—å cookies –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ curl (–¥–ª—è —Ç–µ—Å—Ç–∞):textcurl -v https://www.ozon.ru/ > ozon_headers.txt
–û—Ç–∫—Ä–æ–π—Ç–µ ozon_headers.txt, –Ω–∞–π–¥–∏—Ç–µ Set-Cookie —Å—Ç—Ä–æ–∫–∏. –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ .env –∫–∞–∫ OZON_COOKIES=... –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç.

–¢–µ—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ API —Å curl (–∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å _fetch_page):textcurl -v -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" \
-H "Referer: https://www.ozon.ru/seller/cosmo-beauty-176640/" \
-H "Accept: application/json" \
-H "Cookie: abt_data=YOUR_ABT_DATA; __Secure-ETC=YOUR_ETC" \
"https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2?url=/seller/cosmo-beauty-176640/%3Fpage%3D1"
–ó–∞–º–µ–Ω–∏—Ç–µ YOUR_ABT_DATA –∏ YOUR_ETC –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ª–æ–≥–∞. –ï—Å–ª–∏ 403 ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –≤ IP/cookies; –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å –ø—Ä–æ–∫—Å–∏ (--proxy http://your-proxy:port).

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–¥–ª—è Playwright –æ—à–∏–±–∫–∏):textpip show playwright curl-cffi selenium
–ï—Å–ª–∏ –≤–µ—Ä—Å–∏–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ, –æ–±–Ω–æ–≤–∏—Ç–µ: pip install --upgrade playwright curl-cffi selenium.

–õ–æ–≥ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Chrome:
–û—Ç–∫—Ä–æ–π—Ç–µ Chrome, –∑–∞–π–¥–∏—Ç–µ –Ω–∞ https://www.ozon.ru/seller/cosmo-beauty-176640/, –Ω–∞–∂–º–∏—Ç–µ F12 > Network, –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ HAR-—Ñ–∞–π–ª –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ cookies/headers –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

Peplexity:
–ê–Ω–∞–ª–∏–∑ –∏ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –û—à–∏–±–∫–∏ –ü–∞—Ä—Å–µ—Ä–∞ Ozon
–†–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º—ã
Ozon Parser Execution Timeline with Error Events
Ozon Parser Execution Timeline with Error Events 

–°–∫—Ä–∏–ø—Ç parse_ozon_sellers.py –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —É—Å–ø–µ—à–Ω–æ, –Ω–æ –≤–µ—Ä–Ω—É–ª 0 —Ç–æ–≤–∞—Ä–æ–≤ –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞. –ü—Ä–∏—á–∏–Ω–∞: —Ü–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫, –Ω–∞—á–∏–Ω–∞—é—â–∞—è—Å—è —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ Playwright –∏ –∫—É–ª—å–º–∏–Ω–∏—Ä—É—é—â–∞—è –≤ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ HTTP 403 –æ—Ç Ozon.

–û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: 70.04 —Å–µ–∫ (1.17 –º–∏–Ω)
–°—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ, –Ω–æ ‚ùå –ë–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
Ozon Parser Execution Timeline with Error Events
Ozon Parser Execution Timeline with Error Events 
–ö–æ—Ä–Ω–µ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã
1Ô∏è‚É£ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ Playwright (14:07:18)

–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–µ:

text
ERROR | src.utils.playwright_cookies:get_ozon_cookies_playwright:128
‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ cookies —á–µ—Ä–µ–∑ Playwright: 'module' object is not callable

–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/utils/playwright_cookies.py, —Å—Ç—Ä–æ–∫–∞ 22

–ü—Ä–æ–±–ª–µ–º–∞:

python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
from playwright import sync_browser
# –≠—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å, –∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏—é

–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
from playwright.sync_api import sync_browser
# sync_api - –ø–æ–¥–º–æ–¥—É–ª—å —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º API, sync_browser - —Ñ—É–Ω–∫—Ü–∏—è

–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–µ: Fallback –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ (Selenium), —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ 42 —Å–µ–∫ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–æ cookies.
2Ô∏è‚É£ HTTP 403 Forbidden —Å Antibot-–±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π (14:08:05)

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –ª–æ–≥–∞:

text
DEBUG | src.api.ozon_catalog_api:_fetch_page:542
‚Ä¢ Status code: 403
‚Ä¢ Content-Type: text/html
‚Ä¢ ozon-antibot: 1  ‚Üê –≠—Ç–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–∏ –Ω–∞ –±–æ—Ç–∞

URL –∑–∞–ø—Ä–æ—Å–∞:

text
https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2?url=/seller/cosmo-beauty-176640/%3Fpage%3D1

–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω" –≤–º–µ—Å—Ç–æ JSON –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–∏—á–∏–Ω—ã:

    Cookies –ø–æ–ª—É—á–µ–Ω—ã —á–µ—Ä–µ–∑ Selenium (–Ω–µ —Ä–æ–¥–Ω–æ–π –±—Ä–∞—É–∑–µ—Ä Chrome) ‚Üí TLS fingerprint –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç

    User-Agent –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ Ozon

    API —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –∑–∞–ø—Ä–æ—Å–µ

    IP –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π

–ü–æ–ø—ã—Ç–∫–∞	–í—Ä–µ–º—è	–†–µ–∑—É–ª—å—Ç–∞—Ç	Cookies
1	14:08:05	403 Forbidden	['abt_data', '__Secure-ETC']
2 (retry)	14:08:11	403 Forbidden	–¢–µ –∂–µ cookies (–Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω—ã)
3Ô∏è‚É£ –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π retry-—Ü–∏–∫–ª (–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞)

–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: src/api/ozon_catalog_api.py, —Å—Ç—Ä–æ–∫–∞ 612-652

–ü—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ:

python
if status_code == 403:
    # –ü–æ–ø—ã—Ç–∫–∞ –æ–±–Ω–æ–≤–∏—Ç—å cookies —á–µ—Ä–µ–∑ curl_cffi...
    self._initialize_session()  # ‚Üê –ù–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –¢–ï –ñ–ï —Å—Ç–∞—Ä—ã–µ cookies!
    # Retry —Å —Ç–µ–º–∏ –∂–µ cookies ‚Üí —Å–Ω–æ–≤–∞ 403
    # –°–Ω–æ–≤–∞ retry ‚Üí –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –¥–æ –ª–∏–º–∏—Ç–∞ –ø–æ–ø—ã—Ç–æ–∫

–†–µ–∑—É–ª—å—Ç–∞—Ç: –î–≤–∞ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ —è–≤–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞.
–ü–æ—á–µ–º—É 0 —Ç–æ–≤–∞—Ä–æ–≤?
–¶–µ–ø–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏–π:

text
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. Playwright import error                                  ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 2. Fallback –Ω–∞ Selenium (42 —Å–µ–∫ –∑–∞–¥–µ—Ä–∂–∫–∞)                   ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 3. Cookies –∏–∑ Selenium (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π fingerprint)           ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 4. API –∑–∞–ø—Ä–æ—Å ‚Üí HTTP 403 (ozon-antibot triggered)           ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 5. Retry —Å —Ç–µ–º–∏ –∂–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ cookies ‚Üí —Å–Ω–æ–≤–∞ 403          ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 6. Fallback –Ω–∞ Seller API (–¥—Ä—É–≥–æ–π endpoint)                 ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ 7. Seller API –≤–µ—Ä–Ω—É–ª 0 —Ç–æ–≤–∞—Ä–æ–≤ (–≤–∞–ª–∏–¥–Ω—ã–π –æ—Ç–≤–µ—Ç)            ‚îÇ
‚îÇ    ‚Üì                                                         ‚îÇ
‚îÇ ‚ùå FINAL: 0 products                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
üî¥ –ö–†–ò–¢–ò–ß–ù–û–ï (–ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)
Fix #1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç Playwright

–§–∞–π–ª: src/utils/playwright_cookies.py, —Å—Ç—Ä–æ–∫–∞ 22

–ó–∞–º–µ–Ω–∞:

text
- from playwright import sync_browser
+ from playwright.sync_api import sync_browser

–ü—Ä–æ–≤–µ—Ä–∫–∞:

bash
python -c "from playwright.sync_api import sync_browser; print('‚úÖ OK')"

Fix #2: –û–±—Ä–∞–±–æ—Ç–∫–∞ 403 –±–µ–∑ infinite retry

–§–∞–π–ª: src/api/ozon_catalog_api.py, —Å—Ç—Ä–æ–∫–∞ 612

–¢–µ–∫—É—â–∏–π –∫–æ–¥:

python
if status_code == 403:
    logger.warning(f"‚ö†Ô∏è Forbidden (403) –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã {page}")
    # ... retry —Å —Ç–µ–º–∏ –∂–µ cookies

–ù–æ–≤—ã–π –∫–æ–¥:

python
if status_code == 403:
    if 'ozon-antibot' in response.headers:
        logger.error(f"‚ùå Ozon antibot –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω (–ø–æ–ø—ã—Ç–∫–∞ {retry_count+1})")
        if retry_count > 0:
            raise OzonAntibotException(
                f"IP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–æ—Å–ª–µ {retry_count+1} –ø–æ–ø—ã—Ç–æ–∫. "
                f"–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Ä—ã–≤ –∏–ª–∏ —Å–º–µ–Ω–∞ IP –∞–¥—Ä–µ—Å–∞."
            )
        # –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞: –æ—á–∏—Å—Ç–∏—Ç—å cookies –∏ –ø–µ—Ä–µ–ø–æ–ª—É—á–∏—Ç—å
        self.cookies.clear()
        self._initialize_session(force_refresh=True)
    else:
        # –î—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞ 403
        logger.error(f"‚ùå Access denied (403) –±–µ–∑ antibot –∑–∞–≥–æ–ª–æ–≤–∫–∞")
        raise Exception(f"403 Forbidden: {url}")

üü° –í–ê–ñ–ù–û–ï (–ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏)
Fix #3: –í–∞–ª–∏–¥–∞—Ü–∏—è Seller ID –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º

–§–∞–π–ª: src/parsers/ozon_parser.py, –Ω–∞—á–∞–ª–æ parse_seller_catalog()

python
def parse_seller_catalog(self, seller_id: int):
    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞
    try:
        seller_info = self.api.get_seller_info(seller_id)
    except Exception as e:
        logger.error(f"‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ –æ –ø—Ä–æ–¥–∞–≤—Ü–µ {seller_id}: {e}")
        return []
    
    if not seller_info or seller_info.get('status') != 'active':
        logger.warning(f"‚ö†Ô∏è –ü—Ä–æ–¥–∞–≤–µ—Ü {seller_id} –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω")
        return []
    
    product_count = seller_info.get('product_count', 0)
    if product_count == 0:
        logger.info(f"‚ö†Ô∏è –ü—Ä–æ–¥–∞–≤–µ—Ü {seller_id} –Ω–µ –∏–º–µ–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤")
        return []
    
    logger.info(f"üì¶ –ù–∞—á–∞–ª–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ {product_count} —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞ {seller_id}")
    # ... –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥

Fix #4: –î–æ–±–∞–≤–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É cookies

python
def _log_cookies_diagnostic(self):
    logger.debug("üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ cookies:")
    logger.debug(f"   ‚Ä¢ –ò—Å—Ç–æ—á–Ω–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è: {self.cookies_source}")
    logger.debug(f"   ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ cookies: {len(self.cookies)}")
    logger.debug(f"   ‚Ä¢ TLS fingerprint: {self.session.info()['fingerprint']}")
    logger.debug(f"   ‚Ä¢ User-Agent: {self.session.headers.get('User-Agent')[:50]}...")

üü¢ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø (–î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)
Fix #5: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Å–º–µ–Ω—ã IP

python
# –í –∫–æ–Ω—Ñ–∏–≥ .env –¥–æ–±–∞–≤–∏—Ç—å:
PROXY_URL=http://proxy-server:8080
PROXY_USERNAME=user
PROXY_PASSWORD=pass

# –í –∫–æ–¥–µ:
if 'ozon-antibot' in response.headers and self.proxy:
    logger.info("üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –ø—Ä–æ–∫—Å–∏...")
    self.session.proxies = self.proxy
    # Retry —Å –Ω–æ–≤—ã–º IP

–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Playwright

bash
pip show playwright
pip install --upgrade playwright
playwright install

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç (–ø–µ—Ä–µ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º)

bash
python -c "from playwright import sync_browser" 2>&1
# –í—ã–≤–µ–¥–µ—Ç: ImportError –∏–ª–∏ NameError

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

bash
python -c "from playwright.sync_api import sync_browser; print('‚úÖ OK')"

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å IP –±–ª–æ–∫–∏—Ä–æ–≤–∫—É

bash
curl -I https://www.ozon.ru/
# –ï—Å–ª–∏ 403 ‚Üí IP –∑–∞–±–∞–Ω–µ–Ω

5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Seller API –Ω–∞–ø—Ä—è–º—É—é

bash
curl -X POST https://api-seller.ozon.ru/v2/product/list \
  -H "Client-Id: 176640" \
  -H "Api-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{"limit": 1}' | jq .

6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –≤ debug —Ä–µ–∂–∏–º–µ

bash
python parse_ozon_sellers.py --debug --log-level DEBUG

–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ	–í–ª–∏—è–Ω–∏–µ	–°–ª–æ–∂–Ω–æ—Å—Ç—å	–í—Ä–µ–º—è	–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
Playwright import fix	–ö–†–ò–¢–ò–ß–ù–û–ï	1 –º–∏–Ω	‚≠ê	üî¥ 1
403 retry logic	–ö–†–ò–¢–ò–ß–ù–û–ï	5 –º–∏–Ω	‚≠ê‚≠ê	üî¥ 2
Seller validation	–°—Ä–µ–¥–Ω–µ–µ	10 –º–∏–Ω	‚≠ê‚≠ê‚≠ê	üü° 3
Proxy support	–ù–∏–∑–∫–æ–µ	30 –º–∏–Ω	‚≠ê‚≠ê‚≠ê‚≠ê	üü¢ 4
Enhanced logging	–ù–∏–∑–∫–æ–µ	15 –º–∏–Ω	‚≠ê‚≠ê‚≠ê	üü¢ 5
–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

bash
# –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç
sed -i 's/from playwright import sync_browser/from playwright.sync_api import sync_browser/g' src/utils/playwright_cookies.py

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
python -c "from playwright.sync_api import sync_browser; print('‚úÖ OK')"

# –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
python parse_ozon_sellers.py

–ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

    –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç Playwright (src/utils/playwright_cookies.py —Å—Ç—Ä–æ–∫–∞ 22)

    –û–±–Ω–æ–≤–∏—Ç—å retry-–ª–æ–≥–∏–∫—É –¥–ª—è 403 (src/api/ozon_catalog_api.py —Å—Ç—Ä–æ–∫–∞ 612)

    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ –∑–∞–±–∞–Ω–µ–Ω –ª–∏ IP: curl -I https://www.ozon.ru/

    –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é Seller ID –ø–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º

    –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç: python parse_ozon_sellers.py --test-seller-176640

    –ï—Å–ª–∏ 0 —Ç–æ–≤–∞—Ä–æ–≤ ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Seller API: curl -X POST api-seller.ozon.ru/v2/product/list...



ChatGPT:
–ù–∏–∂–µ‚Äî—Ä–∞–∑–±–æ—Ä –ª–æ–≥–∞, –∫–æ—Ä–µ–Ω—å –æ—à–∏–±–∫–∏, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞/—Ñ—É–Ω–∫—Ü–∏—è, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è/–ø—Ä–æ–≤–µ—Ä–∫–∏.

–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å (–∫–æ—Ä–æ—Ç–∫–æ)

–ü–µ—Ä–≤–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Äî TypeError: 'module' object is not callable –≤ src.utils.playwright_cookies:get_ozon_cookies_playwright (—Å—Ç—Ä–æ–∫–∞, —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤ –ª–æ–≥–µ: 128).
–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –∫–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è ¬´–≤—ã–∑–≤–∞—Ç—å¬ª –æ–±—ä–µ–∫—Ç-–º–æ–¥—É–ª—å –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä playwright()), –≤–º–µ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API Playwright (sync_playwright() / async_playwright() / playwright.sync_api –∏ —Ç.–ø.).

–ü–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏ Playwright, –∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∏–ª cookies —á–µ—Ä–µ–∑ Selenium / headless Chrome (–¥–≤–µ cookie: abt_data, __Secure-ETC).

–ù–æ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ entrypoint API Ozon –ø—Ä–∏—à—ë–ª 403 Forbidden (ozon-antibot), –ø–æ—ç—Ç–æ–º—É –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –Ω–µ —Å–∫–∞—á–∞–ª–∞—Å—å ‚Äî –∏—Ç–æ–≥: 0 —Ç–æ–≤–∞—Ä–æ–≤.

–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞ (Root Cause)

Primary: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ Playwright –≤ get_ozon_cookies_playwright ‚Äî –º–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ callable. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ Playwright-—Å–µ—Å—Å–∏–∏. (—Å—Ç—Ä–æ–∫–∞ —Å –æ—à–∏–±–∫–æ–π: src/utils/playwright_cookies:get_ozon_cookies_playwright:128).

Secondary (–ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è Playwright): –¥–∞–∂–µ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ cookies —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç 403 ‚Äî —ç—Ç–æ —É–∂–µ –∞–Ω—Ç–∏–±–æ—Ç-–∑–∞—â–∏—Ç–∞ Ozon (–Ω—É–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JS-—Ä–∞–Ω—Ç–∞–π–º/—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç/–¥–æ–ø. cookies/–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–ª–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è —Å–µ—Å—Å–∏—è). –ù–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ—á–∏–Ω–∏–º Playwright.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞/—Ñ—É–Ω–∫—Ü–∏—è, –≤—ã–∑—ã–≤–∞—é—â–∞—è —Å–±–æ–π

–§–∞–π–ª/—Ñ—É–Ω–∫—Ü–∏—è: src/utils/playwright_cookies.py ‚Üí get_ozon_cookies_playwright, —Å—Ç—Ä–æ–∫–∞ ~128 (–ª–æ–≥ –ø—Ä—è–º–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç get_ozon_cookies_playwright:128 - 'module' object is not callable).

–°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ç–∞–º —Å—Ç–æ–∏—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

import playwright
pw = playwright()   # <- —ç—Ç–æ –∏ –¥–∞—ë—Ç 'module' object is not callable


–∏–ª–∏ playwright.playwright() ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –≤—ã–∑–æ–≤.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–±–µ–∑ –±–æ–ª—å—à–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤)

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API Playwright (sync_playwright) –ª–∏–±–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Playwright. –°–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ sync_playwright().

–ü—Ä–∏–º–µ—Ä –ø–∞—Ç—á–∞ (–∑–∞–º–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ get_ozon_cookies_playwright):

- import playwright
- def get_ozon_cookies_playwright(...):
-     pw = playwright()   # <- WRONG
-     browser = pw.chromium.launch(...)
+ from playwright.sync_api import sync_playwright
+ def get_ozon_cookies_playwright(...):
+     with sync_playwright() as pw:
+         browser = pw.chromium.launch(headless=True, args=["--no-sandbox", "--disable-dev-shm-usage"])
+         context = browser.new_context(user_agent=USER_AGENT)
+         page = context.new_page()
+         page.goto("https://www.ozon.ru", wait_until="networkidle")
+         # –ù–∞–≤–µ—Å—Ç–∏ –º—ã—à—å/–ø–æ–¥–æ–∂–¥–∞—Ç—å JS, –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–¥–∞–≤—Ü–∞
+         page.goto(f"https://www.ozon.ru/seller/{seller_name}-{seller_id}/", wait_until="networkidle")
+         # –î–∞—Ç—å JS –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ:
+         page.wait_for_timeout(1500)
+         cookies = context.cookies()
+         browser.close()
+         return {c["name"]: c["value"] for c in cookies}


–ü–æ—è—Å–Ω–µ–Ω–∏—è:

sync_playwright() ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

headless=True ‚Äî –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å; –µ—Å–ª–∏ –≤—Å—ë –µ—â—ë 403, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ headless=False –¥–ª—è —Ç–µ—Å—Ç–∞.

–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Äî –∏—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç/–≤—ã–∑–æ–≤; –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è.

–î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏ –¥–ª—è –±–æ—Ä—å–±—ã —Å 403 (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ—Å–ª–µ –ø–æ—á–∏–Ω–∫–∏ Playwright)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ Playwright –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤—ã–¥–∞—Å—Ç cookies, 403 –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º (–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π JS challenge, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—Ä—É–≥–∏—Ö cookie, fingerprint mismatch). –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –º–µ—Ä—ã:

–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Playwright context + page) –∏ –Ω–µ –ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å cookies –≤ curl/requests ‚Äî –¥–∞–π—Ç–µ JS –≤—ã–ø–æ–ª–Ω–∏—Ç—å challenge.

–î–æ–±–∞–≤–∏—Ç—å –æ–∂–∏–¥–∞–Ω–∏–µ (wait_for_load/networkidle + –Ω–µ–±–æ–ª—å—à–æ–π —Ç–∞–π–º–∞—É—Ç) –∏ –∏–º–∏—Ç–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π (scroll, mouse move) –ø–µ—Ä–µ–¥ —á—Ç–µ–Ω–∏–µ–º cookies.

–ü—Ä–∏ —Ç–µ—Å—Ç–∞—Ö ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ headful —Ä–µ–∂–∏–º–µ (headless=False) —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–µ—à–∞–µ—Ç –ª–∏ —ç—Ç–æ 403.

–ï—Å–ª–∏ Ozon —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ sec-ch-*, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ context.new_page() –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Ö –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç (–±—Ä–∞—É–∑–µ—Ä –¥–µ–ª–∞–µ—Ç —ç—Ç–æ); –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ requests ‚Äî –∏–º–∏—Ç–∏—Ä—É–π—Ç–µ –∏—Ö, –Ω–æ –ª—É—á—à–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å browser context.

–ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–∫–∞–∫–∏–µ –¥–∞—Ç—å/—á—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–∏—à–ª–∏—Ç–µ –≤—ã–≤–æ–¥ (–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Ñ–∞–π–ª–æ–≤) ‚Äî —ç—Ç–æ –¥–∞—Å—Ç —Ç–æ—á–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É:

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–±–ª–µ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π (—Å—Ç—Ä–æ–∫–∏ ¬±20 –≤–æ–∫—Ä—É–≥ 128):

nl -ba src/utils/playwright_cookies.py | sed -n '1,220p'
# –∏–ª–∏, –µ—Å–ª–∏ —Ñ–∞–π–ª –¥–ª–∏–Ω–Ω—ã–π, –ø–æ–∫–∞–∑–∞—Ç—å 100-160
nl -ba src/utils/playwright_cookies.py | sed -n '100,160p'


–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Playwright –∏ –µ–≥–æ –≤–µ—Ä—Å–∏—è:

pip show playwright
playwright --version


–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –≤ Python (–ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–æ–π –æ–±—ä–µ–∫—Ç —É playwright):

python - <<'PY'
import playwright, importlib, sys
print("playwright:", playwright)
try:
    from playwright.sync_api import sync_playwright
    print("sync_playwright ok:", callable(sync_playwright))
except Exception as e:
    print("sync_playwright import error:", e)
PY


–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ 403 –≤—Ä—É—á–Ω—É—é ‚Äî –≤–∑—è—Ç—å cookies, –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ curl –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–≤–µ—Ç:
(–ø–æ–¥—Å—Ç–∞–≤—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è cookie –∏–∑ –ª–æ–≥–∞)

curl -v \
  -H "User-Agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36'" \
  -H "Referer: https://www.ozon.ru/seller/cosmo-beauty-176640/" \
  -H "Cookie: abt_data=PUT_VALUE_HERE; __Secure-ETC=PUT_VALUE_HERE" \
  "https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2?url=/seller/cosmo-beauty-176640/%3Fpage%3D1"


–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏/–æ—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –º–æ–º–µ–Ω—Ç—É –∑–∞–ø—Ä–æ—Å–∞.

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Playwright runtime (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã, –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã):

playwright install chromium
# –∏–ª–∏
python -m playwright install

–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (–±—ã—Å—Ç—Ä–æ)

–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç/–≤—ã–∑–æ–≤ –≤ playwright_cookies.py –∫–∞–∫ –≤ –ø–∞—Ç—á–µ –≤—ã—à–µ ‚Äî —ç—Ç–æ —Å–Ω–∏–º–µ—Ç TypeError –∏ –¥–∞—Å—Ç –≤–∞–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é Playwright-—Å–µ—Å—Å–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è cookies.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –µ—â—ë —Ä–∞–∑ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –æ—Å—Ç–∞–ª—Å—è –ª–∏ 403. –ï—Å–ª–∏ –¥–∞ ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç–µ curl-–ø—Ä–æ–≤–µ—Ä–∫—É (–∫–æ–º–∞–Ω–¥–∞ 4) –∏/–∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ headful Playwright (set headless=False) + page.wait_for_timeout(2000) + –Ω–µ–±–æ–ª—å—à–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏/—Å–∫—Ä–æ–ª–ª–∞ –ø–µ—Ä–µ–¥ –≤–∑—è—Ç–∏–µ–º cookies.

–†–µ–∑—é–º–µ –¥–µ–π—Å—Ç–≤–∏–π (–ø–æ—à–∞–≥–æ–≤–æ)

–û—Ç–∫—Ä–æ–π—Ç–µ src/utils/playwright_cookies.py –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Playwright (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å from playwright.sync_api import sync_playwright –∏ with sync_playwright() as pw:). (–õ–∏–Ω–∏—è –æ—à–∏–±–∫–∏ ‚Äî ~128).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ playwright —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –±—Ä–∞—É–∑–µ—Ä—ã –∏–Ω—Å—Ç–∞–ª–ª–∏—Ä–æ–≤–∞–Ω—ã (playwright --version –∏ python -m playwright install).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–µ—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —É—à–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞ 'module' object is not callable'.

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤—Å—ë –µ—â—ë 403 ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç–µ curl —Ç–µ—Å—Ç (–∫–æ–º–∞–Ω–¥–∞ –≤—ã—à–µ) –∏/–∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Playwright –≤ headful —Ä–µ–∂–∏–º–µ –∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ JS, –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –ø–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ entrypoint API.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, –º–æ–≥—É –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–æ—á–Ω—ã–π –ø–∞—Ç—á (diff/—Ñ–∞–π–ª) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ src/utils/playwright_cookies.py ‚Äî –ø—Ä–∏—à–ª–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã ‚Ññ1 (—Ñ—Ä–∞–≥–º–µ–Ω—Ç —Ñ–∞–π–ª–∞ –≤–æ–∫—Ä—É–≥ —Å—Ç—Ä–æ–∫–∏ 128), –∏ —è —Å–≥–µ–Ω–µ—Ä–∏—Ä—É—é –≥–æ—Ç–æ–≤—ã–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥.

—Å—É—Ö–æ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–∞–º–º–∞—Ä–∏: –æ—à–∏–±–∫–∞ ‚Äî –≤—ã–∑–æ–≤ –º–æ–¥—É–ª—è Playwright –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞ ~128 –≤ get_ozon_cookies_playwright); –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç/–≤—ã–∑–æ–≤ –Ω–∞ sync_playwright(); –∑–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å/—Ä–µ—à–∏—Ç—å 403 –∞–Ω—Ç–∏–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –±—Ä–∞—É–∑–µ—Ä–Ω—É—é —Å–µ—Å—Å–∏—é.

DeepSeek:
–•–æ—Ä–æ—à–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –ø–æ—Å–ª–µ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤. –û–Ω —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –æ—à–∏–±–∫–æ–π 403 –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ Ozon —á–µ—Ä–µ–∑ API, –∏ —è —É–∂–µ –æ–±—ä—è—Å–Ω–∏–ª, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∞–Ω—Ç–∏–±–æ—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ API –¥–∞–∂–µ —Å cookies.

–ù—É–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π, —Å–æ—Ö—Ä–∞–Ω—è—è –≤—Å—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —Å—É—Ç—å. –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å –∫—Ä–∞—Ç–∫–æ–≥–æ —Ä–µ–∑—é–º–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –ø–æ–Ω—è–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ó–∞—Ç–µ–º –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—É–Ω–∫—Ç–∞: –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å Playwright –∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

–í–∞–∂–Ω–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å, —á—Ç–æ Playwright ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–ª—è –æ–±—Ö–æ–¥–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç—ã Ozon. –í –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥–∞—Ö —Å—Ç–æ–∏—Ç —É—Ç–æ—á–Ω–∏—Ç—å, —á—Ç–æ –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ –¥–ª—è Windows (—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Acer).

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–º–µ—Ç–∫—É –ø—Ä–æ —Ç–æ, —á—Ç–æ Selenium –≤ –ª–æ–≥–∞—Ö —É–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–ª, –Ω–æ Playwright –ª—É—á—à–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é –∏ –º–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á—ë—Ç–∫–∏–º–∏, –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∂–∞—Ä–≥–æ–Ω–∞, –Ω–æ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Ç–µ—Ä–º–∏–Ω–∞–º–∏ (–∞–Ω—Ç–∏–±–æ—Ç, headless-–±—Ä–∞—É–∑–µ—Ä, —ç–º—É–ª—è—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è).

üßê –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤–∞—à –ª–æ–≥. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ Ozon –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ API —Å–≤–æ–µ–π —Å–∏—Å—Ç–µ–º–æ–π –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤.
1. –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ —Å–±–æ—è

–°–∫—Ä–∏–ø—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API Ozon (entrypoint-api.bx), –Ω–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç HTTP 403 Forbidden —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º ozon-antibot: 1. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä Ozon —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –≤–∞—à –∑–∞–ø—Ä–æ—Å –∫–∞–∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π (–±–æ—Ç) –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –µ–≥–æ.

–ö–ª—é—á–µ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ:
–í —Ñ–∞–π–ª–µ src/api/ozon_catalog_api.py, –≤ –º–µ—Ç–æ–¥–µ _fetch_page() (—Å—Ç—Ä–æ–∫–∏ ~542-629 –ª–æ–≥–∞), —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç curl_cffi –¥–ª—è –ø—Ä—è–º—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API. Ozon –Ω–∞—É—á–∏–ª—Å—è –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã, –¥–∞–∂–µ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ cookies (abt_data, __Secure-ETC).
2. –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–í–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API, –Ω—É–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥:

    –û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç curl_cffi/requests –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Playwright –¥–ª—è –ø–æ–ª–Ω–æ–π —ç–º—É–ª—è—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

        –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ headless-–±—Ä–∞—É–∑–µ—Ä–µ

        –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤

        –ò–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ HTML

    –£—Å–∏–ª–∏—Ç—å –º–∞—Å–∫–∏—Ä–æ–≤–∫—É:

        –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ User-Agent

        –î–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏

        –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

    Ozon –≤–∏–¥–∏—Ç "—Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"

    –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ API

    –ë–æ–ª–µ–µ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

3. –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

–ü–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–µ—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
bash

# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
python --version
pip show playwright curl-cffi selenium beautifulsoup4 lxml

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É –±—Ä–∞—É–∑–µ—Ä–æ–≤ –¥–ª—è Playwright
playwright install --dry-run

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑–æ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Ozon
python -c "import requests; print(requests.get('https://www.ozon.ru').status_code)"

–ß—Ç–æ –º–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç –≤–∞—Å:

    –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥

    –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (–æ—Å–æ–±–µ–Ω–Ω–æ –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–∞—Ä—Å–µ—Ä—ã)

    –ö–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å (–≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —è —Å–º–æ–≥—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –Ω–∞ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Playwright. –≠—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –≤ src/parsers/ozon_parser.py –∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—Ä–∞—É–∑–µ—Ä–æ–º.
