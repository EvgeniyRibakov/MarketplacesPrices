# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞—Ä—Å–µ—Ä–∞ Ozon - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö](#–∏—Å—Ç–æ—á–Ω–∏–∫–∏-–¥–∞–Ω–Ω—ã—Ö)
3. [–û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã](#–æ—Ç–∫—É–¥–∞-–±–µ—Ä—É—Ç—Å—è-–∞—Ä—Ç–∏–∫—É–ª—ã)
4. [–ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞](#–ø—Ä–æ—Ü–µ—Å—Å-–ø–∞—Ä—Å–∏–Ω–≥–∞)
5. [–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞](#–æ–±—Ö–æ–¥-–∞–Ω—Ç–∏–±–æ—Ç–∞)
6. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞](#–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ-—É—Å–∫–æ—Ä–µ–Ω–∏–µ-–ø–∞—Ä—Å–µ—Ä–∞)

---

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
parse_ozon_sellers.py          # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ load_env_config()          # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
‚îú‚îÄ‚îÄ parse_seller()             # –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îî‚îÄ‚îÄ export_results()           # –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

src/parsers/ozon_parser.py     # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ OzonParser                 # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø–∞—Ä—Å–µ—Ä–∞
‚îî‚îÄ‚îÄ parse_seller_catalog()     # –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

src/api/ozon_catalog_api.py    # –ü—É–±–ª–∏—á–Ω—ã–π API –∫–∞—Ç–∞–ª–æ–≥–∞ (–û–°–ù–û–í–ù–û–ô –ò–°–¢–û–ß–ù–ò–ö)
‚îú‚îÄ‚îÄ OzonCatalogAPI             # –ö–ª–∏–µ–Ω—Ç –¥–ª—è entrypoint API
‚îú‚îÄ‚îÄ fetch_seller_catalog()     # –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ _fetch_page()              # –ó–∞–ø—Ä–æ—Å –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (curl_cffi)
‚îú‚îÄ‚îÄ _fetch_page_via_playwright() # Fallback —á–µ—Ä–µ–∑ Playwright –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
‚îî‚îÄ‚îÄ parse_product()            # –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–∞ –∏–∑ JSON

src/api/ozon_seller_api.py     # –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API (–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô)
‚îú‚îÄ‚îÄ OzonSellerAPI              # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Seller API
‚îú‚îÄ‚îÄ fetch_product_prices()     # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞
‚îî‚îÄ‚îÄ parse_price_item()         # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –æ —Ü–µ–Ω–∞—Ö

src/utils/browser_cookies.py   # –ü–æ–ª—É—á–µ–Ω–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
‚îî‚îÄ‚îÄ get_ozon_cookies()         # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies
```

### –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```
1. –ó–∞–ø—É—Å–∫ parse_ozon_sellers.py
   ‚Üì
2. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env (Client ID, API Key, Seller ID, Cookies)
   ‚Üì
3. –°–æ–∑–¥–∞–Ω–∏–µ OzonParser —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   ‚Üì
4. –í—ã–∑–æ–≤ parse_seller_catalog()
   ‚Üì
5. –®–ê–ì 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (OzonCatalogAPI)
   ‚îú‚îÄ‚îÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ cookies (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã)
   ‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ç–∞–ª–æ–≥–∞
   ‚îú‚îÄ‚îÄ –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   ‚îú‚îÄ‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
   ‚îî‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (—Ü–∏–∫–ª)
   ‚Üì
6. –®–ê–ì 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞ —á–µ—Ä–µ–∑ Seller API (OzonSellerAPI)
   ‚îú‚îÄ‚îÄ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
   ‚îî‚îÄ‚îÄ –ó–∞–ø—Ä–æ—Å —Ü–µ–Ω –ø–æ SKU —á–µ—Ä–µ–∑ Seller API
   ‚Üì
7. –®–ê–ì 3: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   ‚îú‚îÄ‚îÄ –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ SKU
   ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
   ‚Üì
8. –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel
```

---

## üì° –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. –ü—É–±–ª–∏—á–Ω—ã–π Entrypoint API (–û–°–ù–û–í–ù–û–ô –ò–°–¢–û–ß–ù–ò–ö)

**URL:** `https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `url` - URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `/seller/{seller_name}-{seller_id}/?page={page}&paginator_token={token}&search_page_state={state}`
- –ü—Ä–∏–º–µ—Ä: `/seller/cosmo-beauty-176640/?page=1&layout_page_index=1`

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ **SKU —Ç–æ–≤–∞—Ä–æ–≤** (product_id) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞ Ozon
- ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤** - –ø–æ–ª–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ **–¶–µ–Ω–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è** (current_price) - —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —Å–æ –≤—Å–µ–º–∏ —Å–∫–∏–¥–∫–∞–º–∏
- ‚úÖ **–ó–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞** (original_price) - —Å—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –Ω–∞ –≤–∏—Ç—Ä–∏–Ω–µ
- ‚úÖ **–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏** (discount_percent) - –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ –æ—Ç –∑–∞—á—ë—Ä–∫–Ω—É—Ç–æ–π —Ü–µ–Ω—ã
- ‚úÖ **–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤** –ø—Ä–æ–¥–∞–≤—Ü–∞ (—á–µ—Ä–µ–∑ –ø–∞–≥–∏–Ω–∞—Ü–∏—é)

**–ü–æ—á–µ–º—É –æ—Å–Ω–æ–≤–Ω–æ–π:**
- –°–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è (—Å–æ —Å–∫–∏–¥–∫–∞–º–∏), –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ Seller API
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –Ω–∞ —Å–∞–π—Ç–µ
- –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö –∏ —Å–∫–∏–¥–∫–∞—Ö

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ë–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –∞–Ω—Ç–∏–±–æ—Ç–æ–º Ozon (`ozon-antibot: 1` –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö)
- ‚ùå –¢—Ä–µ–±—É–µ—Ç cookies –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚ùå –ú–µ–¥–ª–µ–Ω–Ω—ã–π (–∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ 3-5 —Å–µ–∫)

**–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `curl_cffi` —Å —ç–º—É–ª—è—Ü–∏–µ–π Chrome 131
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ Playwright fallback
- Playwright –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª–Ω—É—é —ç–º—É–ª—è—Ü–∏—é –±—Ä–∞—É–∑–µ—Ä–∞ —Å `playwright-stealth`

### 2. –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API (–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö)

**URL:** `https://api-seller.ozon.ru/v5/product/info/prices`

**–ú–µ—Ç–æ–¥:** POST

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
- `Client-Id` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ .env: `OZON_CLIENT_ID`)
- `Api-Key` - API –∫–ª—é—á –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ .env: `OZON_API_KEY`)

**–ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- ‚úÖ **–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞** (seller_price) - —Ü–µ–Ω–∞ –±–µ–∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏–π
- ‚úÖ **–ó–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞** (old_price) - –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞** (min_price) - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ **–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞** (offer_id) - –∞—Ä—Ç–∏–∫—É–ª —Ç–æ–≤–∞—Ä–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ **SKU** (product_id) - –¥–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è (—Å–æ —Å–∫–∏–¥–∫–∞–º–∏)
- ‚ùå –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö –∞–∫—Ü–∏—è—Ö
- ‚ùå –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–µ –ø—Ä–æ–¥–∞–≤—Ü—É

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π API –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π (–∑–∞–¥–µ—Ä–∂–∫–∞ 0.5 —Å–µ–∫)
- ‚úÖ –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–∞

---

## üî¢ –û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –∞—Ä—Ç–∏–∫—É–ª—ã

### SKU (product_id) - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ –Ω–∞ Ozon

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –ü—É–±–ª–∏—á–Ω—ã–π Entrypoint API

**–ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:**
1. –ó–∞–ø—Ä–æ—Å –∫ `https://www.ozon.ru/api/entrypoint-api.bx/page/json/v2`
2. –ü–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–∞:
   ```json
   {
     "widgetStates": {
       "tileGridDesktop-...": {
         "items": [
           {
             "sku": 12345678,  // ‚Üê –≠—Ç–æ SKU
             "mainState": [...]
           }
         ]
       }
     }
   }
   ```
3. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—è `sku` –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ `widgetStates.tileGridDesktop.items`

**–ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –î–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω –≤ Seller API (`product_ids=[sku1, sku2, ...]`)
- –î–ª—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–≤—É—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- –ö–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### –ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞ (offer_id)

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Seller API

**–ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è:**
1. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è SKU –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
2. –ó–∞–ø—Ä–æ—Å –∫ Seller API —Å `product_ids=[sku1, sku2, ...]`
3. –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞:
   ```json
   {
     "result": {
       "items": [
         {
           "product_id": 12345678,
           "offer_id": "ART-12345",  // ‚Üê –≠—Ç–æ –∞—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞
           "price": {...}
         }
       ]
     }
   }
   ```
4. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª—è `offer_id` –∏–∑ –æ—Ç–≤–µ—Ç–∞ Seller API

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–µ—Å–ª–∏ —Ç–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ Seller API)
- –£–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ offer_id —É —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–¥–∞–≤—Ü–æ–≤)

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–ª—É—á–µ–Ω–∏—è –∞—Ä—Ç–∏–∫—É–ª–æ–≤

```
1. –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
   ‚Üì
2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SKU –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
   ‚Üì
3. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU: [sku1, sku2, ..., sku527]
   ‚Üì
4. –ó–∞–ø—Ä–æ—Å –≤ Seller API —Å product_ids=[sku1, sku2, ...]
   ‚Üì
5. –ü–æ–ª—É—á–µ–Ω–∏–µ offer_id –¥–ª—è –∫–∞–∂–¥–æ–≥–æ SKU
   ‚Üì
6. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: SKU + offer_id + —Ü–µ–Ω—ã
```

**–í–∞–∂–Ω–æ:**
- SKU –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (entrypoint API)
- –ê—Ä—Ç–∏–∫—É–ª—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ (offer_id) –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ Seller API
- –ù–µ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã –≤ Seller API

---

## ‚öôÔ∏è –ü—Ä–æ—Ü–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞

### –≠—Ç–∞–ø 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª:** `parse_ozon_sellers.py`

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** (`load_env_config()`):
   - `OZON_CLIENT_ID` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `OZON_API_KEY` - API –∫–ª—é—á –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `OZON_SELLER_ID_COSMO` - ID –ø—Ä–æ–¥–∞–≤—Ü–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
   - `OZON_SELLER_NAME_COSMO` - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥–∞–≤—Ü–∞ (–∏–∑ URL)
   - `OZON_COOKIES` - cookies (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ)

2. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞** (`OzonParser`):
   ```python
   parser = OzonParser(
       client_id=client_id,
       api_key=api_key,
       request_delay=0.5,  # –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è Seller API
       cookies=cookies
   )
   ```

### –≠—Ç–∞–ø 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 1/2: –ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∫–∞—Ç–∞–ª–æ–≥–∞**:
   ```python
   async with OzonCatalogAPI(
       request_delay=1.0,      # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
       max_concurrent=3,      # –ú–∞–∫—Å–∏–º—É–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
       cookies=self.cookies,
       auto_get_cookies=True if not self.cookies else False
   ) as catalog_api:
   ```

2. **–ü–æ–ª—É—á–µ–Ω–∏–µ cookies** (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω—ã):
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: Playwright (—Å –æ–±—Ö–æ–¥–æ–º –∞–Ω—Ç–∏–±–æ—Ç–æ–≤)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Selenium headless Chrome
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –ß—Ç–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Chrome

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞** (`fetch_seller_catalog()`):
   - –ó–∞–ø—Ä–æ—Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `page=1`
   - –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤: `parse_products_from_page()`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏: `paginator_token`, `search_page_state`
   - –¶–∏–∫–ª –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –¥–æ –∫–æ–Ω—Ü–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

4. **–ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤** (`parse_product()`):
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ SKU –∏–∑ `item.sku`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ `item.mainState[].textAtom.text`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω –∏–∑ `item.mainState[].priceV2`:
     - `textStyle == "PRICE"` ‚Üí —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
     - `textStyle == "ORIGINAL_PRICE"` ‚Üí –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞
     - `discount` ‚Üí –ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å SKU, –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∏ —Ü–µ–Ω–∞–º–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

### –≠—Ç–∞–ø 3: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞ —á–µ—Ä–µ–∑ Seller API

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 2/2: Seller API**

1. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ SKU**:
   ```python
   product_ids_for_api = [product.get("sku") for product in catalog_products]
   ```

2. **–ó–∞–ø—Ä–æ—Å —Ü–µ–Ω** (`fetch_product_prices()`):
   ```python
   seller_items = await seller_api.fetch_product_prices(
       product_ids=product_ids_for_api
   )
   ```

3. **–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞** (`parse_price_item()`):
   - `product_id` ‚Üí SKU
   - `offer_id` ‚Üí –∞—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `price.price` ‚Üí —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞
   - `old_price.old_price` ‚Üí –∑–∞—á—ë—Ä–∫–Ω—É—Ç–∞—è —Ü–µ–Ω–∞
   - `min_price.min_price` ‚Üí –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ª–æ–≤–∞—Ä—å `{sku: {offer_id, seller_price, old_price, min_price}}`

### –≠—Ç–∞–ø 4: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `src/parsers/ozon_parser.py` ‚Üí `parse_seller_catalog()`

**–®–∞–≥ 3/3: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**

1. **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ SKU**:
   ```python
   for sku, catalog_data in catalog_by_sku.items():
       seller_data = seller_prices_by_sku.get(sku, {})
   ```

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏**:
   ```python
   result = {
       "product_id": sku,                    # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "offer_id": seller_data.get("offer_id"),  # –ò–∑ Seller API
       "product_name": catalog_data.get("product_name"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_current": catalog_data.get("current_price"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_original": catalog_data.get("original_price"),  # –ò–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
       "price_seller": seller_data.get("seller_price"),  # –ò–∑ Seller API
       "price_old": seller_data.get("old_price"),  # –ò–∑ Seller API
       ...
   }
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –æ–±–æ–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### –≠—Ç–∞–ø 5: –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel

**–§–∞–π–ª:** `parse_ozon_sellers.py` ‚Üí `export_results()`

1. –°–æ–∑–¥–∞–Ω–∏–µ DataFrame –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
3. –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–æ–≤–∞—Ä–∞
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Excel —Å –∞–≤—Ç–æ—à–∏—Ä–∏–Ω–æ–π —Å—Ç–æ–ª–±—Ü–æ–≤
5. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π

---

## üõ°Ô∏è –û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞

### –ú–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã Ozon

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- HTTP —Å—Ç–∞—Ç—É—Å: `403 Forbidden`
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞: `ozon-antibot: 1`
- –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω"

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω—Ç–∏–±–æ—Ç:**
1. –ê–Ω–∞–ª–∏–∑ TLS fingerprint (–æ—Ç–ø–µ—á–∞—Ç–æ–∫ TLS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ (User-Agent, Sec-Fetch-*)
3. –ê–Ω–∞–ª–∏–∑ cookies (–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å, —Å–≤–µ–∂–µ—Å—Ç—å)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è (—á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –ø–∞—Ç—Ç–µ—Ä–Ω—ã)

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ö–æ–¥–∞

#### –£—Ä–æ–≤–µ–Ω—å 1: curl_cffi (–æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `impersonate="chrome131"` - —ç–º—É–ª—è—Ü–∏—è Chrome 131
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (User-Agent, Sec-Fetch-*, Accept-*)
- –í–∞–ª–∏–¥–Ω—ã–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `request_delay=3.0` —Å–µ–∫ - –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `max_concurrent=2` - –º–∞–∫—Å–∏–º—É–º 2 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
- –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ (—Å—Ç–∞—Ç—É—Å 200) - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º

#### –£—Ä–æ–≤–µ–Ω—å 2: Playwright Fallback (–ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ)

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è:**
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `403` —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `ozon-antibot: 1`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Playwright

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `playwright-stealth` - –æ–±—Ö–æ–¥ –¥–µ—Ç–µ–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ (JavaScript, WebGL, Canvas)
- User-like –ø–æ–≤–µ–¥–µ–Ω–∏–µ (—Å–∫—Ä–æ–ª–ª–∏–Ω–≥, –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏)
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º API

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–¥–∞–≤—Ü–∞: `https://www.ozon.ru/seller/{seller_name}-{seller_id}/`
2. –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (`networkidle`)
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`document.readyState === 'complete'`)
4. –ó–∞–ø—Ä–æ—Å –∫ API —á–µ—Ä–µ–∑ `page.request.get()`
5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ Playwright

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
- –û–±—Ö–æ–¥ TLS fingerprint –ø—Ä–æ–≤–µ—Ä–æ–∫
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ curl_cffi

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ (5-10 —Å–µ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å)
- –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –ü–æ–ª—É—á–µ–Ω–∏–µ cookies

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):**

1. **Playwright** (`src/utils/playwright_cookies.py`):
   - –û—Ç–∫—Ä—ã—Ç–∏–µ Ozon –≤ –±—Ä–∞—É–∑–µ—Ä–µ Playwright
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `playwright-stealth`
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

2. **Selenium Headless Chrome** (`src/utils/browser_cookies.py`):
   - –ó–∞–ø—É—Å–∫ headless Chrome —á–µ—Ä–µ–∑ Selenium
   - –û—Ç–∫—Ä—ã—Ç–∏–µ Ozon –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ cookies
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Chrome** (`src/utils/browser_cookies.py`):
   - –ß—Ç–µ–Ω–∏–µ cookies –∏–∑ SQLite –±–∞–∑—ã Chrome
   - –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É `Cookies`
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê

4. **–†—É—á–Ω–æ–π –≤–≤–æ–¥** (`.env` —Ñ–∞–π–ª):
   - `OZON_COOKIES=name1=value1; name2=value2`
   - –ò–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ cookies: `OZON_COOKIE_SESSIONID=...`
   - **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** ‚≠ê‚≠ê‚≠ê‚≠ê (–µ—Å–ª–∏ —Å–≤–µ–∂–∏–µ)

**–í–∞–∂–Ω—ã–µ cookies:**
- `__Secure-access-token` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞
- `__Secure-refresh-token` - —Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `xcid` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞
- `rfuid` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `abt_data` - –¥–∞–Ω–Ω—ã–µ –∞–Ω—Ç–∏–±–æ—Ç–∞

---

## ‚ö° –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏

**–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ (Entrypoint API):**
- `request_delay=1.0` —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–≤ –∫–æ–¥–µ, —Å—Ç—Ä–æ–∫–∞ 60)
- `max_concurrent=3` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ (–≤ –∫–æ–¥–µ, —Å—Ç—Ä–æ–∫–∞ 61)
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ: `request_delay=3.0`, `max_concurrent=2`
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ: Playwright fallback (5-10 —Å–µ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å)

**Seller API:**
- `request_delay=0.5` —Å–µ–∫ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- `max_concurrent=5` –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∞–Ω—Ç–∏–±–æ—Ç–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å–∫–æ—Ä–µ–Ω–∏—é

#### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (–Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

**1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –¥–ª—è Seller API:**
```python
# –¢–µ–∫—É—â–µ–µ: request_delay=0.5 —Å–µ–∫
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–∂–Ω–æ: request_delay=0.3 —Å–µ–∫
# Seller API –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç, –º–æ–∂–Ω–æ —É—Å–∫–æ—Ä–∏—Ç—å
```

**2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ Seller API:**
```python
# –¢–µ–∫—É—â–µ–µ: max_concurrent=5
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ –º–æ–∂–Ω–æ: max_concurrent=10
# Seller API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
```

**3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ cookies:**
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å cookies –≤ —Ñ–∞–π–ª –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookies –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- –û–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Playwright fallback:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- –ù–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏

#### ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫ (—Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**1. –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∫–∞—Ç–∞–ª–æ–≥–∞:**
```python
# –¢–µ–∫—É—â–µ–µ: request_delay=3.0 —Å–µ–∫
# –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: request_delay=2.0 —Å–µ–∫
# –†–∏—Å–∫: –≤–æ–∑–º–æ–∂–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
```

**2. –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞ –∫–∞—Ç–∞–ª–æ–≥–∞:**
```python
# –¢–µ–∫—É—â–µ–µ: max_concurrent=2
# –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: max_concurrent=3-4
# –†–∏—Å–∫: –±–æ–ª—å—à–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ = –≤—ã—à–µ —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
```

**3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏:**
```python
# –í .env: OZON_PROXY=http://proxy.example.com:8080
# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º IP
# –†–∏—Å–∫: –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∫—Å–∏ –≤–ª–∏—è–µ—Ç –Ω–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å
```

#### ‚ùå –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**1. –ó–∞–¥–µ—Ä–∂–∫–∞ < 1.5 —Å–µ–∫ –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- –ê–Ω—Ç–∏–±–æ—Ç –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP

**2. –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º > 5 –¥–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**3. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Playwright fallback:**
- –ü—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ curl_cffi –ø–∞—Ä—Å–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è
- –ù–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 1: –¢–µ–∫—É—â–∞—è (—É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)**

```python
# –í src/parsers/ozon_parser.py, —Å—Ç—Ä–æ–∫–∞ 59-63
async with OzonCatalogAPI(
    request_delay=1.0,      # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—É–∂–µ —É–º–µ–Ω—å—à–µ–Ω–æ —Å 3.0)
    max_concurrent=3,       # –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—É–∂–µ —É–≤–µ–ª–∏—á–µ–Ω–æ —Å 2)
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 1a: –î–∞–ª—å–Ω–µ–π—à–µ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (—Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫)**

```python
async with OzonCatalogAPI(
    request_delay=0.8,      # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1.0 –¥–æ 0.8 —Å–µ–∫
    max_concurrent=4,       # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 3 –¥–æ 4
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 2: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫)**

```python
async with OzonCatalogAPI(
    request_delay=0.5,      # –£–º–µ–Ω—å—à–µ–Ω–æ —Å 1.0 –¥–æ 0.5 —Å–µ–∫
    max_concurrent=5,       # –£–≤–µ–ª–∏—á–µ–Ω–æ —Å 3 –¥–æ 5
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False
) as catalog_api:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è 3: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫, —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ–∫—Å–∏)**

```python
async with OzonCatalogAPI(
    request_delay=0.3,      # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (–≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
    max_concurrent=6,       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
    cookies=self.cookies,
    auto_get_cookies=True if not self.cookies else False,
    proxy=os.getenv('OZON_PROXY')  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏
) as catalog_api:
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**1. –ë–∞—Ç—á–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ Seller API:**
- –¢–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç: 1000 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –∑–∞–ø—Ä–æ—Å
- –ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ –º–∞–∫—Å–∏–º—É–º–∞ (–µ—Å–ª–∏ API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)

**2. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞:**
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ `max_concurrent`

**3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à

**4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ JSON –ø–∞—Ä—Å–µ—Ä—ã
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ü–∏–∫–ª—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ Playwright fallback –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ 403 –≤ –ª–æ–≥–∞—Ö
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å `request_delay` –Ω–∞ 0.5-1.0 —Å–µ–∫
2. –£–º–µ–Ω—å—à–∏—Ç—å `max_concurrent` –Ω–∞ 1
3. –û–±–Ω–æ–≤–∏—Ç—å cookies
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**–î–ª—è –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–∑ 527 —Ç–æ–≤–∞—Ä–æ–≤ (44 —Å—Ç—Ä–∞–Ω–∏—Ü—ã):**
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞—Ç–∞–ª–æ–≥–∞: ~300-350 —Å–µ–∫ (5-6 –º–∏–Ω) –ø—Ä–∏ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –í—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Seller API: ~1 —Å–µ–∫
- –û–±—â–µ–µ –≤—Ä–µ–º—è: ~350 —Å–µ–∫ (5.8 –º–∏–Ω)
- –°–∫–æ—Ä–æ—Å—Ç—å: ~1.5 —Ç–æ–≤–∞—Ä–∞/—Å–µ–∫
- –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Playwright fallback: +5-10 —Å–µ–∫ –Ω–∞ –∫–∞–∂–¥—ã–π –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏:**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–∞–ª–æ–≥–∞: ~95% –≤—Ä–µ–º–µ–Ω–∏
- –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤: ~2% –≤—Ä–µ–º–µ–Ω–∏
- –ó–∞–ø—Ä–æ—Å—ã Seller API: ~1% –≤—Ä–µ–º–µ–Ω–∏
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel: ~2% –≤—Ä–µ–º–µ–Ω–∏

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —É—Å–∫–æ—Ä–µ–Ω–∏—è

**–ü—Ä–∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.8, max_concurrent=4):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~240-270 —Å–µ–∫ (4-4.5 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~20-25%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: —Å—Ä–µ–¥–Ω–∏–π

**–ü—Ä–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.5, max_concurrent=5):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~180-220 —Å–µ–∫ (3-3.7 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~35-45%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –≤—ã—Å–æ–∫–∏–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–ü—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —É—Å–∫–æ—Ä–µ–Ω–∏–∏ (request_delay=0.3, max_concurrent=6, —Å –ø—Ä–æ–∫—Å–∏):**
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: ~150-180 —Å–µ–∫ (2.5-3 –º–∏–Ω)
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ: ~50-60%
- –†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏)

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ –∫–æ–¥–µ)

**–ü—É–±–ª–∏—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥:**
- `request_delay=1.0` —Å–µ–∫ (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 60)
- `max_concurrent=3` (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 61)
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ: `request_delay=3.0`, `max_concurrent=2` (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**Seller API:**
- `request_delay=0.5` —Å–µ–∫ (–≤ `src/parsers/ozon_parser.py`, —Å—Ç—Ä–æ–∫–∞ 117, 124)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `OzonParser.__init__` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.5)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –í—ã–Ω–µ—Å—Ç–∏ –≤ .env

**–î–æ–±–∞–≤–∏—Ç—å –≤ `.env_sample`:**
```env
# –ó–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Ozon
OZON_CATALOG_REQUEST_DELAY=3.0
OZON_CATALOG_MAX_CONCURRENT=2
OZON_SELLER_REQUEST_DELAY=0.5
OZON_SELLER_MAX_CONCURRENT=5
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ:**
```python
catalog_delay = float(os.getenv('OZON_CATALOG_REQUEST_DELAY', '3.0'))
catalog_concurrent = int(os.getenv('OZON_CATALOG_MAX_CONCURRENT', '2'))
```

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    parse_ozon_sellers.py                    ‚îÇ
‚îÇ  –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ OzonParser       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              src/parsers/ozon_parser.py                     ‚îÇ
‚îÇ                    parse_seller_catalog()                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                               ‚îÇ
        ‚ñº                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –®–ê–ì 1: –ö–ê–¢–ê–õ–û–ì  ‚îÇ          ‚îÇ  –®–ê–ì 2: SELLER   ‚îÇ
‚îÇ  (–û–°–ù–û–í–ù–û–ô)      ‚îÇ          ‚îÇ  API (–î–û–ü–û–õ–ù.)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                             ‚îÇ
         ‚ñº                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ OzonCatalogAPI   ‚îÇ          ‚îÇ OzonSellerAPI     ‚îÇ
‚îÇ                  ‚îÇ          ‚îÇ                  ‚îÇ
‚îÇ Entrypoint API   ‚îÇ          ‚îÇ /v5/product/      ‚îÇ
‚îÇ (–ø—É–±–ª–∏—á–Ω—ã–π)      ‚îÇ          ‚îÇ info/prices       ‚îÇ
‚îÇ                  ‚îÇ          ‚îÇ                  ‚îÇ
‚îÇ ‚Ä¢ SKU            ‚îÇ          ‚îÇ ‚Ä¢ offer_id       ‚îÇ
‚îÇ ‚Ä¢ –ù–∞–∑–≤–∞–Ω–∏—è       ‚îÇ          ‚îÇ ‚Ä¢ seller_price   ‚îÇ
‚îÇ ‚Ä¢ –¶–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è‚îÇ          ‚îÇ ‚Ä¢ old_price      ‚îÇ
‚îÇ ‚Ä¢ –°–∫–∏–¥–∫–∏         ‚îÇ          ‚îÇ ‚Ä¢ min_price      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                             ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –®–ê–ì 3: –û–ë–™–ï–î–ò–ù–ï–ù–ò–ï  ‚îÇ
              ‚îÇ  –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ SKU ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         ‚ñº
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel  ‚îÇ
              ‚îÇ  (ozon_seller_    ‚îÇ
              ‚îÇ   prices_*.xlsx)  ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **–ê—Ä—Ç–∏–∫—É–ª—ã (SKU) –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞**, –∞ –Ω–µ –∏–∑ —Ñ–∞–π–ª–∞
2. **–û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** - –ø—É–±–ª–∏—á–Ω—ã–π Entrypoint API (—Ü–µ–Ω—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫** - Seller API (—Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–≤—Ü–∞, –∞—Ä—Ç–∏–∫—É–ª—ã –ø—Ä–æ–¥–∞–≤—Ü–∞)
4. **–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç–∞** - –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (curl_cffi ‚Üí Playwright fallback)
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ** - –≤–æ–∑–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
6. **–†–∏—Å–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ cookies
